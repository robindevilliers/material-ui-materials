(()=>{var e={8760:e=>{const t=String.raw`[A-Za-z][^/\s>]*`,r=String.raw`\B"(?:\\[^<>\n]|[^\\"<>\n])*"(?!\w)`,n=String.raw`\B'(?:\\[^<>\n]|[^\\'<>\n])*'(?!\w)`,i=String.raw`${r}|${n}`,s=String.raw`"(?<quotedAttrValue>[^"]*)"`,o=String.raw`'(?<singleQuotedAttrValue>[^']*)'`,a=String.raw`(?<unquotedAttrValue>[^\s"'\`=<>]+)`,u=String.raw`[^=\s>/"']+(?=[=>\s]|$)`,l=String.raw`${s}|${o}|${a}`,c=String.raw`(?<attrName>${u})(?:\s*=\s*(?:${l}))?`,d=String.raw`${i}|[^\s>]*[^\s>/]|[^\s>]*/(?!\s*>)`,p=String.raw`(?<attrSpace>\s*)(?:${c}|(?<attrText>${d}))`,f={comment:String.raw`<!--.*?-->`,dtd:String.raw`<![^>]+>`,startTag:String.raw`<(?<startTagName>${t})(?<attrs>(?:${p})*)\s*(?<closingSlash>/?)\s*>`,endTag:String.raw`</(?<endTagName>${t})\s*>`,space:String.raw`\s+`,text:String.raw`[^<\s"']+|${i}|['"]`,wildcard:String.raw`.`},h=Object.entries(f).map((([e,t])=>`(?<${e}>${t})`)).join("|"),g=new Set(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"]);function m(e,t="  ",r=80){const n=new RegExp(h,"gys"),i=new RegExp(p,"gy"),s=[];let o=null,a=0,u=0,l="",c=0,d="";const f=()=>{if(d&&"\n"!=d){const e=l.indexOf("\n"),t=-1==e?l.length:e;u+d.length+t>r&&(d="\n")}const e="\n"==d&&l?t.repeat(c):"",n=`${d}${e}${l}`;if(n){const e=n.lastIndexOf("\n");-1==e?u+=n.length:u=n.length-e-1,s.push(n)}l=d=""},_=(...e)=>{for(const t of e)!o&&/^\s+$/.test(t)?(f(),d=t):(l||(c=a),l+=t)};for(const t of function*(e,t){let r,{lastIndex:n}=e;for(;r=e.exec(t);)yield r,({lastIndex:n}=e);if(n!=t.length)throw new Error("Failed to parse string")}(n,e)){if(m.__strict&&t.groups.wildcard)throw new Error("Unexpected wildcard");if(t.groups.endTag){const e=t.groups.endTagName.toLowerCase();e==o&&(o=null),o||(--a,_(`</${e}>`))}if(o)_(t[0]);else if(t.groups.space)_(...t[0].match(/\n/g)?.slice(0,2)??[" "]);else if(t.groups.comment||t.groups.dtd||t.groups.text||t.groups.wildcard)_(t[0]);else if(t.groups.startTag){const e=t.groups.startTagName.toLowerCase();if(_(`<${e}`),++a,t.groups.attrs){let e,r,{lastIndex:n}=i;for(;e=i.exec(t.groups.attrs);){if(({lastIndex:n}=i),m.__strict&&e.groups.attrText)throw new Error("Unexpected attr text");e.groups.attrText?(e.groups.attrSpace&&_(/\n/.test(e.groups.attrSpace)?"\n":" "),_(e.groups.attrText)):(!e.groups.attrSpace&&r?.groups.attrText||_(/\n/.test(e.groups.attrSpace)?"\n":" "),_(`${e.groups.attrName}${e.groups.quotedAttrValue?`="${e.groups.quotedAttrValue}"`:e.groups.singleQuotedAttrValue?`='${e.groups.singleQuotedAttrValue}'`:e.groups.unquotedAttrValue?`=${e.groups.unquotedAttrValue}`:""}`)),r=e}if(n!=t.groups.attrs.length)throw new Error("Failed to parse attributes")}const r=Boolean(t.groups.closingSlash);_(r?" />":">"),r||g.has(e)?--a:["pre","textarea","script","style"].includes(e)&&(o=e)}}f();let v=!1;for(;/^\s+$/.test(s[s.length-1]);){const e=s.pop();/\n/.test(e)&&(v=!0)}return v&&s.push("\n"),s.join("")}m.default=m,e.exports=m},7476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FreemarkerError=void 0;class r extends Error{constructor(e,t=void 0){super(e),this.cause=t}}t.FreemarkerError=r},5102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProhibitedError=void 0;const n=r(4970);class i extends n.TemplateError{}t.ProhibitedError=i},7956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceNotFoundError=void 0;const n=r(4970);class i extends n.TemplateError{}t.ReferenceNotFoundError=i},5644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateEngine=void 0;const n=r(843),i=r(2175),s=r(5796),o=r(7692),a=r(8729),u=r(4970),l=r(5102),c=r(3e3),d=["attempt","recover","autoesc","compress","escape","noescape","flush","ftl","function","return","global","import","include","continue","local","macro","nested","return","nooautoesc","noparse","nt","outputformat","settings","stop","t","lt","rt","visit","recurse","fallback"];t.TemplateEngine=class{constructor(){this.expressionEngine=new a.ExpressionEngine}render(e,t){const r=(0,i.parse)(e);return this.consume(r,t)[0]}discard(e){var t;let r=0;for(;e.length;){const n=e.shift();if(n.getType()===s.LexicalTokenType.CLOSE_DIRECTIVE){if("if"===n.getText()||"list"===n.getText()||"assign"===n.getText()||"items"===n.getText()||"switch"===n.getText()){if(!r)return n;r--}}else if(n.getType()===s.LexicalTokenType.OPEN_DIRECTIVE)if("if"===n.getText()||"list"===n.getText()||"items"===n.getText()||"switch"===n.getText())r++;else if("assign"===n.getText())(null===(t=n.getParams())||void 0===t?void 0:t.includes("="))||r++;else if(0===r&&("else"===n.getText()||"elseif"===n.getText()||"case"===n.getText()||"default"===n.getText()))return n}}consume(e,t){const r=new n.StringBuffer;for(;e.length;){const n=e.shift();if(n.getType()===s.LexicalTokenType.TEXT)r.append(n.getText());else if(n.getType()===s.LexicalTokenType.INTERPOLATION)r.append(this.expressionEngine.build(n.getParams(),n.getParamsRow(),n.getParamsColumn()).evaluate(t).retrieve());else if(n.getType()===s.LexicalTokenType.OPEN_DIRECTIVE)if("assign"===n.getText()){const[r,i]=this.handleAssign(n.getParams(),n.getParamsRow(),n.getParamsColumn(),e,t)}else if("if"===n.getText()){const[i,s]=this.handleIf(n.getParams(),n.getParamsRow(),n.getParamsColumn(),e,t);if("if"!==(null==s?void 0:s.getText()))throw new u.TemplateError(n.getRow(),n.getColumn(),"Invalid closing tag for if");r.append(i)}else if("list"===n.getText()){const[i,s]=this.handleList(n.getParams(),n.getParamsRow(),n.getParamsColumn(),e,t);if("list"!==(null==s?void 0:s.getText()))throw new u.TemplateError(n.getRow(),n.getColumn(),"Invalid closing tag for list");r.append(i)}else if("switch"===n.getText()){const[i,s]=this.handleSwitch(n.getParams(),n.getParamsRow(),n.getParamsColumn(),e,t);if("switch"!==(null==s?void 0:s.getText()))throw new u.TemplateError(n.getRow(),n.getColumn(),"Invalid closing tag for switch");r.append(i)}else{if("else"===n.getText())return[r.toString(),n];if("elseif"===n.getText())return[r.toString(),n];if("items"===n.getText())return[r.toString(),n];if("sep"===n.getText())return[r.toString(),n];if("break"===n.getText())return[r.toString(),n];if("case"!==n.getText())throw d.includes(n.getText())?new l.ProhibitedError(n.getRow(),n.getColumn(),`Directive is prohibited '${n.getText()}'`):new u.TemplateError(n.getRow(),n.getColumn(),`Unsupported directive '${n.getText()}'`)}else if(n.getType()===s.LexicalTokenType.CLOSE_DIRECTIVE)return[r.toString(),n]}return[r.toString(),void 0]}processList(e,t,r,i){const s=[...e];let o,a,u,l="";const c=new n.StringBuffer;for(let n=0;n<r.length;n++){const d=Object.assign({},t);if(d[i]=r[n],d[`$${i}$`]=!0,d[`$${i}_index$`]=n,d[`$${i}_length$`]=r.length,a&&c.append(a),o){const e=[...o];let[t,r]=this.consume(e,d);c.append(t),"sep"===(null==r?void 0:r.getText())&&([a,r]=this.consume(e,d),"sep"===(null==r?void 0:r.getText())&&([t,r]=this.consume(e,d),c.append(t)))}else[l,u]=this.consume(e,d),c.append(l),"sep"===(null==u?void 0:u.getText())&&([a,u]=this.consume(e,d),"sep"===(null==u?void 0:u.getText())&&([l,u]=this.consume(e,d),c.append(l))),o=s.slice(0,s.length-e.length-1)}return 0===r.length&&(Object.assign({},t)[i]=void 0,u=this.discard(e)),[c.toString(),u]}processHash(e,t,r,i,s){const o=[...e];let a,u,l,c="";const d=new n.StringBuffer;for(const n in r){const p=r[n],f=Object.assign({},t);if(f[i]=n,f[s]=p,u&&d.append(u),a){const e=[...a];let[t,r]=this.consume(e,f);d.append(t),"sep"===(null==r?void 0:r.getText())&&([u,r]=this.consume(e,f),"sep"===(null==r?void 0:r.getText())&&([t,r]=this.consume(e,f),d.append(t)))}else[c,l]=this.consume(e,f),d.append(c),"sep"===(null==l?void 0:l.getText())&&([u,l]=this.consume(e,f),"sep"===(null==l?void 0:l.getText())&&([c,l]=this.consume(e,f),d.append(c))),a=o.slice(0,o.length-e.length-1)}return 0===Object.keys(r).length&&(Object.assign({},t)[s]=void 0,l=this.discard(e)),[d.toString(),l]}handleList(e,t,r,i,o){const a=new n.StringBuffer;let l,d;if(e.includes(" as ")){const[n,s]=e.split(" as ").map((e=>e.trim())),p=this.expressionEngine.build(n,t,r).evaluate(o).retrieve();if(Array.isArray(p))[l,d]=this.processList(i,o,p,s),a.append(l);else{if(!(0,c.isHash)(p))throw new u.TemplateError(t,r,"'as' operator requires an iterable subject (hash or sequence).");{const[e,t]=s.split(",").map((e=>e.trim()));[l,d]=this.processHash(i,o,p,e,t),a.append(l)}}let f;"else"===(null==d?void 0:d.getText())&&(0===p.length?([f,d]=this.consume(i,o),a.append(f)):d=this.discard(i))}else{const n=this.expressionEngine.build(e,t,r).evaluate(o).retrieve();if(!Array.isArray(n)&&!(0,c.isHash)(n))throw new u.TemplateError(t,r,"list directive requires an iterable subject (sequence or hash).");if(Array.isArray(n)&&n.length||(0,c.isHash)(n)&&Object.keys(n).length){if([l,d]=this.consume(i,o),a.append(l),(null==d?void 0:d.getType())===s.LexicalTokenType.OPEN_DIRECTIVE&&"items"===(null==d?void 0:d.getText()))if(Array.isArray(n)){const[e,t]=d.getParams().split("as").map((e=>e.trim()));[l,d]=this.processList(i,o,n,t),a.append(l)}else if((0,c.isHash)(n)){const[e,t]=null==d?void 0:d.getParams().split("as").map((e=>e.trim())),[r,s]=t.split(",").map((e=>e.trim()));[l,d]=this.processHash(i,o,n,r,s),a.append(l)}(null==d?void 0:d.getType())===s.LexicalTokenType.CLOSE_DIRECTIVE&&"items"===(null==d?void 0:d.getText())&&([l,d]=this.consume(i,o),a.append(l)),"else"===(null==d?void 0:d.getText())&&(d=this.discard(i))}else d=this.discard(i),"else"===(null==d?void 0:d.getText())&&([l,d]=this.consume(i,o),a.append(l));if(d&&"list"!==d.getText())throw new u.TemplateError(d.getColumn(),d.getRow(),"List improperly terminated")}return[a.toString(),d]}handleAssign(e,t,r,n,i){const s=this.expressionEngine.build(e,t,r).evaluate(i);if(s instanceof o.Reference){const[e,t]=this.consume(n,i);return s.assign(e),["",t]}return["",void 0]}handleIf(e,t,r,n,i){let o,a,u;for(this.expressionEngine.build(e,t,r).evaluate(i).retrieve()?([a,u]=this.consume(n,i),o=a):u=this.discard(n);u&&u.getType()===s.LexicalTokenType.OPEN_DIRECTIVE&&"elseif"===u.getText();)this.expressionEngine.build(u.getParams(),u.getRow(),u.getColumn()).evaluate(i).retrieve()&&void 0===o?([a,u]=this.consume(n,i),o=a):u=this.discard(n);return"else"===(null==u?void 0:u.getText())&&(void 0===o?([a,u]=this.consume(n,i),o=a):u=this.discard(n)),[o||"",u]}handleSwitch(e,t,r,i,o){let a;const u=new n.StringBuffer,l=this.expressionEngine.build(e,t,r).evaluate(o).retrieve();let c=i.shift();for(;c&&c.getType()!==s.LexicalTokenType.CLOSE_DIRECTIVE;)if(c.getType()===s.LexicalTokenType.OPEN_DIRECTIVE&&"case"===c.getText())if(l===this.expressionEngine.build(c.getParams(),c.getRow(),c.getColumn()).evaluate(o).retrieve()){for(;c&&c.getType()===s.LexicalTokenType.OPEN_DIRECTIVE&&"case"===c.getText();)[a,c]=this.consume(i,o),u.append(a);for(;c&&c.getType()!==s.LexicalTokenType.CLOSE_DIRECTIVE;)c=this.discard(i)}else c=this.discard(i);else c.getType()===s.LexicalTokenType.OPEN_DIRECTIVE&&"default"===c.getText()?a?c=this.discard(i):([a,c]=this.consume(i,o),u.append(a)):c=i.shift();return[u.toString(),c]}}},4970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateError=void 0;class r extends Error{constructor(e,t,r,n=void 0){super(`(${e+1}:${t+1}) ${r}`),this.cause=n}}t.TemplateError=r},9412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanBuiltin=void 0;const n=r(7692),i=r(947),s=r(4970);class o extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"boolean"===t}evaluate(e,t,r,i){if("true"===e)return n.Literal.of(!0);if("false"===e)return n.Literal.of(!1);throw new s.TemplateError(r,i,"Cannot convert string to boolean")}}t.BooleanBuiltin=o},8222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CapFirstBuiltin=void 0;const n=r(7692),i=r(947),s=r(3297);class o extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"cap_first"===t}evaluate(e,t){let r=0;for(;r<e.length&&(0,s.isWhitespace)(e.charAt(r));)r++;return n.Literal.of(e.slice(0,r)+e.charAt(r).toUpperCase()+e.slice(r+1))}}t.CapFirstBuiltin=o},9850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CapitalizeBuiltin=void 0;const n=r(7692),i=r(947),s=r(3297);class o extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"capitalize"===t}evaluate(e,t){const r=[];let i=!0;for(let t=0;t<e.length;t++){const n=e.charAt(t);i?(r.push(n.toUpperCase()),i=!1):((0,s.isWhitespace)(n)&&(i=!0),r.push(n.toLowerCase()))}return n.Literal.of(r.join(""))}}t.CapitalizeBuiltin=o},1919:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CeilBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"ceil"===t}evaluate(e,t){return n.Literal.of(Math.ceil(e))}}t.CeilBuiltin=s},9491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChopLinebreakBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"chop_linebreak"===t}evaluate(e,t){const r=e.length;return e.length&&"\n"===e.charAt(r-1)?e.length>2&&"\r"===e.charAt(r-2)?n.Literal.of(e.slice(0,r-2)):n.Literal.of(e.slice(0,r-1)):e.length&&"\r"===e.charAt(r-1)?n.Literal.of(e.slice(0,r-1)):n.Literal.of(e)}}t.ChopLinebreakBuiltin=s},7871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"chunk"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve(),s=[];let o;for(let t=0;t<e.length;t++)t%i==0&&(o&&s.push(o),o=[]),o.push(e[t]);return s.push(o),n.Literal.of(s)}}t.ChunkBuiltin=s},2087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainsBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"contains"===t}evaluate(e,t,r){return n.Literal.of(e.includes(t.evaluate(r).retrieve()))}}t.ContainsBuiltin=s},5528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateBuiltin=void 0;const n=r(7692),i=r(947),s=r(7664);class o extends i.NoArgBuiltin{accept(e,t){return("string"==typeof e||(0,s.isDate)(e))&&"date"===t}evaluate(e,t){const r=(0,s.isDate)(e)?e:new Date(e);return r.setHours(0),n.Literal.of(r)}}t.DateBuiltin=o},3111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimeBuiltin=void 0;const n=r(7692),i=r(947),s=r(7664);class o extends i.NoArgBuiltin{accept(e,t){return("string"==typeof e||(0,s.isDate)(e))&&"datetime"===t}evaluate(e,t){return n.Literal.of((0,s.isDate)(e)?e:new Date(e))}}t.DatetimeBuiltin=o},9118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropWhileBuiltin=void 0;const n=r(7692),i=r(8116),s=r(1848),o=r(4970);class a extends i.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"drop_while"===t}evaluate(e,t,r,i,a){const u=[],l=t;if(!(l instanceof s.LambdaExpression))throw new o.TemplateError(i,a,"Invalid argument, only lambda is current supported");let c=0,d=!0;for(;c<e.length;)d&&(d=l.evaluate(Object.assign({$$:e[c]},r)).retrieve()),d||u.push(e[c]),c++;return n.Literal.of(u)}}t.DropWhileBuiltin=a},6218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndsWithBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"ends_with"===t}evaluate(e,t,r){return n.Literal.of(e.endsWith(t.evaluate(r).retrieve()))}}t.EndsWithBuiltin=s},844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnsureEndsWithBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"ensure_ends_with"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve();for(let t=0;t<i.length;t++)if(e.endsWith(i.slice(0,i.length-t)))return n.Literal.of(e+i.slice(i.length-t));return n.Literal.of(e+i)}}t.EnsureEndsWithBuiltin=s},7929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnsureStartsWithBuiltin=void 0;const n=r(7692),i=r(4970);t.EnsureStartsWithBuiltin=class{accept(e,t){return"string"==typeof e&&"ensure_starts_with"===t}calculate(e,t,r,s,o){if(1===t.length){const i=t[0].evaluate(r).retrieve();for(let t=0;t<i.length;t++)if(e.startsWith(i.slice(t)))return n.Literal.of(i.slice(0,t)+e);return n.Literal.of(i+e)}if(2===t.length){const i=t[0].evaluate(r).retrieve(),s=t[1].evaluate(r).retrieve();return n.Literal.of(e.replace(new RegExp(i),s))}throw new i.TemplateError(s,o,"Invalid number of arguments")}}},826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBuiltin=void 0;const n=r(7692),i=r(8116),s=r(1848),o=r(4970);class a extends i.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"filter"===t}evaluate(e,t,r,i,a){const u=[],l=t;if(!(l instanceof s.LambdaExpression))throw new o.TemplateError(i,a,"Invalid argument, only lambda is current supported");let c=0;for(;c<e.length;)l.evaluate(Object.assign({$$:e[c]},r)).retrieve()&&u.push(e[c]),c++;return n.Literal.of(u)}}t.FilterBuiltin=a},3262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirstBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"first"===t}evaluate(e,t){return n.Literal.of(e[0])}}t.FirstBuiltin=s},394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloorBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"floor"===t}evaluate(e,t){return n.Literal.of(Math.floor(e))}}t.FloorBuiltin=s},6291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HasContentBuiltin=void 0;const n=r(7692),i=r(947),s=r(3e3);class o extends i.NoArgBuiltin{accept(e,t){return"has_content"===t}evaluate(e,t,r,i){return null==e?n.Literal.of(!1):Array.isArray(e)?n.Literal.of(e.length>0):(0,s.isHash)(e)?n.Literal.of(Object.keys(e).length>0):"string"==typeof e?n.Literal.of(e.length>0):n.Literal.of(!0)}}t.HasContentBuiltin=o},6703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexOfWithBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"index_of"===t}evaluate(e,t,r){return n.Literal.of(e.indexOf(t.evaluate(r).retrieve()))}}t.IndexOfWithBuiltin=s},4196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsInfiniteBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"is_infinite"===t}evaluate(e,t){return n.Literal.of(!isFinite(e))}}t.IsInfiniteBuiltin=s},4359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNanBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"is_nan"===t}evaluate(e,t){return n.Literal.of(isNaN(e))}}t.IsNanBuiltin=s},8672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoinBuiltin=void 0;const n=r(8116),i=r(7692);class s extends n.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"join"===t}evaluate(e,t,r){const n=t.evaluate(r).retrieve();return i.Literal.of(e.join(n))}}t.JoinBuiltin=s},2775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeepAfterBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"keep_after"===t}evaluate(e,t,r){const i=e.indexOf(t.evaluate(r).retrieve());return i>=0?n.Literal.of(e.substring(i+t.evaluate(r).retrieve().length)):n.Literal.of("")}}t.KeepAfterBuiltin=s},9447:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeepAfterLastBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"keep_after_last"===t}evaluate(e,t,r){const i=e.lastIndexOf(t.evaluate(r).retrieve());return i>=0?n.Literal.of(e.substring(i+t.evaluate(r).retrieve().length)):n.Literal.of("")}}t.KeepAfterLastBuiltin=s},8886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeepBeforeBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"keep_before"===t}evaluate(e,t,r){const i=e.indexOf(t.evaluate(r).retrieve());return i>=0?n.Literal.of(e.substring(0,i)):n.Literal.of("")}}t.KeepBeforeBuiltin=s},6710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeepBeforeLastBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"keep_before_last"===t}evaluate(e,t,r){const i=e.lastIndexOf(t.evaluate(r).retrieve());return i>=0?n.Literal.of(e.substring(0,i)):n.Literal.of("")}}t.KeepBeforeLastBuiltin=s},7736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LastBuiltin=void 0;const n=r(7692),i=r(947),s=r(4970);class o extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"last"===t}evaluate(e,t,r,i){if(e.length)return n.Literal.of(e[e.length-1]);throw new s.TemplateError(r,i,"Sequence is empty, 'last' builtin error")}}t.LastBuiltin=o},27:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LastIndexOfWithBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"last_index_of"===t}evaluate(e,t,r){return n.Literal.of(e.lastIndexOf(t.evaluate(r).retrieve()))}}t.LastIndexOfWithBuiltin=s},1670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftPadBuiltin=void 0;const n=r(7692),i=r(4970);t.LeftPadBuiltin=class{accept(e,t){return"string"==typeof e&&"left_pad"===t}calculate(e,t,r,s,o){if(0===t.length||t.length>2)throw new i.TemplateError(s,o,"Invalid number of arguments");const a=t[0].evaluate(r).retrieve();let u=" ";2===t.length&&(u=t[1].evaluate(r).retrieve());const l=u.repeat(a),c=a-e.length;return c>0?n.Literal.of(l.substring(0,c)+e):n.Literal.of(e)}}},9080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LengthBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"length"===t}evaluate(e,t){return n.Literal.of(e.length)}}t.LengthBuiltin=s},2405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowerAbcBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"lower_abc"===t}evaluate(e,t){const r=[];let i=e;for(;i>0;){let e=(i-1)%26;r.unshift(String.fromCharCode(e+97)),i=(i-(e+1))/26}return n.Literal.of(r.join(""))}}t.LowerAbcBuiltin=s},1987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowerCaseBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"lower_case"===t}evaluate(e,t){return n.Literal.of(e.toLowerCase())}}t.LowerCaseBuiltin=s},5994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapBuiltin=void 0;const n=r(7692),i=r(8116),s=r(1848),o=r(4970);class a extends i.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"map"===t}evaluate(e,t,r,i,a){const u=[],l=t;if(!(l instanceof s.LambdaExpression))throw new o.TemplateError(i,a,"Invalid argument, only lambda is current supported");let c=0;for(;c<e.length;)u.push(l.evaluate(Object.assign({$$:e[c]},r)).retrieve()),c++;return n.Literal.of(u)}}t.MapBuiltin=a},9619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatchesBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"matches"===t}evaluate(e,t,r){return n.Literal.of(null!==e.match("^"+t.evaluate(r).retrieve()+"$"))}}t.MatchesBuiltin=s},4706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"max"===t}evaluate(e,t){if(0===e.length)return n.Literal.of(void 0);let r=Number.MIN_VALUE;for(let t=0;t<e.length;t++)e[t]>r&&(r=e[t]);return n.Literal.of(r)}}t.MaxBuiltin=s},8136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"min"===t}evaluate(e,t){if(0===e.length)return n.Literal.of(void 0);let r=Number.MAX_VALUE;for(let t=0;t<e.length;t++)e[t]<r&&(r=e[t]);return n.Literal.of(r)}}t.MinBuiltin=s},947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoArgBuiltin=void 0;const n=r(4970);t.NoArgBuiltin=class{calculate(e,t,r,i,s){if(0===t.length)return this.evaluate(e,r,i,s);throw new n.TemplateError(i,s,"Invalid number of arguments")}}},5032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"number"===t}evaluate(e,t){return n.Literal.of(Number(e))}}t.NumberBuiltin=s},8116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneArgBuiltin=void 0;const n=r(4970);t.OneArgBuiltin=class{calculate(e,t,r,i,s){if(1===t.length)return this.evaluate(e,t[0],r,i,s);throw new n.TemplateError(i,s,"Invalid number of arguments")}}},3693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveBeginningBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"remove_beginning"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve();return e.startsWith(i)?n.Literal.of(e.slice(i.length)):n.Literal.of(e)}}t.RemoveBeginningBuiltin=s},8257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEndingBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"remove_ending"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve();return e.endsWith(i)?n.Literal.of(e.slice(0,e.length-i.length)):n.Literal.of(e)}}t.RemoveEndingBuiltin=s},5120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceBuiltin=void 0;const n=r(7692),i=r(906);class s extends i.TwoArgBuiltin{accept(e,t){return"string"==typeof e&&"replace"===t}evaluate(e,t,r,i){return n.Literal.of(e.replaceAll(t.evaluate(i).retrieve(),r.evaluate(i).retrieve()))}}t.ReplaceBuiltin=s},8042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReverseBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"reverse"===t}evaluate(e,t){return n.Literal.of(e.reverse())}}t.ReverseBuiltin=s},321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightPadBuiltin=void 0;const n=r(7692),i=r(4970);t.RightPadBuiltin=class{accept(e,t){return"string"==typeof e&&"right_pad"===t}calculate(e,t,r,s,o){if(0===t.length||t.length>2)throw new i.TemplateError(s,o,"Invalid number of arguments");const a=t[0].evaluate(r).retrieve();let u=" ";2===t.length&&(u=t[1].evaluate(r).retrieve());const l=u.repeat(a),c=a-e.length;return c>0?n.Literal.of(e+l.substring(0,c)):n.Literal.of(e)}}},1676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoundBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"round"===t}evaluate(e,t){return n.Literal.of(Math.round(e))}}t.RoundBuiltin=s},7498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeqContainsBuiltin=void 0;const n=r(8116),i=r(7692);class s extends n.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"seq_contains"===t}evaluate(e,t,r){return i.Literal.of(e.includes(t.evaluate(r).retrieve()))}}t.SeqContainsBuiltin=s},140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeqIndexOfBuiltin=void 0;const n=r(8116),i=r(7692);class s extends n.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"seq_index_of"===t}evaluate(e,t,r){return i.Literal.of(e.indexOf(t.evaluate(r).retrieve()))}}t.SeqIndexOfBuiltin=s},4632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeqLastIndexOfBuiltin=void 0;const n=r(8116),i=r(7692);class s extends n.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"seq_last_index_of"===t}evaluate(e,t,r){return i.Literal.of(e.lastIndexOf(t.evaluate(r).retrieve()))}}t.SeqLastIndexOfBuiltin=s},2331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"size"===t}evaluate(e,t){return n.Literal.of(e.length)}}t.SizeBuiltin=s},8060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return Array.isArray(e)&&"sort"===t}evaluate(e,t){return n.Literal.of(e.sort())}}t.SortBuiltin=s},8411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortByBuiltin=void 0;const n=r(8116),i=r(7692),s=r(3e3),o=r(4970);class a extends n.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"sort_by"===t}evaluate(e,t,r,n,a){const u=t.evaluate(r).retrieve();if(e.find((e=>!(0,s.isHash)(e))))throw new o.TemplateError(n,a,"Attempt to use sort_by on array element that is not a hash");return i.Literal.of(e.sort(((e,t)=>e[u]<t[u]?-1:0)))}}t.SortByBuiltin=a},1100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"split"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve();return n.Literal.of(e.split(i))}}t.SplitBuiltin=s},2419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StartsWithBuiltin=void 0;const n=r(7692),i=r(8116);class s extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"starts_with"===t}evaluate(e,t,r){const i=t.evaluate(r).retrieve();return n.Literal.of(e.startsWith(i))}}t.StartsWithBuiltin=s},6491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringBuiltin=void 0;const n=r(7692),i=r(7664),s=r(4970);t.StringBuiltin=class{accept(e,t){return("number"==typeof e||"string"==typeof e||(0,i.isDate)(e)||"boolean"==typeof e)&&"string"===t}calculate(e,t,r,o,a){if("boolean"==typeof e){if(2===t.length){const i=t[0].evaluate(r).retrieve();if("string"!=typeof i)throw new s.TemplateError(o,a,"Invalid argument, string takes string arguments");const u=t[1].evaluate(r).retrieve();if("string"!=typeof u)throw new s.TemplateError(o,a,"Invalid argument, string takes string arguments");return n.Literal.of(e?i:u)}throw new s.TemplateError(o,a,"Invalid number of arguments supplied")}if(0===t.length)return(0,i.isDate)(e)?n.Literal.of(e.toISOString()):n.Literal.of(String(e));throw new s.TemplateError(o,a,"Invalid number of arguments supplied")}}},4012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TakeWhileBuiltin=void 0;const n=r(7692),i=r(8116),s=r(1848),o=r(4970);class a extends i.OneArgBuiltin{accept(e,t){return Array.isArray(e)&&"take_while"===t}evaluate(e,t,r,i,a){const u=[],l=t;if(!(l instanceof s.LambdaExpression))throw new o.TemplateError(i,a,"Invalid argument, only lambda is current supported");let c=0,d=!0;for(;c<e.length;)d&&(d=l.evaluate(Object.assign({$$:e[c]},r)).retrieve()),d&&u.push(e[c]),c++;return n.Literal.of(u)}}t.TakeWhileBuiltin=a},3129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThenBuiltin=void 0;const n=r(906);class i extends n.TwoArgBuiltin{accept(e,t){return"boolean"==typeof e&&"then"===t}evaluate(e,t,r,n){return e?t.evaluate(n):r.evaluate(n)}}t.ThenBuiltin=i},5811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBuiltin=void 0;const n=r(7692),i=r(947),s=r(7664);class o extends i.NoArgBuiltin{accept(e,t){return("string"==typeof e||(0,s.isDate)(e))&&"time"===t}evaluate(e,t){const r=((0,s.isDate)(e)?e:new Date(e)).getTime();return n.Literal.of(new Date(r%864e5))}}t.TimeBuiltin=o},1404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrimBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"trim"===t}evaluate(e,t){return n.Literal.of(e.trim())}}t.TrimBuiltin=s},3926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TruncateBuiltin=void 0;const n=r(7692),i=r(8116),s=r(4970);class o extends i.OneArgBuiltin{accept(e,t){return"string"==typeof e&&"truncate"===t}evaluate(e,t,r,i,o){const a=t.evaluate(r).retrieve();if("number"!=typeof a)throw new s.TemplateError(i,o,"Argument to truncate is not a number");return e.length>a-5?n.Literal.of(e.substring(0,a-5)+"[...]"):n.Literal.of(e)}}t.TruncateBuiltin=o},906:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwoArgBuiltin=void 0;const n=r(4970);t.TwoArgBuiltin=class{calculate(e,t,r,i,s){if(2===t.length)return this.evaluate(e,t[0],t[1],r);throw new n.TemplateError(i,s,"Invalid number of arguments")}}},9515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UncapFirstBuiltin=void 0;const n=r(7692),i=r(947),s=r(3297);class o extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"uncap_first"===t}evaluate(e,t){let r=0;for(;r<e.length&&(0,s.isWhitespace)(e.charAt(r));)r++;return n.Literal.of(e.slice(0,r)+e.charAt(r).toLowerCase()+e.slice(r+1))}}t.UncapFirstBuiltin=o},276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpperAbcBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"number"==typeof e&&"upper_abc"===t}evaluate(e,t){const r=[];let i=e;for(;i>0;){let e=(i-1)%26;r.unshift(String.fromCharCode(e+65)),i=(i-(e+1))/26}return n.Literal.of(r.join(""))}}t.UpperAbcBuiltin=s},2988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpperCaseBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"upper_case"===t}evaluate(e,t){return n.Literal.of(e.toUpperCase())}}t.UpperCaseBuiltin=s},7899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlBuiltin=void 0;const n=r(7692),i=r(947);class s extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"url"===t}evaluate(e,t){return n.Literal.of(encodeURI(e))}}t.UrlBuiltin=s},9564:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WordListBuiltin=void 0;const n=r(7692),i=r(947),s=r(3297);class o extends i.NoArgBuiltin{accept(e,t){return"string"==typeof e&&"word_list"===t}evaluate(e,t){return n.Literal.of(e.split(" ").filter((e=>e.length)).filter((e=>!(0,s.isWhitespace)(e))))}}t.WordListBuiltin=o},47:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){return ce.find((r=>r.accept(e,t)))};const n=r(3129),i=r(2988),s=r(1987),o=r(8222),a=r(9850),u=r(9515),l=r(1404),c=r(9491),d=r(9412),p=r(5528),f=r(3111),h=r(5811),g=r(9080),m=r(2331),_=r(6491),v=r(2087),E=r(6218),T=r(844),b=r(7929),w=r(6703),y=r(27),S=r(2775),x=r(9447),O=r(8886),C=r(6710),A=r(1670),N=r(321),L=r(9619),M=r(5032),R=r(5120),P=r(3693),I=r(8257),B=r(1100),k=r(2419),j=r(3926),D=r(7899),U=r(9564),G=r(4196),$=r(4359),H=r(2405),W=r(276),V=r(1676),F=r(1919),z=r(394),q=r(7871),Q=r(9118),Y=r(826),X=r(3262),K=r(8672),J=r(7736),Z=r(5994),ee=r(8136),te=r(4706),re=r(8042),ne=r(7498),ie=r(140),se=r(4632),oe=r(8060),ae=r(8411),ue=r(4012),le=r(6291),ce=[new n.ThenBuiltin,new i.UpperCaseBuiltin,new s.LowerCaseBuiltin,new o.CapFirstBuiltin,new a.CapitalizeBuiltin,new u.UncapFirstBuiltin,new l.TrimBuiltin,new c.ChopLinebreakBuiltin,new d.BooleanBuiltin,new p.DateBuiltin,new f.DatetimeBuiltin,new h.TimeBuiltin,new g.LengthBuiltin,new m.SizeBuiltin,new _.StringBuiltin,new v.ContainsBuiltin,new E.EndsWithBuiltin,new T.EnsureEndsWithBuiltin,new b.EnsureStartsWithBuiltin,new w.IndexOfWithBuiltin,new y.LastIndexOfWithBuiltin,new S.KeepAfterBuiltin,new x.KeepAfterLastBuiltin,new O.KeepBeforeBuiltin,new C.KeepBeforeLastBuiltin,new A.LeftPadBuiltin,new N.RightPadBuiltin,new L.MatchesBuiltin,new M.NumberBuiltin,new R.ReplaceBuiltin,new P.RemoveBeginningBuiltin,new I.RemoveEndingBuiltin,new B.SplitBuiltin,new k.StartsWithBuiltin,new j.TruncateBuiltin,new D.UrlBuiltin,new U.WordListBuiltin,new G.IsInfiniteBuiltin,new $.IsNanBuiltin,new H.LowerAbcBuiltin,new W.UpperAbcBuiltin,new V.RoundBuiltin,new F.CeilBuiltin,new z.FloorBuiltin,new q.ChunkBuiltin,new Q.DropWhileBuiltin,new Y.FilterBuiltin,new X.FirstBuiltin,new K.JoinBuiltin,new J.LastBuiltin,new Z.MapBuiltin,new ee.MinBuiltin,new te.MaxBuiltin,new re.ReverseBuiltin,new ne.SeqContainsBuiltin,new ie.SeqIndexOfBuiltin,new se.SeqLastIndexOfBuiltin,new oe.SortBuiltin,new ae.SortByBuiltin,new ue.TakeWhileBuiltin,new le.HasContentBuiltin]},8729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEngine=void 0;const n=r(5544),i=r(4970),s=r(1839),o=r(5903),a=r(9792),u=r(5882),l=r(8178),c=r(2778),d=r(9999),p=r(2082),f=r(6012),h=r(4),g=r(2872),m=r(5146),_=r(7310),v=r(6954),E=r(9239),T=r(712),b=r(3034),w=r(1566),y=r(5799),S=r(1502),x=r(1132),O=r(4205),C=r(7858),A=r(6320),N=r(3502),L=r(969),M=r(8718),R=r(858),P=r(2251),I=r(8190),B=r(5806),k=r(5863),j=r(2200),D=r(8520),U=r(8914),G=r(3082),$=r(3776),H=r(6505),W=r(8053),V=r(4517),F=r(4838),z=r(9566),q=r(8467),Q=r(4408),Y=r(1848),X=r(9540),K={"?":2,".":2,"??":2,default:2,"(":2,"[":2,"/":3,"*":3,"%":3,"+":4,"-":4,"..<":5,"..!":5,"..*":5,"..":5,"..*-":5,"..*+":5,not:5,"<":6,">":6,">=":6,"<=":6,"==":7,"!=":7,"&&":8,"||":9,"->":10,"+=":11,"-=":11,"/=":11,"%=":11,"*=":11,"=":11};function J(e){let t,r=e.shift();if(void 0===r)throw new Error("Should never happen");if((null==r?void 0:r.getType())===n.TokenType.CLOSE_HASH)return[void 0,r];if((null==r?void 0:r.getType())===n.TokenType.CLOSE_SEQUENCE)return[void 0,r];if((null==r?void 0:r.getType())===n.TokenType.CLOSE_PARENTHESIS)return[void 0,r];if((null==r?void 0:r.getType())===n.TokenType.OPEN_PARENTHESIS){const s=r.getRow(),o=r.getColumn();if([t,r]=ne(e),(null==r?void 0:r.getType())!=n.TokenType.CLOSE_PARENTHESIS)throw new i.TemplateError(s,o,"Open parenthesis not closed with a close parenthesis");if(void 0===t)throw new i.TemplateError(s,o,"Parenthesis is empty");return[new q.ParenthesisExpression(t,r.getRow(),r.getColumn()),r]}if((null==r?void 0:r.getType())===n.TokenType.PLUS){const[a,u]=J(e);if(void 0===a)throw new i.TemplateError(u.getRow(),u.getColumn(),`Unary operator '${u.getToken()}' expects an expression`);return[new g.PositiveExpression(a,u.getRow(),u.getColumn()),u]}if((null==r?void 0:r.getType())===n.TokenType.MINUS){const[l,c]=J(e);if(void 0===l)throw new i.TemplateError(c.getRow(),c.getColumn(),`Unary operator '${c.getToken()}' expects an expression`);return[new h.NegativeExpression(l,c.getRow(),c.getColumn()),c]}if((null==r?void 0:r.getType())===n.TokenType.BANG){const[d,p]=J(e);if(void 0===d)throw new i.TemplateError(p.getRow(),p.getColumn(),`Unary operator '${p.getToken()}' expects an expression`);return[new m.NotExpression(d,p.getRow(),p.getColumn()),p]}if((null==r?void 0:r.getType())===n.TokenType.REFERENCE)return[new _.ReferenceExpression(r.getToken(),r.getRow(),r.getColumn()),r];if((null==r?void 0:r.getType())===n.TokenType.STRING)return[new v.StringExpression(r.getToken(),r.getRow(),r.getColumn()),r];if((null==r?void 0:r.getType())===n.TokenType.TRUE)return[new E.TrueExpression(r.getRow(),r.getColumn()),r];if((null==r?void 0:r.getType())===n.TokenType.FALSE)return[new T.FalseExpression(r.getRow(),r.getColumn()),r];if((null==r?void 0:r.getType())===n.TokenType.NUMBER)return[new b.NumberExpression(r.getToken(),r.getRow(),r.getColumn()),r];if((null==r?void 0:r.getType())===n.TokenType.OPEN_SEQUENCE){const f=[];let S=r.getRow(),x=r.getColumn();if([t,r]=ne(e),void 0===r)throw new i.TemplateError(S,x,"sequence incorrectly terminated");for(;(null==r?void 0:r.getType())===n.TokenType.COMMA;){if(void 0===t)throw new i.TemplateError(r.getRow(),r.getColumn(),"Expression preceding comma in sequence is empty");if(f.push(t),S=r.getRow(),x=r.getColumn(),[t,r]=ne(e),void 0===r)throw new i.TemplateError(S,x,"sequence incorrectly terminated")}if(t&&f.push(t),(null==r?void 0:r.getType())!==n.TokenType.CLOSE_SEQUENCE)throw new i.TemplateError(r.getRow(),r.getColumn(),"Open sequence missing close sequence");return[new w.SequenceExpression(f),r]}if((null==r?void 0:r.getType())===n.TokenType.OPEN_HASH){let O=r.getRow(),C=r.getColumn();const A={};function N(){if((null==L?void 0:L.getType())!==n.TokenType.STRING)throw new i.TemplateError(O,C,"Hash missing key string");let s=e.shift();if((null==s?void 0:s.getType())!==n.TokenType.COLON)throw new i.TemplateError(O,C,"Hash missing colon separator for key value pair");if([t,r]=ne(e),void 0===t)throw new i.TemplateError(O,C,"Expression for value in hash is empty");A[L.getToken()]=t}let L=e.shift();if((null==L?void 0:L.getType())===n.TokenType.CLOSE_HASH)return[new y.HashExpression(A),r];for(N();(null==r?void 0:r.getType())===n.TokenType.COMMA;)L=e.shift(),N();if((null==r?void 0:r.getType())!==n.TokenType.CLOSE_HASH)throw new i.TemplateError(O,C,"Open has  h missing close hash");return[new y.HashExpression(A),r]}return[void 0,r]}function Z(e){return e.getType()===n.TokenType.BANG||e.getType()===n.TokenType.PLUS||e.getType()===n.TokenType.MINUS||e.getType()===n.TokenType.DIVIDE||e.getType()===n.TokenType.MULTIPLY||e.getType()===n.TokenType.MODULUS||e.getType()===n.TokenType.EQUAL||e.getType()===n.TokenType.NOT_EQUAL||e.getType()===n.TokenType.AND||e.getType()===n.TokenType.OR||e.getType()===n.TokenType.LESS_THAN||e.getType()===n.TokenType.GREATER_THAN||e.getType()===n.TokenType.LESS_THAN_OR_EQUAL||e.getType()===n.TokenType.GREATER_THAN_OR_EQUAL||e.getType()===n.TokenType.ADD_AND_ASSIGN||e.getType()===n.TokenType.SUBTRACT_AND_ASSIGN||e.getType()===n.TokenType.MULTIPLY_AND_ASSIGN||e.getType()===n.TokenType.DIVIDE_AND_ASSIGN||e.getType()===n.TokenType.MODULUS_AND_ASSIGN||e.getType()===n.TokenType.ASSIGN||e.getType()===n.TokenType.DEREFERENCE||e.getType()===n.TokenType.LAMBDA||e.getType()===n.TokenType.RANGE_INCLUSIVE||e.getType()===n.TokenType.RANGE_EXCLUSIVE||e.getType()===n.TokenType.RANGE_LENGTH_DEC||e.getType()===n.TokenType.RANGE_LENGTH_INC}function ee(e,t,r){if(e.getType()===n.TokenType.BANG)return new S.DefaultExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.PLUS)return new o.AdditionExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.MINUS)return new x.SubtractionExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.DIVIDE)return new a.DivisionExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.MULTIPLY)return new O.MultiplicationExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.MODULUS)return new C.ModulusExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.EQUAL)return new s.EqualExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.NOT_EQUAL)return new A.NotEqualExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.AND)return new u.AndExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.OR)return new N.OrExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.LESS_THAN)return new L.LessThanExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.GREATER_THAN)return new M.GreaterThanExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.LESS_THAN_OR_EQUAL)return new R.LessThanOrEqualExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.GREATER_THAN_OR_EQUAL)return new P.GreaterThanOrEqualExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.ADD_AND_ASSIGN)return new I.AddAndAssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.SUBTRACT_AND_ASSIGN)return new B.SubtractAndAssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.MULTIPLY_AND_ASSIGN)return new k.MultiplyAndAssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.DIVIDE_AND_ASSIGN)return new j.DivideAndAssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.MODULUS_AND_ASSIGN)return new D.ModulusAndAssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.ASSIGN)return new c.AssignExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.DEREFERENCE)return new d.DereferenceExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.LAMBDA)return new Y.LambdaExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.RANGE_INCLUSIVE)return new G.RangeInclusiveExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.RANGE_EXCLUSIVE)return new $.RangeExclusiveExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.RANGE_LENGTH_INC)return new H.RangeLengthIncrementExpression(t,r,e.getRow(),e.getColumn());if(e.getType()===n.TokenType.RANGE_LENGTH_DEC)return new W.RangeLengthDecrementExpression(t,r,e.getRow(),e.getColumn());throw new i.TemplateError(e.getRow(),e.getColumn(),`Unknown token type '${e.getType()}'`)}function te(e){let[t,r]=J(e);if(void 0===t)throw new i.TemplateError(r.getRow(),r.getColumn(),"Empty range arguments to slice operator");const s=e.shift();if(s.getType()===n.TokenType.CLOSE_SEQUENCE)return t;const o=e.shift();if(o.getType()===n.TokenType.CLOSE_SEQUENCE&&s.getType()===n.TokenType.RANGE_INCLUSIVE)return new U.RangeStartingExpression(t,s.getRow(),s.getColumn());if(s.getType()===n.TokenType.RANGE_INCLUSIVE)t=new G.RangeInclusiveExpression(t,new b.NumberExpression(o.getToken(),o.getRow(),o.getColumn()),s.getRow(),s.getColumn());else if(s.getType()===n.TokenType.RANGE_EXCLUSIVE)t=new $.RangeExclusiveExpression(t,new b.NumberExpression(o.getToken(),o.getRow(),o.getColumn()),s.getRow(),s.getColumn());else if(s.getType()===n.TokenType.RANGE_LENGTH_INC)t=new H.RangeLengthIncrementExpression(t,new b.NumberExpression(o.getToken(),o.getRow(),o.getColumn()),s.getRow(),s.getColumn());else{if(s.getType()!==n.TokenType.RANGE_LENGTH_DEC)throw new i.TemplateError(s.getRow(),s.getColumn(),"Invalid range specification");t=new W.RangeLengthDecrementExpression(t,new b.NumberExpression(o.getToken(),o.getRow(),o.getColumn()),s.getRow(),s.getColumn())}const a=e.shift();if(a.getType()!==n.TokenType.CLOSE_SEQUENCE)throw new i.TemplateError(a.getRow(),a.getColumn(),"Close sequence expected");return t}function re(e){const t=[];let r,s;for([r,s]=ne(e);(null==s?void 0:s.getType())===n.TokenType.COMMA;){if(!r)throw new i.TemplateError(s.getRow(),s.getColumn(),"Expected expression preceding comma in function arguments");t.push(r),[r,s]=ne(e)}return r&&t.push(r),t}function ne(e){let[t,r]=J(e);if(void 0===t)return[void 0,r];for(;e.length;){const s=e.shift();if(void 0===t)throw new i.TemplateError(s.getRow(),s.getColumn(),"Binary operator expects lhs expression");if(s.getType()===n.TokenType.CLOSE_PARENTHESIS)return[t,s];if(s.getType()===n.TokenType.COMMA)return[t,s];if(s.getType()===n.TokenType.CLOSE_SEQUENCE)return[t,s];if(s.getType()===n.TokenType.CLOSE_HASH)return[t,s];if(s.getType()===n.TokenType.CALL_METHOD){const r=re(e);t=ie(s,t,(e=>new p.CallMethodExpression(e,r,s.getRow(),s.getColumn())));continue}if(s.getType()===n.TokenType.CALL_BUILTIN){const r=e.shift();let i=[];e.length&&e[0].getType()===n.TokenType.CALL_METHOD&&(e.shift(),i=re(e)),t=ie(s,t,(e=>new f.CallBuiltinExpression(e,r.getToken(),i,s.getRow(),s.getColumn())));continue}if(s.getType()===n.TokenType.OPEN_SLICE){const r=te(e);t=ie(s,t,(e=>new V.SliceExpression(e,r,s.getRow(),s.getColumn())));continue}if(s.getType()===n.TokenType.IS_DEFINED){t=new F.IsDefinedExpression(t,s.getRow(),s.getColumn());continue}if(s.getType()===n.TokenType.PLUS_PLUS){t=new z.IncrementExpression(t,s.getRow(),s.getColumn());continue}if(s.getType()===n.TokenType.MINUS_MINUS){t=new l.DecrementExpression(t,s.getRow(),s.getColumn());continue}if(!Z(s)){e.unshift(s);const[r,n]=J(e);t=new Q.AncillaryExpression(t,r,s.getRow(),s.getColumn());continue}let o;if(0===e.length&&s.getType()===n.TokenType.BANG)o=new v.StringExpression("",r.getRow(),r.getColumn());else if([o,r]=J(e),s.getType()===n.TokenType.BANG&&void 0===o&&(e.unshift(r),o=new v.StringExpression("",r.getRow(),r.getColumn())),void 0===o)throw new i.TemplateError(r.getRow(),r.getColumn(),"Binary operator expects rhs expression");t=ie(s,t,(e=>ee(s,e,o)))}return[t,void 0]}function ie(e,t,r){if((0,X.isComposingExpression)(t)&&K[e.getToken()]<K[t.getOperator()]){let n=t,i=n.getSubject();for(;(0,X.isComposingExpression)(i)&&K[e.getToken()]<K[i.getOperator()];)n=i,i=n.getSubject();return n.replaceSubject(r(n.getSubject())),t}return r(t)}t.ExpressionEngine=class{build(e,t,r){const s=(0,n.tokenize)(e,t,r),[o,a]=ne(s);if(void 0===o)throw new i.TemplateError(t,r,"Expression is empty");if(void 0!==a)throw new i.TemplateError(t,r,"Expression terminated incorrectly");return o}}},8190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddAndAssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"+="}evaluate(e){const t=this.lhs.evaluate(e);return t.assign(t.retrieve()+this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.AddAndAssignExpression=s},5903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdditionExpression=void 0;const n=r(3030),i=r(4970),s=r(3e3),o=r(7692);class a extends n.BinaryExpression{getOperator(){return"+"}evaluate(e){const t=this.lhs.evaluate(e).retrieve(),r=this.rhs.evaluate(e).retrieve();if("string"==typeof t||"string"==typeof r)return o.Literal.of(t+r);if("number"==typeof t&&"number"==typeof r)return o.Literal.of(t+r);if(Array.isArray(t)&&Array.isArray(r))return o.Literal.of([...t,...r]);if((0,s.isHash)(t)&&(0,s.isHash)(r))return o.Literal.of(Object.assign(Object.assign({},t),r));throw new i.TemplateError(this.row,this.column,"Invalid operands for addition")}}t.AdditionExpression=a},4408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AncillaryExpression=void 0;const n=r(9540);class i extends n.ComposingExpression{constructor(e,t,r,n){super(t,r,n),this.ancillary=e}evaluate(e){return this.ancillary.evaluate(e),this.subject.evaluate(e)}getOperator(){return"ancilliary"}}t.AncillaryExpression=i},5882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AndExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"&&"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()&&this.rhs.evaluate(e).retrieve())}}t.AndExpression=s},2778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"="}evaluate(e){return this.lhs.evaluate(e).assign(this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.AssignExpression=s},3030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryExpression=void 0;const n=r(9540);class i extends n.ComposingExpression{constructor(e,t,r,n){super(t,r,n),this.lhs=e,this.rhs=t,this.row=r,this.column=n}getSubject(){return this.rhs}replaceSubject(e){this.rhs=e}}t.BinaryExpression=i},6012:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CallBuiltinExpression=void 0;const a=r(4970),u=r(7692),l=o(r(47));t.CallBuiltinExpression=class{constructor(e,t,r,n,i){this.subject=e,this.name=t,this.args=r,this.row=n,this.column=i}evaluate(e){const t=this.subject.evaluate(e);if(t instanceof u.Reference&&Object.keys(e).includes(`$${t.getName()}$`)){if("counter"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"counter builtin requires no arguments");return u.Literal.of(e[`$${t.getName()}_index$`]+1)}if("index"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"index builtin requires no arguments");return u.Literal.of(e[`$${t.getName()}_index$`])}if("has_next"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"has_next builtin requires no arguments");return u.Literal.of(e[`$${t.getName()}_index$`]<e[`$${t.getName()}_length$`]-1)}if("is_last"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"is_last builtin requires no arguments");const r=e[`$${t.getName()}_index$`],n=e[`$${t.getName()}_length$`];return u.Literal.of(r===n-1)}if("is_first"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"is_first builtin requires no arguments");return u.Literal.of(0===e[`$${t.getName()}_index$`])}if("is_even_item"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"is_even_item builtin requires no arguments");return u.Literal.of((e[`$${t.getName()}_index$`]+1)%2==0)}if("is_odd_item"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"is_odd_item builtin requires no arguments");return u.Literal.of(e[`$${t.getName()}_index$`]%2==0)}if("item_cycle"===this.name){if(0===this.args.length)throw new a.TemplateError(this.row,this.column,"item_cycle builtin requires at least one argument");const r=this.args.map((t=>t.evaluate(e).retrieve()));return u.Literal.of(r[e[`$${t.getName()}_index$`]%r.length])}if("item_parity"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"item_parity builtin requires no arguments");return u.Literal.of((e[`$${t.getName()}_index$`]+1)%2==0?"even":"odd")}if("item_parity_cap"===this.name){if(0!==this.args.length)throw new a.TemplateError(this.row,this.column,"item_parity_cap builtin requires no arguments");return u.Literal.of((e[`$${t.getName()}_index$`]+1)%2==0?"Even":"Odd")}throw new a.TemplateError(this.row,this.column,`Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`)}const r=t.retrieve(),n=l.find(r,this.name);if(n)return n.calculate(r,this.args,e,this.row,this.column);throw new a.TemplateError(this.row,this.column,`Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`)}}},2082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallMethodExpression=void 0;const n=r(7310),i=r(4970),s=r(7692),o=r(9999);t.CallMethodExpression=class{constructor(e,t,r,n){this.reference=e,this.args=t,this.row=r,this.column=n}evaluate(e){if(this.reference instanceof n.ReferenceExpression){const t=this.reference.evaluate(e).retrieve();return s.Literal.of(t(...this.args.map((t=>t.evaluate(e).retrieve()))))}if(this.reference instanceof o.DereferenceExpression){const t=this.reference.evaluate(e).retrieve();return s.Literal.of(t(...this.args.map((t=>t.evaluate(e).retrieve()))))}throw new i.TemplateError(this.row,this.column,"Invalid subject of method call, expected reference resolving to a method.")}}},9540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposingExpression=void 0,t.isComposingExpression=function(e){return e instanceof r};class r{constructor(e,t,r){this.subject=e,this.row=t,this.column=r}getSubject(){return this.subject}replaceSubject(e){this.subject=e}}t.ComposingExpression=r},8178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DecrementExpression=void 0;const n=r(7692),i=r(9540);class s extends i.ComposingExpression{evaluate(e){const t=this.subject.evaluate(e),r=t.retrieve();return t.assign(r-1),n.Literal.of(void 0)}getOperator(){return"--"}}t.DecrementExpression=s},1502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultExpression=void 0;const n=r(3030),i=r(7956);class s extends n.BinaryExpression{getOperator(){return"default"}evaluate(e){try{const t=this.lhs.evaluate(e);return void 0===t.retrieve()?this.rhs.evaluate(e):t}catch(t){if(t instanceof i.ReferenceNotFoundError)return this.rhs.evaluate(e);throw t}}}t.DefaultExpression=s},9999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DereferenceExpression=void 0;const n=r(3030),i=r(4970),s=r(3e3),o=r(7692);class a extends n.BinaryExpression{getOperator(){return"."}evaluate(e){const t=this.lhs.evaluate(e).retrieve();if(void 0===t)throw new i.TemplateError(this.row,this.column,"Subject is undefined for dereference operator");if(!(0,s.isHash)(t))throw new i.TemplateError(this.row,this.column,"Invalid subject for dereference operator");const r=this.rhs.evaluate(t).retrieve();return"function"==typeof r?o.Literal.of((function(){return r.call(t,...arguments)})):o.Literal.of(r)}}t.DereferenceExpression=a},2200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DivideAndAssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"/="}evaluate(e){const t=this.lhs.evaluate(e);return t.assign(t.retrieve()/this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.DivideAndAssignExpression=s},9792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DivisionExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"/"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()/this.rhs.evaluate(e).retrieve())}}t.DivisionExpression=s},1839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EqualExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"=="}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()===this.rhs.evaluate(e).retrieve())}}t.EqualExpression=s},712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FalseExpression=void 0;const n=r(7692);t.FalseExpression=class{constructor(e,t){this.row=e,this.column=t}evaluate(e){return n.Literal.of(!1)}}},8718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThanExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return">"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()>this.rhs.evaluate(e).retrieve())}}t.GreaterThanExpression=s},2251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThanOrEqualExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return">="}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()>=this.rhs.evaluate(e).retrieve())}}t.GreaterThanOrEqualExpression=s},5799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashExpression=void 0;const n=r(7692);t.HashExpression=class{constructor(e){this.hash=e}evaluate(e){const t={};for(const[r,n]of Object.entries(this.hash))t[r]=n.evaluate(e).retrieve();return n.Literal.of(t)}}},9566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IncrementExpression=void 0;const n=r(7692),i=r(9540);class s extends i.ComposingExpression{evaluate(e){const t=this.subject.evaluate(e),r=t.retrieve();return t.assign(r+1),n.Literal.of(void 0)}getOperator(){return"++"}}t.IncrementExpression=s},4838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsDefinedExpression=void 0;const n=r(7956),i=r(7692),s=r(9540);class o extends s.ComposingExpression{evaluate(e){try{const t=this.subject.evaluate(e).retrieve();return i.Literal.of(!(null==t))}catch(e){if(e instanceof n.ReferenceNotFoundError)return i.Literal.of(!1);throw e}}getOperator(){return"??"}}t.IsDefinedExpression=o},1848:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LambdaExpression=void 0;const n=r(3030);class i extends n.BinaryExpression{getOperator(){return"->"}evaluate(e){const t=Object.assign({},e);return this.lhs.evaluate(t).assign(e.$$),this.rhs.evaluate(t)}}t.LambdaExpression=i},969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LessThanExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"<"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()<this.rhs.evaluate(e).retrieve())}}t.LessThanExpression=s},858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LessThanOrEqualExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"<"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()<=this.rhs.evaluate(e).retrieve())}}t.LessThanOrEqualExpression=s},8520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulusAndAssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"%="}evaluate(e){const t=this.lhs.evaluate(e);return t.assign(t.retrieve()%this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.ModulusAndAssignExpression=s},7858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModulusExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"%"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()%this.rhs.evaluate(e).retrieve())}}t.ModulusExpression=s},4205:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplicationExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"*"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()*this.rhs.evaluate(e).retrieve())}}t.MultiplicationExpression=s},5863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplyAndAssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"*="}evaluate(e){const t=this.lhs.evaluate(e);return t.assign(t.retrieve()*this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.MultiplyAndAssignExpression=s},4:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NegativeExpression=void 0;const n=r(7692),i=r(9540);class s extends i.ComposingExpression{evaluate(e){return n.Literal.of(-1*this.subject.evaluate(e).retrieve())}getOperator(){return"-"}}t.NegativeExpression=s},6320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotEqualExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"!="}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()!=this.rhs.evaluate(e).retrieve())}}t.NotEqualExpression=s},5146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotExpression=void 0;const n=r(7692),i=r(9540);class s extends i.ComposingExpression{evaluate(e){return n.Literal.of(!this.subject.evaluate(e).retrieve())}getOperator(){return"not"}}t.NotExpression=s},3034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberExpression=void 0;const n=r(7692);t.NumberExpression=class{constructor(e,t,r){this.subject=e,this.row=t,this.column=r}evaluate(e){return n.Literal.of(Number(this.subject))}}},3502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"||"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()||this.rhs.evaluate(e).retrieve())}}t.OrExpression=s},8467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParenthesisExpression=void 0;const n=r(9540);class i extends n.ComposingExpression{evaluate(e){return this.subject.evaluate(e)}getOperator(){return"("}}t.ParenthesisExpression=i},2872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositiveExpression=void 0;const n=r(9540);class i extends n.ComposingExpression{evaluate(e){return this.subject.evaluate(e)}getOperator(){return"+"}}t.PositiveExpression=i},3776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeExclusiveExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return".."}evaluate(e){const t=[],r=this.lhs.evaluate(e).retrieve(),n=this.rhs.evaluate(e).retrieve();if(r<n)for(let e=r;e<n;e++)t.push(e);else if(r>n)for(let e=r;e>n;e--)t.push(e);else t.push(r);return i.Literal.of(t)}}t.RangeExclusiveExpression=s},3082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeInclusiveExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return".."}evaluate(e){const t=[],r=this.lhs.evaluate(e).retrieve(),n=this.rhs.evaluate(e).retrieve();if(r<n)for(let e=r;e<=n;e++)t.push(e);else if(r>n)for(let e=r;e>=n;e--)t.push(e);else t.push(r);return i.Literal.of(t)}}t.RangeInclusiveExpression=s},8053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeLengthDecrementExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return".."}evaluate(e){const t=[],r=this.lhs.evaluate(e).retrieve(),n=this.rhs.evaluate(e).retrieve();for(let e=0;e<n;e++)t.push(r-e);return i.Literal.of(t)}}t.RangeLengthDecrementExpression=s},6505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeLengthIncrementExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return".."}evaluate(e){const t=[],r=this.lhs.evaluate(e).retrieve(),n=this.rhs.evaluate(e).retrieve();for(let e=0;e<n;e++)t.push(r+e);return i.Literal.of(t)}}t.RangeLengthIncrementExpression=s},8914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeStartingExpression=void 0;const n=r(9540);class i extends n.ComposingExpression{evaluate(e){return this.subject.evaluate(e)}getOperator(){return"["}}t.RangeStartingExpression=i},7310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferenceExpression=void 0;const n=r(7692);t.ReferenceExpression=class{constructor(e,t,r){this.reference=e,this.row=t,this.column=r}evaluate(e){return n.Reference.of(this.reference,e)}}},1566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceExpression=void 0;const n=r(7692);t.SequenceExpression=class{constructor(e){this.elements=e}evaluate(e){return n.Literal.of(this.elements.map((t=>t.evaluate(e).retrieve())))}}},4517:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliceExpression=void 0;const n=r(4970),i=r(8914),s=r(6505),o=r(8053),a=r(3e3),u=r(7692),l=r(3030);class c extends l.BinaryExpression{evaluate(e){const t=this.lhs.evaluate(e).retrieve(),r=this.rhs.evaluate(e).retrieve(),l=this.rhs instanceof s.RangeLengthIncrementExpression||this.rhs instanceof o.RangeLengthDecrementExpression;if(Array.isArray(t)){if(this.rhs instanceof i.RangeStartingExpression)return u.Literal.of(t.slice(r));if(Array.isArray(r)){const e=[];for(const i of r)if(i>=0&&i<t.length)e.push(t[i]);else if(!l)throw new n.TemplateError(this.row,this.column,"Invalid index for slice");return u.Literal.of(e)}if("number"==typeof r)return u.Literal.of(t[r]);throw new n.TemplateError(this.row,this.column,"Unsupported arg of slice")}if((0,a.isHash)(t)){if("string"==typeof r)return u.Literal.of(t[r]);throw new n.TemplateError(this.row,this.column,"Unsupported arg of slice when applied to hash")}if("string"==typeof t){if(this.rhs instanceof i.RangeStartingExpression)return u.Literal.of(t.slice(r));if(Array.isArray(r)){const e=[];for(const i of r)if(i>=0&&i<t.length)e.push(t.charAt(i));else if(!l)throw new n.TemplateError(this.row,this.column,"Invalid index for slice");return u.Literal.of(e.join(""))}if("number"==typeof r)return u.Literal.of(t.charAt(r));throw new n.TemplateError(this.row,this.column,"Unsupported arg of slice")}throw new n.TemplateError(this.row,this.column,"Unsupported subject of slice")}getOperator(){return"slice"}}t.SliceExpression=c},6954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringExpression=void 0;const n=r(7692),i=r(843),s=r(8729);var o;!function(e){e[e.OPEN=0]="OPEN",e[e.INTERPOLATION=1]="INTERPOLATION"}(o||(o={})),t.StringExpression=class{constructor(e,t,r){this.str=e,this.row=t,this.column=r}evaluate(e){const t=new i.StringBuffer(this.str,this.row,this.column);let r,a,u=new i.StringBuffer,l=new i.StringBuffer,c=o.OPEN;for(;t.hasNext();){let n=t.next();if(c===o.OPEN){if(l.append(n.getString()),l.endsWith("${")){a=n.getRow(),r=n.getColumn();const e=l.toString();u.append(e.substring(0,e.length-2)),c=o.INTERPOLATION,l=new i.StringBuffer}}else if(c===o.INTERPOLATION)if("}"===n.getString()){const t=l.toString(),n=(new s.ExpressionEngine).build(t,a,r).evaluate(e).retrieve();u.append(String(n)),c=o.OPEN,l=new i.StringBuffer}else l.append(n.getString())}return u.append(l.toString()),n.Literal.of(u.toString())}}},5806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtractAndAssignExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"-="}evaluate(e){const t=this.lhs.evaluate(e);return t.assign(t.retrieve()-this.rhs.evaluate(e).retrieve()),i.Literal.of(void 0)}}t.SubtractAndAssignExpression=s},1132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtractionExpression=void 0;const n=r(3030),i=r(7692);class s extends n.BinaryExpression{getOperator(){return"-"}evaluate(e){return i.Literal.of(this.lhs.evaluate(e).retrieve()-this.rhs.evaluate(e).retrieve())}}t.SubtractionExpression=s},9239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrueExpression=void 0;const n=r(7692);t.TrueExpression=class{constructor(e,t){this.row=e,this.column=t}evaluate(e){return n.Literal.of(!0)}}},7692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reference=t.Literal=void 0;class r{constructor(e){this.value=e}assign(e){throw new Error("Invalid assignment target")}retrieve(){return this.value}static of(e){return new r(e)}}t.Literal=r;class n{constructor(e,t){this.name=e,this.data=t}assign(e){this.data[this.name]=e}retrieve(){return this.data[this.name]}getName(){return this.name}static of(e,t){return new n(e,t)}}t.Reference=n},5544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TokenType=void 0,t.tokenize=function(e,r=0,c=0){const d=new n.StringBuffer(e,r,c);let p=0,f=new n.StringBuffer;const h=[];function g(e,r){function n(t,n){return h.push(new l(n,t,e,r-t.length)),i.substring(t.length)}let i=f.toString();if(5!==p)for(;i.length;)if(i.startsWith("..*-"))i=n("..*-",t.TokenType.RANGE_LENGTH_DEC);else if(i.startsWith("..*+"))i=n("..*+",t.TokenType.RANGE_LENGTH_INC);else if(i.startsWith("..*"))i=n("..*",t.TokenType.RANGE_LENGTH_INC);else if(i.startsWith("..<"))i=n("..<",t.TokenType.RANGE_EXCLUSIVE);else if(i.startsWith("..!"))i=n("..<",t.TokenType.RANGE_EXCLUSIVE);else if(i.startsWith("=="))i=n("==",t.TokenType.EQUAL);else if(i.startsWith("+="))i=n("+=",t.TokenType.ADD_AND_ASSIGN);else if(i.startsWith("++"))i=n("++",t.TokenType.PLUS_PLUS);else if(i.startsWith("-="))i=n("-=",t.TokenType.SUBTRACT_AND_ASSIGN);else if(i.startsWith("--"))i=n("--",t.TokenType.MINUS_MINUS);else if(i.startsWith("/="))i=n("/=",t.TokenType.DIVIDE_AND_ASSIGN);else if(i.startsWith("%="))i=n("%=",t.TokenType.MODULUS_AND_ASSIGN);else if(i.startsWith("*="))i=n("*=",t.TokenType.MULTIPLY_AND_ASSIGN);else if(i.startsWith("->"))i=n("->",t.TokenType.LAMBDA);else if(i.startsWith("!="))i=n("!=",t.TokenType.NOT_EQUAL);else if(i.startsWith("<="))i=n("<=",t.TokenType.LESS_THAN_OR_EQUAL);else if(i.startsWith("&gt;"))i=n(">",t.TokenType.GREATER_THAN);else if(i.startsWith("&lt;"))i=n("<",t.TokenType.LESS_THAN);else if(i.startsWith("lt"))i=n("<",t.TokenType.LESS_THAN);else if(i.startsWith("lte"))i=n("<=",t.TokenType.LESS_THAN_OR_EQUAL);else if(i.startsWith("gt"))i=n(">",t.TokenType.GREATER_THAN);else if(i.startsWith("gte"))i=n(">=",t.TokenType.GREATER_THAN_OR_EQUAL);else if(i.startsWith(">="))i=n(">=",t.TokenType.GREATER_THAN_OR_EQUAL);else if(i.startsWith("&gt;"))i=n(">=",t.TokenType.GREATER_THAN_OR_EQUAL);else if(i.startsWith(".."))i=n("..",t.TokenType.RANGE_INCLUSIVE);else if(i.startsWith("??"))i=n("??",t.TokenType.IS_DEFINED);else if(i.startsWith("||"))i=n("||",t.TokenType.OR);else if(i.startsWith("&&"))i=n("&&",t.TokenType.AND);else if(i.startsWith("&amp;&amp;"))i=n("&&",t.TokenType.AND);else if(i.startsWith("true"))i=n("true",t.TokenType.TRUE);else if(i.startsWith("false"))i=n("false",t.TokenType.FALSE);else if(i.startsWith("="))i=n("=",t.TokenType.ASSIGN);else if(i.startsWith("!"))i=n("!",t.TokenType.BANG);else if(i.startsWith("+"))i=n("+",t.TokenType.PLUS);else if(i.startsWith("-"))i=n("-",t.TokenType.MINUS);else if(i.startsWith("/"))i=n("/",t.TokenType.DIVIDE);else if(i.startsWith("*"))i=n("*",t.TokenType.MULTIPLY);else if(i.startsWith("%"))i=n("%",t.TokenType.MODULUS);else if(i.startsWith(">"))i=n(">",t.TokenType.GREATER_THAN);else if(i.startsWith("<"))i=n("<",t.TokenType.LESS_THAN);else{if(!i.startsWith("?")){h.length&&h[h.length-1].getType()===t.TokenType.CALL_BUILTIN?h.push(new l(t.TokenType.BUILTIN,i,e,r-i.length)):h.push(new l(t.TokenType.REFERENCE,i,e,r-i.length));break}i=n("?",t.TokenType.CALL_BUILTIN)}else{if(isNaN(Number(i)))throw new u.TemplateError(e,r,"Invalid number");h.push(new l(t.TokenType.NUMBER,i,e,r-i.length))}}function m(){p=0,f=new n.StringBuffer}let _=null,v=!1,E=!1,T=!1;for(;d.hasNext();){let e=d.next();if(3===p)if(v){if('"'==e.getString())f.append('"');else if("'"==e.getString())f.append("'");else if("{"===e.getString())f.append("{");else if("="===e.getString())f.append("=");else if("\\"===e.getString())f.append("\\");else if("n"===e.getString())f.append("\n");else if("r"===e.getString())f.append("\r");else if("t"===e.getString())f.append("\t");else if("b"===e.getString())f.append("\b");else if("f"===e.getString())f.append("\f");else if("l"===e.getString())f.append("<");else if("g"===e.getString())f.append(">");else if("a"===e.getString())f.append("&");else{if("x"!==e.getString())throw new u.TemplateError(e.getRow(),e.getColumn(),`Unsupported escape sequence '\\${e.getString()}'`);f.append("\\x")}v=!1}else if("\\"===e.getString())v=!0;else if(e.getString()===_){const r=f.toString();h.push(new l(t.TokenType.STRING,r,e.getRow(),e.getColumn()-r.length-1)),m()}else f.append(e.getString());else if(4===p)if(e.getString()===_){const r=f.toString();h.push(new l(t.TokenType.STRING,r,e.getRow(),e.getColumn()-r.length-2)),m()}else f.append(e.getString());else if((0,i.isWhitespace)(e.getString()))g(e.getRow(),e.getColumn()),m();else if("("===e.getString())g(e.getRow(),e.getColumn()),2===p?h.push(new l(t.TokenType.CALL_METHOD,"(",e.getRow(),e.getColumn())):h.push(new l(t.TokenType.OPEN_PARENTHESIS,"(",e.getRow(),e.getColumn())),m();else if("["===e.getString())g(e.getRow(),e.getColumn()),2===p?h.push(new l(t.TokenType.OPEN_SLICE,"[",e.getRow(),e.getColumn())):h.push(new l(t.TokenType.OPEN_SEQUENCE,"[",e.getRow(),e.getColumn())),m();else if("{"===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.OPEN_HASH,"{",e.getRow(),e.getColumn())),m();else if(","===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.COMMA,",",e.getRow(),e.getColumn())),m();else if(":"===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.COLON,":",e.getRow(),e.getColumn())),m();else if(")"===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.CLOSE_PARENTHESIS,")",e.getRow(),e.getColumn())),m();else if("]"===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.CLOSE_SEQUENCE,"]",e.getRow(),e.getColumn())),m();else if("}"===e.getString())g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.CLOSE_HASH,"}",e.getRow(),e.getColumn())),m();else if(2===p)"."===e.getString()?(g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.DEREFERENCE,".",e.getRow(),e.getColumn())),m()):'"'===e.getString()&&"r"===f.toString()?(p=4,_='"',f=new n.StringBuffer):"'"===e.getString()&&"r"===f.toString()?(p=4,_="'",f=new n.StringBuffer):((0,o.isAlphanumeric)(e.getString())||"_"===e.getString()||(g(e.getRow(),e.getColumn()),p=1,f=new n.StringBuffer),f.append(e.getString()));else if('"'===e.getString())g(e.getRow(),e.getColumn()),_='"',p=3,f=new n.StringBuffer;else if("'"===e.getString())g(e.getRow(),e.getColumn()),_="'",p=3,f=new n.StringBuffer;else if(1===p)(0,s.isAlphabetic)(e.getString())?(g(e.getRow(),e.getColumn()),p=2,f=new n.StringBuffer,f.append(e.getString())):(0,a.isNumeric)(e.getString())?(g(e.getRow(),e.getColumn()),p=5,f=new n.StringBuffer,f.append(e.getString())):f.append(e.getString());else if(5===p)if(T)"."===e.getString()?(g(e.getRow(),e.getColumn()-1),p=1,E=!1,T=!1,f=new n.StringBuffer,f.append("."),f.append(e.getString())):(T=!1,f.append("."),f.append(e.getString()));else if("."===e.getString()){if(E)throw new u.TemplateError(e.getRow(),e.getColumn(),"Invalid decimal point, decimal point already processed");E=!0,T=!0}else(0,a.isNumeric)(e.getString())?(T=!1,f.append(e.getString())):(0,s.isAlphabetic)(e.getString())?(g(e.getRow(),e.getColumn()),p=2,f=new n.StringBuffer,f.append(e.getString())):(g(e.getRow(),e.getColumn()),p=1,f=new n.StringBuffer,f.append(e.getString()));else"."===e.getString()?(g(e.getRow(),e.getColumn()),h.push(new l(t.TokenType.DEREFERENCE,".",e.getRow(),e.getColumn())),m()):(0,s.isAlphabetic)(e.getString())?(p=2,f.append(e.getString())):(0,a.isNumeric)(e.getString())?(p=5,E=!1,T=!1,f.append(e.getString())):"."===e.getString()?(g(e.getRow(),e.getColumn()),f=new n.StringBuffer,f.append("."),p=2):(p=1,f.append(e.getString()))}if(3===p||4===p)throw new u.TemplateError(r,c,"Unclosed string");return g(d.getRow(),d.getColumn()),h};const n=r(843),i=r(3297),s=r(5783),o=r(1487),a=r(6521),u=r(4970);t.TokenType={EQUAL:"EQUAL",NOT_EQUAL:"NOT_EQUAL",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUAL:"LESS_THAN_OR_EQUAL",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUAL:"GREATER_THAN_OR_EQUAL",OR:"OR",AND:"AND",BANG:"BANG",REFERENCE:"REFERENCE",BUILTIN:"BUILTIN",GLOBAL_VARIABLE:"GLOBAL_VARIABLE",TRUE:"TRUE",FALSE:"FALSE",STRING:"STRING",NUMBER:"NUMBER",OPEN_PARENTHESIS:"OPEN_PARENTHESIS",CLOSE_PARENTHESIS:"CLOSE_PARENTHESIS",OPEN_SEQUENCE:"OPEN_SEQUENCE",CLOSE_SEQUENCE:"CLOSE_SEQUENCE",OPEN_SLICE:"OPEN_SLICE",OPEN_HASH:"OPEN_HASH",CLOSE_HASH:"CLOSE_HASH",COMMA:"COMMA",COLON:"COLON",ASSIGN:"ASSIGN",ADD_AND_ASSIGN:"ADD_AND_ASSIGN",SUBTRACT_AND_ASSIGN:"SUBTRACT_AND_ASSIGN",MULTIPLY_AND_ASSIGN:"MULTIPLY_AND_ASSIGN",DIVIDE_AND_ASSIGN:"DIVIDE_AND_ASSIGN",MODULUS_AND_ASSIGN:"MODULUS_AND_ASSIGN",PLUS:"PLUS",MINUS:"MINUS",MULTIPLY:"MULTIPLY",DIVIDE:"DIVIDE",MODULUS:"MODULUS",RANGE_INCLUSIVE:"RANGE_INCLUSIVE",RANGE_EXCLUSIVE:"RANGE_EXCLUSIVE",RANGE_LENGTH_INC:"RANGE_LENGTH_INC",RANGE_LENGTH_DEC:"RANGE_LENGTH_DEC",DEREFERENCE:"DEREFERENCE",CALL_BUILTIN:"CALL_BUILTIN",CALL_METHOD:"CALL_METHOD",IS_DEFINED:"IS_DEFINED",LAMBDA:"LAMBDA",PLUS_PLUS:"PLUS_PLUS",MINUS_MINUS:"MINUS_MINUS"};class l{constructor(e,t,r,n){this.type=e,this.token=t,this.row=r,this.column=n}getType(){return this.type}getToken(){return this.token}getRow(){return this.row}getColumn(){return this.column}}t.Token=l},7100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LexicalToken=void 0,t.LexicalToken=class{constructor(e,t,r,n,i,s,o){this.type=e,this.column=t,this.row=r,this.text=n,this.params=i,this.paramsRow=s,this.paramsColumn=o}getType(){return this.type}getRow(){return this.row}getColumn(){return this.column}getText(){return this.text}getParams(){return this.params}getParamsRow(){return this.paramsRow}getParamsColumn(){return this.paramsColumn}}},5796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LexicalTokenType=void 0,t.LexicalTokenType={OPEN_DIRECTIVE:"OPEN_DIRECTIVE",CLOSE_DIRECTIVE:"CLOSE_DIRECTIVE",TEXT:"TEXT",INTERPOLATION:"INTERPOLATION"}},2175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){const t=[];let r=new i.StringBuffer,u=0,l=0;const c=new i.StringBuffer(e);for(;c.hasNext();){let e=c.next();if(r.append(e.getString()),r.endsWith("</#")){const a=r.toString();for(a.length-3&&(t.push(new n.LexicalToken(s.LexicalTokenType.TEXT,u,l,a.substring(0,a.length-3),void 0)),u=e.getColumn()-2,l=e.getRow()),r=new i.StringBuffer;c.hasNext()&&(e=c.next(),!(0,o.isWhitespace)(e.getString())&&">"!==e.getString());)r.append(e.getString());const d=r.toString();if(r=new i.StringBuffer,(0,o.isWhitespace)(e.getString()))for(;c.hasNext()&&(e=c.next(),">"!==e.getString());)r.append(e.getString());t.push(new n.LexicalToken(s.LexicalTokenType.CLOSE_DIRECTIVE,u,l,d,r.toString())),r=new i.StringBuffer,u=e.getColumn()+1,l=e.getRow()}else if(r.endsWith("<#")){const a=r.toString();for(a.length-2&&(t.push(new n.LexicalToken(s.LexicalTokenType.TEXT,u,l,a.substring(0,a.length-2))),u=e.getColumn()-1,l=e.getRow()),r=new i.StringBuffer;c.hasNext()&&(e=c.next(),!(0,o.isWhitespace)(e.getString())&&">"!==e.getString());)r.append(e.getString());const d=r.toString();let p,f;if(r=new i.StringBuffer,(0,o.isWhitespace)(e.getString())){let t=!0;for(p=e.getRow(),f=e.getColumn();c.hasNext();){if(e=c.next(),t){if((0,o.isWhitespace)(e.getString()))continue;p=e.getRow(),f=e.getColumn()}if(t=!1,">"===e.getString())break;if('"'===e.getString())for(r.append(e.getString());c.hasNext();){if(e=c.next(),"\\"===e.getString())r.append(e.getString()),c.hasNext()&&(e=c.next());else if('"'===e.getString())break;r.append(e.getString())}r.append(e.getString())}}t.push(new n.LexicalToken(s.LexicalTokenType.OPEN_DIRECTIVE,u,l,d,r.toString(),p,f)),r=new i.StringBuffer,u=e.getColumn()+1,l=e.getRow()}else if(r.endsWith("${")){const d=r.toString();d.length-2&&(t.push(new n.LexicalToken(s.LexicalTokenType.TEXT,u,l,d.substring(0,d.length-2),void 0)),u=e.getColumn()-1,l=e.getRow()),r=new i.StringBuffer,u=e.getColumn()-1,l=e.getRow();let p,f,h=!0,g=!1,m=a.OPEN;for(;c.hasNext();){if(e=c.next(),h){if((0,o.isWhitespace)(e.getString()))continue;h=!1,p=e.getRow(),f=e.getColumn()}if(m===a.OPEN){if('"'===e.getString())m=g?a.RAW_STRING:a.STRING,g=!1;else if("r"===e.getString())g=!0;else{if("}"===e.getString())break;g=!1}r.append(e.getString())}else m===a.RAW_STRING?('"'===e.getString()&&(m=a.OPEN),r.append(e.getString())):m===a.STRING&&("\\"===e.getString()?c.hasNext()&&(e=c.next(),r.append(e.getString())):'"'===e.getString()&&(m=a.OPEN),r.append(e.getString()))}t.push(new n.LexicalToken(s.LexicalTokenType.INTERPOLATION,u,l,"",r.toString(),p,f)),r=new i.StringBuffer,u=e.getColumn()+1,l=e.getRow()}}const d=r.toString();return d.length&&t.push(new n.LexicalToken(s.LexicalTokenType.TEXT,u,l,d,void 0)),t};const n=r(7100),i=r(843),s=r(5796),o=r(3297);var a;!function(e){e[e.OPEN=0]="OPEN",e[e.STRING=1]="STRING",e[e.RAW_STRING=2]="RAW_STRING"}(a||(a={}))},665:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=r(9518),l=o(r(6760)),c=o(r(9896)),d=a(r(8689)),p=r(5644),f=a(r(9086)),h=a(r(8760)),g=a(r(6184)),m=r(7476),_=r(2116).version("1.0.0","-v, --version").usage("[OPTIONS]...").option("-d, --dir <value>","Specifies location of the materials.","./").option("-o, --output <value>","Specifies location of the output.","./html").option("-s, --page <value>","Specifies a single page to process.").parse(process.argv).opts();c.existsSync(l.join(process.env.INIT_CWD,_.output))||c.mkdirSync(l.join(process.env.INIT_CWD,_.output));const v=c.readFileSync(l.join(process.env.INIT_CWD,_.dir,"class-mappings.properties"),"utf8"),E=new d.default(v),T=JSON.parse(c.readFileSync(l.join(process.env.INIT_CWD,_.dir,"plantain-substitutions.json"),"utf8"));function b(e,t,r,n){c.readdir(l.join(process.env.INIT_CWD,_.dir,e),(function(i,s){if(i)return console.log("Unable to scan directory: "+i);s.forEach((function(i){if(_.page&&i!==_.page)return;f.default.clear(),console.log("processing "+i);const s=T[i]||{},o=(0,u.parse)(c.readFileSync(l.join(process.env.INIT_CWD,_.dir,e,i),"utf8")),a=new g.default(E,s,_.dir).renderElement(o.root),d=c.readFileSync(l.join(process.env.INIT_CWD,_.dir,r),"utf8");try{const e=(new p.TemplateEngine).render(d,{body:a,title:o.root.attributes.title,authenticated:!1});c.writeFileSync(l.join(process.env.INIT_CWD,_.output,i.replaceAll(t,`${n}.html`)),(0,h.default)(e))}catch(e){throw new m.FreemarkerError("Error processing ftl template 'main.ftl'",e)}}))}))}b("pages",".page.xml","main.ftl",""),b("emails",".email.xml","email.ftl","-email")},8347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(843);t.default=class{constructor(e){this.classMappings=e,this.classes=[]}toString(){const e=new n.StringBuffer;let t=!1;for(const r of this.classes){const n=r.trim();if(n.length>0){t&&e.append(" ");const r=this.classMappings.get(n);r?e.append(r):e.append(n),t=!0}}return e.toString()}add(e){this.classes.push(e)}append(e,t,r){this.classes.push(e?t+e.trim().toLowerCase():r)}}},8689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.data={},e.split("\n").forEach((e=>{const t=e.indexOf("=");if(t>-1){const r=e.substring(0,t);this.data[r]=e.substring(t+1)}}))}get(e){return this.data[e]}}},956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderError=void 0;class r extends Error{}t.RenderError=r},6184:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(233)),o=r(9321),a=r(7476),u=n(r(9896)),l=n(r(6760)),c=r(5644),d=r(843);t.default=class{constructor(e,t,r){this.classMappings=e,this.substitutions=t,this.dir=r}renderElement(e,t){e.attributes.id||(e.attributes.id=(0,s.default)());const r=(0,o.findRenderer)(e.name);if(void 0===r)throw new a.FreemarkerError("No renderer found for "+e.name);return r.render(e,this.classMappings,this,this.substitutions,t)}renderChildren(e){const t=new d.StringBuffer;return e.children.forEach((r=>{(0,i.isText)(r)?t.append((0,i.escapeString)(r.text)):(0,i.isElement)(r)&&t.append(this.renderElement(r,e))})),t.toString()}render(e,t){const r=u.default.readFileSync(l.default.join(process.env.INIT_CWD,this.dir,"partials",e),"utf8");try{return(new c.TemplateEngine).render(r,t)}catch(t){throw new a.FreemarkerError(`Error processing ftl template '${e}'`,t)}}}},4199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flexContainerSupport=function(e,t,r){const i={display:"flex"};r.padding&&(i.padding=r.padding),r.orientation&&(i["flex-direction"]=r.orientation.toLowerCase().replaceAll("_","-")),r.justifyContent&&("START"===r.justifyContent?i["justify-content"]="flex-start":"END"===r.justifyContent?i["justify-content"]="flex-end":"CENTER"===r.justifyContent?i["justify-content"]="center":"SPACE_BETWEEN"===r.justifyContent?i["justify-content"]="space-between":"SPACE_AROUND"===r.justifyContent&&(i["justify-content"]="space-around")),r.alignItems&&("START"===r.alignItems?i["align-items"]="flex-start":"END"===r.alignItems?i["align-items"]="flex-end":"CENTER"===r.alignItems?i["align-items"]="center":"BASELINE"===r.alignItems?i["align-items"]="baseline":"STRETCH"===r.alignItems&&(i["align-items"]="stretch")),r.alignContent&&("START"===r.alignContent?i["align-content"]="flex-start":"END"===r.alignContent?i["align-content"]="flex-end":"CENTER"===r.alignContent?i["align-content"]="center":"BASELINE"===r.alignContent?i["align-content"]="baseline":"STRETCH"===r.alignContent&&(i["align-content"]="stretch")),r.wrap&&(i["flex-wrap"]=r.wrap.toLowerCase().replaceAll("_","-"));const s=new n.StringBuffer;for(const[e,t]of Object.entries(i))s.append(`${e}: ${t};`);e.containerStyles=s.toString()};const n=r(843)},5793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const i={};r.padding&&(i.padding=r.padding),r.margin&&(i.margin=r.margin),r.flexBasis&&(i["flex-basis"]=r.flexBasis),r.flexGrow&&(i["flex-grow"]=r.flexGrow),r.flexShrink&&(i["flex-shrink"]=r.flexShrink),r.alignSelf&&("START"===r.alignSelf?i["align-self"]="flex-start":"END"===r.alignSelf?i["align-self"]="flex-end":"CENTER"===r.alignSelf?i["align-self"]="center":"BASELINE"===r.alignSelf?i["align-self"]="baseline":"STRETCH"===r.alignSelf&&(i["align-self"]="stretch")),r.height&&(i.height=r.height),r.width&&(i.width=r.width),r.borderRadius&&(i["border-radius"]=r.borderRadius),r.backgroundFlavour&&t.append(r.backgroundFlavour,"bg-","");const s=new n.StringBuffer;for(const[e,t]of Object.entries(i))s.append(`${e}: ${t};`);e.itemStyles=s.toString()};const n=r(843)},5718:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(8347));t.default=class{accept(e){return"accordion-item-header"===e}render(e,t,r,n,a){const u={};u.id=a.attributes.id,u.active="true"===(null==a?void 0:a.attributes.active),u.size=e.attributes.size;const l=new o.default(t);return(0,s.textStyleSupport)(u,e,t),u.classes=l.toString(),u.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("accordion-item-header.ftl",u)}}},6959:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347)),o=r(9518),a=r(843);t.default=class{accept(e){return"accordion-item"===e}render(e,t,r,n,u){const l={};l.id=e.attributes.id,l.active="true"===e.attributes.active,l.singleActive="true"===(null==u?void 0:u.attributes.singleActive),l.accordionId=null==u?void 0:u.attributes.id,l.size=e.attributes.size;const c=new a.StringBuffer;e.children.forEach((t=>{(0,o.isText)(t)?c.append(t.text):(0,o.isElement)(t)&&("accordion-item-header"===t.name?l.header=r.renderElement(t,e):c.append(r.renderElement(t,e)))})),l.content=c.toString();const d=new s.default(t);return d.append(e.attributes.backgroundFlavour,"bg-",""),(0,i.flexContainerSupport)(l,d,e.attributes),l.classes=d.toString(),r.render("accordion-item.ftl",l)}}},8908:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(956);t.default=class{accept(e){return"accordion"===e}render(e,t,r){if(!e.attributes.v)throw new o.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.flush="true"===e.attributes.flush,n.content=r.renderChildren(e);const a=new s.default(t);return(0,i.default)(n,a,e.attributes),n.classes=a.toString(),r.render("accordion.ftl",n)}}},3925:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=n(r(9086)),a=r(956);t.default=class{accept(e){return"back-link"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.testMode=o.default.isTestContext();const u=new s.default(t);return(0,i.default)(n,u,e.attributes),n.classes=u.toString(),r.render("back-link.ftl",n)}}},953:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347)),u=r(956);t.default=class{accept(e){return"badge"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.size=e.attributes.size;const l=new a.default(t);return l.append(e.attributes.flavour,"badge-","badge-default"),(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,l,e.attributes),n.classes=l.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("badge.ftl",n)}}},7750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{accept(e){return"br"===e}render(e,t,r){return r.render("br.ftl",{})}}},5942:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347)),u=n(r(9086)),l=r(956);t.default=class{accept(e){return"button"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.size=e.attributes.size,n.disabled=null,n.name="_NAME_",n.testMode=u.default.isTestContext(),n.runningWizardTest=!1;const c=new a.default(t);return c.append(e.attributes.size,"btn-",""),c.append(e.attributes.buttonFlavour,"btn-","btn-default"),(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,c,e.attributes),n.classes=c.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("button.ftl",n)}}},5444:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"card-body"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("card-body.ftl",n)}}},2343:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"card-footer"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("card-footer.ftl",n)}}},4277:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"card-header"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("card-header.ftl",n)}}},584:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(9518),a=r(843),u=n(r(9086)),l=r(956),c=n(r(233));t.default=class{accept(e){return"card"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.type=e.attributes.type,"page"===e.attributes.type?u.default.isTestContext()?n.href="javascript:alert(&quot;link was clicked&quot;); event.preventDefault();":n.href="/"+e.attributes.page:"url"===e.attributes.type?n.href=e.attributes.url:"workflow"===e.attributes.type&&(n._csrf=(0,c.default)(),n.action="/workflow/initiate/"+e.attributes.workflow),n.rel="","true"===e.attributes.openNewWindow&&(n.target="_blank");const d=new a.StringBuffer;e.children.forEach((t=>{(0,o.isText)(t)?d.append(t.text):(0,o.isElement)(t)&&("card-header"===t.name?n.headerContent=r.renderElement(t,e):"image"===t.name?n.imageContent=r.renderElement(t,e):"card-body"===t.name?n.bodyContent=r.renderElement(t,e):"card-footer"===t.name&&(n.footerContent=r.renderElement(t,e)))})),n.showCasePrincipalPicker="true"===e.attributes.showCasePrincipalPicker;const p=new s.default(t);return p.append(e.attributes.flavour,"card-","card-default"),(0,i.default)(n,p,e.attributes),n.classes=p.toString(),n.testMode=u.default.isTestContext(),r.render("card.ftl",n)}}},5354:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"carousel-panel"===e}render(e,t,r,n,o){const a={};a.id=e.attributes.id,a.content=r.renderChildren(e),a.active="true"===e.attributes.active,a.interval=e.attributes.interval,a.src="/public/img/"+e.attributes.src,a.carouselId=null==o?void 0:o.attributes.id;const u=new s.default(t);return(0,i.flexContainerSupport)(a,u,e.attributes),a.classes=u.toString(),r.render("carousel-panel.ftl",a)}}},9748:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(9518),a=r(956);t.default=class{accept(e){return"carousel"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,o.isElement)(e))).map((e=>e)).filter((e=>"carousel-panel"===e.name));let u=n.findIndex((e=>"true"===e.attributes.active));-1===u&&n.length&&(n[0].attributes.active="true",u=0);const l={};l.id=e.attributes.id,l.content=r.renderChildren(e),l.autoSlide="true"===e.attributes.autoSlide,l.controls="true"===e.attributes.controls,l.indicators="true"===e.attributes.indicators,l.numberOfIndicators=n.length,l.activeIndex=u||0;const c=new s.default(t);return(0,i.default)(l,c,e.attributes),l.classes=c.toString(),r.render("carousel.ftl",l)}}},5598:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"cell"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("cell.ftl",n)}}},9708:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(8347));t.default=class{accept(e){return"column"===e}render(e,t,r){const n={};n.id=e.attributes.id,e.attributes.width&&(n.columnStyles=`width: ${e.attributes.width}; `);const a=new o.default(t);return(0,s.textStyleSupport)(n,e,t),n.classes=a.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("column.ftl",n)}}},571:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=n(r(233)),a=n(r(9086)),u=r(956);t.default=class{accept(e){return"confirmation-panel"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n._csrf=(0,o.default)();const l=new s.default(t);return(0,i.default)(n,l,e.attributes),n.classes=l.toString(),n.action="/authenticate-second-stage",n.testMode=a.default.isTestContext(),n.user={firstName:"Toddy",lastName:"Anchor"},n.securityPhrase="Once upon a midnight dreary",n.securityImage="/public/img/temp0.jpg",n.firstPasswordPhraseIndex="2",n.secondPasswordPhraseIndex="5",n.thirdPasswordPhraseIndex="8",n.errors={firstCharacter:"Please supply a character",secondCharacter:"Please supply a character",thirdCharacter:"Please supply a character"},r.render("confirmation-panel.ftl",n)}}},220:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(956),o=n(r(233)),a=n(r(8347)),u=r(7861),l=n(r(5793)),c=n(r(9086));t.default=class{accept(e){return"continue-operation-button"===e}render(e,t,r,n,d){if(!e.attributes.v)throw new s.RenderError("Version attribute 'v' not configured against element: "+e.name);const p={};p.id=e.attributes.id,p._csrf=(0,o.default)(),p.size=e.attributes.size,p.disabled=null,p.action="/continue-operation/"+(0,o.default)(),p.type="ACCEPT";const f=new a.default(t);return f.append(e.attributes.buttonFlavour,"btn-","btn-default"),f.append(e.attributes.size,"btn-",""),(0,u.textStyleSupport)(p,e,t),(0,l.default)(p,f,e.attributes),p.classes=f.toString(),p.testMode=c.default.isTestContext(),p.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("operation-button.ftl",p)}}},1634:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=n(r(233)),a=n(r(9086));t.default=class{accept(e){return"cookie-consent"===e}render(e,t,r){const n={};n.id=e.attributes.id,n._csrf=(0,o.default)();const u=new s.default(t);return(0,i.default)(n,u,e.attributes),n.classes=u.toString(),n.action="/allow-cookies",n.testMode=a.default.isTestContext(),r.render("cookie-consent.ftl",n)}}},2977:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"div"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const u=new o.default(t);return(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("div.ftl",n)}}},63:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=r(7861),a=n(r(8347)),u=n(r(9086)),l=r(956);t.default=class{accept(e){return"email-confirmation-link"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.href="javascript:alert(&quot;link was clicked&quot;); event.preventDefault();",n.testMode=u.default.isTestContext();const c=new a.default(t);return(0,o.textStyleSupport)(n,e,t),(0,s.default)(n,c,e.attributes),n.classes=c.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("email-confirmation-link.ftl",n)}}},4730:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"email"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("email.ftl",n)}}},6539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(9518),a=r(956),u=r(7861);t.default=class{accept(e){return"enumeration-input"===e}render(e,t,r,n,l){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const c={};c.id=e.attributes.id,c.value="",c.disabled=null,c.type=e.attributes.type,c.name=e.attributes.reference,c.size=e.attributes.size,c.style=e.attributes.style,c.cardinality=e.attributes.cardinality,c.content=r.renderChildren(e.children.find((e=>(0,o.isElement)(e)&&"textual"===e.name)));const d=e.children.filter((e=>(0,o.isElement)(e))).map((e=>e)).filter((e=>"value"===e.name));"MULTIPLE_SELECT"===e.attributes.cardinality?c.value=d.filter((e=>"true"===e.attributes.default)).map((e=>e.attributes.key)):c.value=d.filter((e=>"true"===e.attributes.default)).map((e=>e.attributes.key)).find((e=>!0))||null,c.panels=d.find((e=>"true"===e.attributes.panel)),c.values=d.map((t=>({key:t.attributes.key,label:t.attributes.label,panel:r.renderElement(t,e)}))),c.error="Enumeration error message";const p=new s.default(t);return(0,u.textStyleSupport)(c,e,t),(0,i.default)(c,p,e.attributes),c.classes=p.toString(),r.render("enumeration.ftl",c)}}},36:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347));t.default=class{accept(e){return"error-summary"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.errors={one:"Error message one",two:"Error message two"};const o=new s.default(t);return(0,i.default)(n,o,e.attributes),n.classes=o.toString(),r.render("error-summary.ftl",n)}}},2626:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086)),s=n(r(8704));t.default=class{accept(e){return"fake-group"===e}render(e,t,r){return i.default.addGroup(new s.default(e.attributes.name,e.attributes.title,e.attributes.description,e.attributes.has?e.attributes.has.split(","):[])),r.renderChildren(e)}}},6666:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086)),s=n(r(7308)),o=n(r(233));t.default=class{accept(e){return"fake-message"===e}render(e,t,r){return i.default.addMessage(new s.default((0,o.default)(),e.attributes.dateTime,(0,o.default)(),e.attributes.kaseId,e.attributes.wizardId,e.attributes.workflowId,e.attributes.group,e.attributes.queue,e.attributes.principal,(0,o.default)(),(new Date).getTime())),r.renderChildren(e)}}},2884:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086)),s=n(r(5684));t.default=class{accept(e){return"fake-page"===e}render(e,t,r){return i.default.addPage(new s.default(e.attributes.name,e.attributes.version,e.attributes.group,e.attributes.title,e.attributes.description)),r.renderChildren(e)}}},9782:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5368)),s=n(r(9086));t.default=class{accept(e){return"fake-queue"===e}render(e,t,r){return s.default.addQueue(new i.default(e.attributes.name,e.attributes.title,e.attributes.description)),r.renderChildren(e)}}},9884:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086));t.default=class{accept(e){return"fake-store"===e}render(e,t,r){return i.default.clear(),i.default.setTestContext(),r.renderChildren(e)}}},8104:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(8656)),s=n(r(9086));t.default=class{accept(e){return"fake-user"===e}render(e,t,r){return s.default.addUser(new i.default(e.attributes.username,e.attributes.title,e.attributes.firstName,e.attributes.lastName,e.attributes.email,e.attributes.contactNumber,e.attributes.dateOfBirth,e.attributes.timezone,e.attributes.groups.split(":").filter((e=>e.trim().length)),e.attributes.userData)),r.renderChildren(e)}}},9616:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086)),s=n(r(4232));t.default=class{accept(e){return"fake-wizard"===e}render(e,t,r){return i.default.addWizard(new s.default(e.attributes.name,e.attributes.version,e.attributes.title,e.attributes.description,"true"===e.attributes.active,"true"===e.attributes.released)),r.renderChildren(e)}}},1894:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(9086)),s=n(r(6510));t.default=class{accept(e){return"fake-workflow"===e}render(e,t,r){return i.default.addWorkflow(new s.default(e.attributes.name,e.attributes.version,e.attributes.group,e.attributes.title,e.attributes.description)),r.renderChildren(e)}}},6182:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(956),o=n(r(9086)),a=n(r(233)),u=n(r(8347)),l=n(r(5793)),c=r(843);t.default=class{accept(e){return"folder"===e}render(e,t,r){if(!e.attributes.v)throw new s.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,i.isElement)(e))).map((e=>e)),d=n.find((e=>"header"===e.name)),p=o.default.getMessages().map((t=>{const i=new c.StringBuffer;for(let t=0;t<n.length;t++){const s=n[t];"header"!=s.name&&i.append(r.renderElement(s,e))}return{wipId:t.getWipId(),wizardId:t.getWizardId(),workflowId:t.getWorkflowId(),html:i.toString()}})),f={};f.id=e.attributes.id,f._csrf=(0,a.default)(),f.header=d?r.renderElement(d,e):"",f.values=p;const h=new u.default(t);return(0,l.default)(f,h,e.attributes),f.classes=h.toString(),f.testMode=o.default.isTestContext(),f.pageSize=20,f.currentPage=2,f.previousPage=1,f.nextPage=3,f.offeredPages=[1,2,3,4,5,6,7,8,9,10],r.render("folder.ftl",f)}}},8496:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"form"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),n.action="#",r.render("form.ftl",n)}}},1619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9518),i=r(7861);t.default=class{accept(e){return"header"===e}render(e,t,r,s,o){const a={};return a.id=e.attributes.id,(0,i.textStyleSupport)(a,e,t),a.content=r.renderChildren(e.children.find((e=>(0,n.isElement)(e)&&"textual"===e.name))),r.render("header.ftl",a)}}},1408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{accept(e){return"horizontal-rule"===e}render(e,t,r){return r.render("horizontal-rule.ftl",{})}}},1007:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(956);t.default=class{accept(e){return"icon"===e}render(e,t,r){if(!e.attributes.v)throw new o.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.name=e.attributes.name,n.size=e.attributes.size;const a=new s.default(t);return a.append(e.attributes.flavour,"icon-","icon-default"),a.append(e.attributes.size,"icon-size-","icon-size-medium"),(0,i.default)(n,a,e.attributes),n.classes=a.toString(),r.render("icon.ftl",n)}}},3795:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(956);t.default=class{accept(e){return"image"===e}render(e,t,r){if(!e.attributes.v)throw new o.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.src="/public/img/"+e.attributes.src,n.alt=e.attributes.alt||"";let a="";"padding"in e.attributes&&(a+="padding: "+e.attributes.padding+"; "),"margin"in e.attributes&&(a+="margin: "+e.attributes.margin+"; "),"border"in e.attributes&&(a+="border: "+e.attributes.border+"; "),"borderRadius"in e.attributes&&(a+="border-radius: "+e.attributes.borderRadius+"; "),"objectFit"in e.attributes&&(a+="object-fit: "+e.attributes.objectFit+"; "),"object-position"in e.attributes&&(a+="object-position: "+e.attributes.objectPosition+"; "),"opacity"in e.attributes&&(a+="opacity: "+e.attributes.opacity+"; "),"background"in e.attributes&&(a+="background: "+e.attributes.background+"; "),n.imageStyles=a;const u=new s.default(t);return(0,i.default)(n,u,e.attributes),n.classes=u.toString(),r.render("image.ftl",n)}}},3774:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347)),u=r(956);t.default=class{accept(e){return"input"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.value="",n.disabled=null,n.type=e.attributes.type,n.name=e.attributes.reference,n.min=e.attributes.min,n.max=e.attributes.max,n.cols=e.attributes.cols,n.rows=e.attributes.rows,n.size=e.attributes.size,n.maxLength=e.attributes.maxLength,n.currencySymbol="CURRENCY"===e.attributes.type?"":null,n.error="Input error message",n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name)));const l=new a.default(t);return(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,l,e.attributes),n.classes=l.toString(),r.render("input.ftl",n)}}},7176:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"inset-text"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const u=new o.default(t);return u.append(e.attributes.flavour,"inset-text-","inset-text-default"),(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("inset-text.ftl",n)}}},3662:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"jumbotron"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const u=new o.default(t);return(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("jumbotron.ftl",n)}}},9170:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=r(7861),a=n(r(9086)),u=n(r(8347)),l=r(956);t.default=class{accept(e){return"link"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id;const c=new u.default(t);return(0,s.default)(n,c,e.attributes),(0,o.textStyleSupport)(n,e,t),n.classes=c.toString(),n.testMode=a.default.isTestContext(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),a.default.isTestContext()?n.href="javascript:alert(&quot;link was clicked&quot;); event.preventDefault();":e.attributes.view?n.href="/"+e.attributes.view:(n.href=e.attributes.url,n.rel="noreferrer noopener",n.target=e.attributes.openNewWindow?"_blank":null),r.render("link.ftl",n)}}},1157:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"list-item"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.listStyle=e.attributes.listStyle||"BULLET",n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("list-item.ftl",n)}}},4506:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"list"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);for(var n of e.children)(0,i.isElement)(n)&&(n.attributes.listStyle=e.attributes.listStyle);const u={};u.id=e.attributes.id,u.listStyle=e.attributes.listStyle||"BULLET",u.content=r.renderChildren(e);const l=new o.default(t);return(0,s.default)(u,l,e.attributes),u.classes=l.toString(),r.render("list.ftl",u)}}},3483:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=n(r(233)),a=n(r(9086)),u=r(956);t.default=class{accept(e){return"login-panel"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n._csrf=(0,o.default)(),n.enableRegistration=!0,n.enablePrivacyPolicyAgreementOnLogin=!0;const l=new s.default(t);return(0,i.default)(n,l,e.attributes),n.classes=l.toString(),n.action="/authenticate",n.testMode=a.default.isTestContext(),n.errors={username:"Please supply the username",password:"Please supply the password",acceptPrivacyPolicy:"Please accept the privacy policy",global:"Authentication failed"},r.render("login-panel.ftl",n)}}},5048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(843),i=r(956);t.default=class{accept(e){return"loop"===e}render(e,t,r,s){if(!e.attributes.v)throw new i.RenderError("Version attribute 'v' not configured against element: "+e.name);const o=new n.StringBuffer;if(!(e.attributes.reference in s))throw new i.RenderError(`No substitution found for plantain expression ${e.attributes.reference}`);{let t=s[e.attributes.reference].value;if(!Array.isArray(t))throw new i.RenderError(`Expected array for substitution ${e.attributes.reference}`);e.attributes.reverse&&(t=t.reverse());for(const n of t)s["."]={value:n},o.append(r.renderChildren(e))}return o.toString()}}},4186:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347));t.default=class{accept(e){return"menu-brand"===e}render(e,t,r){const n={};n.id=e.attributes.id;const u=new a.default(t);return(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,u,e.attributes),n.classes=u.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("menu-brand.ftl",n)}}},4234:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(8347)),a=n(r(233)),u=n(r(9086));t.default=class{accept(e){return"menu-item"===e}render(e,t,r,n,l){const c="sub-menu"===l.name;c&&(l.attributes.hasContent="true");const d={};d.id=e.attributes.id,d._csrf=(0,a.default)(),d.type=e.attributes.type,d.disabled=null,d.action="/workflow/initiate/"+e.attributes.workflow,d.link="#",d.isInSubMenu=c,d.showCasePrincipalPicker="true"===e.attributes.showCasePrincipalPicker;const p=new o.default(t);return p.append(e.attributes.flavour,"text-","text-default"),(0,s.textStyleSupport)(d,e,t),d.classes=p.toString(),d.testMode=u.default.isTestContext(),d.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("menu-item.ftl",d)}}},6093:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(9518),u=r(843),l=r(956);t.default=class{accept(e){return"menu"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,a.isElement)(e))).map((e=>e)),c=n.find((e=>"menu-brand"===e.name));let d=c?r.renderElement(c,e):"";const p=n.filter((e=>"menu-item"===e.name||"sub-menu"===e.name)),f=new u.StringBuffer;for(const t of p)f.append(r.renderElement(t,e));let h="";"HORIZONTAL"===e.attributes.axis&&(h=p.length>5?"navbar-expand-lg":p.length>3?"navbar-expand-md":"navbar-expand-sm");const g={};g.id=e.attributes.id,g.menuBrand=d,g.axis=e.attributes.axis||"VERTICAL",g.content=f.toString();const m=new o.default(t);return m.add(h),(0,i.default)(g,m,e.attributes),(0,s.flexContainerSupport)(g,m,e.attributes),g.classes=m.toString(),r.render("menu.ftl",g)}}},1266:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(9086)),o=n(r(8347)),a=n(r(233)),u=r(956);t.default=class{accept(e){return"message-explorer"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=s.default.getMessages().map((e=>{const[t,r]=e.getWizardId().split(":"),n=s.default.getWizards().find((e=>e.getName()===t&&e.getVersion()===r)),[i,o,u]=e.getWorkflowId().split(":"),l=s.default.getWorkflows().find((e=>e.getGroup()===i&&e.getName()===o&&e.getVersion()===u));return{id:(0,a.default)(),wipId:e.getWipId(),kaseId:e.getKaseId(),wizardId:e.getWizardId(),wizardTitle:null==n?void 0:n.getTitle(),wizardDescription:null==n?void 0:n.getDescription(),workflowId:e.getWorkflowId(),workflowTitle:null==l?void 0:l.getTitle(),workflowDescription:null==l?void 0:l.getDescription(),date:e.getDateTime().substring(0,10),dateTime:e.getDateTime(),principal:e.getPrincipal(),group:e.getGroup(),queue:e.getQueue(),action:"/"+e.getWipId(),payload:""}})),l={};l.id=e.attributes.id,l._csrf=(0,a.default)(),l.bust=(0,a.default)(),l.values=n,l.wizard="",l.queue="",l.workflow="",l.principal="",l.groups=["public, authenticated"],l.startIndex="0",l.endIndex=String(Number.MAX_VALUE),l.action="#"+l.bust,l.workflows=s.default.getWorkflows().map((e=>({id:e.getGroup()+":"+e.getName()+":"+e.getVersion(),title:e.getTitle()}))),l.wizards=s.default.getWizards().map((e=>({id:e.getName()+":"+e.getVersion(),title:e.getTitle()}))),l.queues=s.default.getQueues();const c=new o.default(t);return(0,i.default)(l,c,e.attributes),l.classes=c.toString(),l.testMode=s.default.isTestContext(),r.render("message-explorer.ftl",l)}}},9972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(8347)),s=r(9518);t.default=class{accept(e){return"mile-stone"===e}render(e,t,r,n,o){const a=o.children.filter((e=>(0,s.isElement)(e))).map((e=>e)).filter((e=>e.name="mile-stone")),u=a.length,l=a.findIndex((t=>t===e));let c="";"NUMBERED"===o.attributes.mileStoneStyle?c=""+(l+1):"PERCENT"===o.attributes.mileStoneStyle&&(c=Math.floor(l/u*100)+"%");const d={};d.id=e.attributes.id,d.label=e.attributes.label,d.active="true"===e.attributes.active,d.mileStoneStyle=o.attributes.mileStoneStyle,d.labelSide=o.attributes.labelSide,d.content=r.renderChildren(e),d.tag=c;const p=new i.default(t);return p.append(e.attributes.mileStoneStyle,"milestone-style-",""),p.append(e.attributes.labelSide,"label-side-",""),d.classes=p.toString(),r.render("mile-stone.ftl",d)}}},4855:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"notification-banner"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.title=e.attributes.title,n.flavour=e.attributes.flavour,n.content=r.renderChildren(e);const u=new o.default(t);return u.append(e.attributes.flavour,"notification-banner-","notification-banner-default"),(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("notification-banner.ftl",n)}}},475:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(233)),u=n(r(8347)),l=n(r(9086)),c=r(956);t.default=class{accept(e){return"operation-button"===e}render(e,t,r,n,d){if(!e.attributes.v)throw new c.RenderError("Version attribute 'v' not configured against element: "+e.name);const p={};p.id=e.attributes.id,p._csrf=(0,a.default)(),p.size=e.attributes.size,p.disabled=null,p.action="/operation/"+(0,a.default)(),p.pageDocumentId="test:test:1",p.buttonId="a1234",p.payload="";const f=new u.default(t);return f.append(e.attributes.buttonFlavour,"btn-","btn-default"),f.append(e.attributes.size,"btn-",""),(0,s.textStyleSupport)(p,e,t),(0,o.default)(p,f,e.attributes),p.classes=f.toString(),p.testMode=l.default.isTestContext(),p.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("operation-button.ftl",p)}}},8169:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"page"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return(0,i.flexContainerSupport)(n,o,e.attributes),n.classes=o.toString(),r.render("page.ftl",n)}}},6866:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(843),s=r(956),o=n(r(233));t.default=class{accept(e){return"pagination"===e}render(e,t,r,n){if(!e.attributes.v)throw new s.RenderError("Version attribute 'v' not configured against element: "+e.name);const a=new i.StringBuffer;if(!(e.attributes.reference in n))throw new s.RenderError(`No substitution found for plantain expression ${e.attributes.reference}`);a.append(r.renderChildren(e));let u=(0,o.default)();return r.render("pagination.ftl",{id:(0,o.default)(),_csrf:(0,o.default)(),bust:u,action:"#"+u,content:a.toString(),noContent:!0,pageSize:20,currentPage:2,previousPage:1,nextPage:3,offeredPages:[1,2,3,4,5,6,7,8,9,10]})}}},5968:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(8347)),a=r(7861),u=r(956);t.default=class{accept(e){return"paragraph"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.paragraphStyle=e.attributes.paragraphStyle||"PLAIN";const l=new o.default(t);return(0,s.default)(n,l,e.attributes),(0,a.textStyleSupport)(n,e,t),n.classes=l.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("paragraph.ftl",n)}}},5350:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(8347)),a=n(r(9086)),u=r(956),l=r(7861);t.default=class{accept(e){return"password-reset-link"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.href="javascript:alert(&quot;link was clicked&quot;); event.preventDefault();",n.testMode=a.default.isTestContext();const c=new o.default(t);return(0,l.textStyleSupport)(n,e,t),(0,s.default)(n,c,e.attributes),n.classes=c.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("password-reset-link.ftl",n)}}},3638:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"progress-bar"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,i.isElement)(e))).map((e=>e)).filter((e=>"mile-stone"===e.name));n.length&&(n[0].attributes.active="true");const u={};u.id=e.attributes.id,u.axis=e.attributes.axis,u.size=e.attributes.size,u.content=r.renderChildren(e);const l=new o.default(t);return l.append(e.attributes.flavour,"progress-bar-","progress-bar-default"),l.append(e.attributes.axis,"progress-bar-axis-",""),l.append(e.attributes.labelSide,"progress-bar-label-side-",""),(0,s.default)(u,l,e.attributes),u.classes=l.toString(),r.render("progress-bar.ftl",u)}}},6199:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(233)),s=n(r(5793)),o=n(r(8347)),a=n(r(9086)),u=r(956);t.default=class{accept(e){return"register-panel"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n._csrf=(0,i.default)(),n.timezones=[],n.action="/register";const l=new o.default(t);return(0,s.default)(n,l,e.attributes),n.classes=l.toString(),n.testMode=a.default.isTestContext(),n.title="Mr",n.username="arny",n.firstName="Arnold",n.lastName="Archer",n.email="arny@me.com",n.contactNumber="(98) 02837 18237 283",n.dateOfBirth="2001-01-01",n.passwordOnce="test1",n.passwordTwice="test1",n.timezone="GMT",n.isAcceptPrivacyPolicy=!1,n.errors={global:"Only adults are allowed to register.",title:"Please supply the title",username:"Please supply the username",firstName:"Please supply the firstName",lastName:"Please supply the lastName",email:"Please supply the email",contactNumber:"Please supply the contactNumber",dateOfBirth:"Please supply the dateOfBirth",passwordOnce:"Please supply the passwordOnce",passwordTwice:"Please supply the passwordTwice",timezone:"Please supply the timezone",acceptPrivacyPolicy:"Please accept the privacy policy"},r.render("register-panel.ftl",n)}}},3558:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(233)),o=n(r(8347)),a=n(r(9086));t.default=class{accept(e){return"reset-password-panel"===e}render(e,t,r){const n={};n.id=e.attributes.id,n._csrf=(0,s.default)(),n.content=r.renderChildren(e);const u=new o.default(t);return(0,i.default)(n,u,e.attributes),n.classes=u.toString(),n.action="/reset-password",n.testMode=a.default.isTestContext(),n.errors={passwordOnce:"Passwords do not match",passwordTwice:"Please supply the password (again)"},r.render("reset-password-panel.ftl",n)}}},2657:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(233)),o=n(r(8347)),a=n(r(9086));t.default=class{accept(e){return"reset-password-request-panel"===e}render(e,t,r){const n={};n.id=e.attributes.id,n._csrf=(0,s.default)(),n.content=r.renderChildren(e);const u=new o.default(t);return(0,i.default)(n,u,e.attributes),n.classes=u.toString(),n.action="/reset-password-request",n.testMode=a.default.isTestContext(),n.email="andy@me.com",n.errors={email:"Please supply the email address"},r.render("reset-password-request-panel.ftl",n)}}},2262:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{accept(e){return"row"===e}render(e,t,r){const n={};return n.id=e.attributes.id,n.content=r.renderChildren(e),r.render("row.ftl",n)}}},6500:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(8347)),a=r(956),u=r(7861);t.default=class{accept(e){return"scale"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);let n;"NUMERICAL"===e.attributes.scaleType?n=[{key:"1",label:"1"},{key:"2",label:"2"},{key:"3",label:"3"},{key:"4",label:"4"},{key:"5",label:"5"},{key:"6",label:"6"},{key:"7",label:"7"},{key:"8",label:"8"},{key:"9",label:"9"},{key:"10",label:"10"}]:"LIKERT"===e.attributes.scaleType?n=[{key:"strongly-disagree",label:"Strongly Disagree"},{key:"disagree",label:"Disagree"},{key:"neutral",label:"Neutral"},{key:"agree",label:"Agree"},{key:"strongly-agree",label:"Strongly Agree"}]:"FREQUENCY"===e.attributes.scaleType?n=[{key:"never",label:"Never"},{key:"rarely",label:"Rarely"},{key:"sometimes",label:"Sometimes"},{key:"often",label:"Often"},{key:"very-often",label:"Very Often"}]:"DICHOTOMOUS"===e.attributes.scaleType?n=[{key:"yes",label:"Yes"},{key:"no",label:"No"}]:"BOOLEAN"===e.attributes.scaleType&&(n=[{key:"true",label:"True"},{key:"false",label:"False"}]);const l={};l.id=e.attributes.id,l.disabled=null,l.scaleType=e.attributes.scaleType,l.name=e.attributes.reference,l.size=e.attributes.size,l.values=n,l.value="",l.error="Scale error message",l.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name)));const c=new o.default(t);return(0,s.default)(l,c,e.attributes),(0,u.textStyleSupport)(l,e,t),l.classes=c.toString(),r.render("scale.ftl",l)}}},5049:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(956);t.default=class{accept(e){return"script"===e}render(e,t,r,i,s){if(!e.attributes.v)throw new n.RenderError("Version attribute 'v' not configured against element: "+e.name);const o={};if(!(e.attributes.script in i))throw new n.RenderError(`No substitution found for plantain expression ${e.attributes.script}`);{const t=i[e.attributes.script].value;if("string"!=typeof t)throw new n.RenderError(`Expected string for substitution ${e.attributes.script}`);o.text=t}return r.render("script.ftl",o)}}},570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7861);t.default=class{accept(e){return"span"===e}render(e,t,r){const i={};return i.paragraphStyle=e.attributes.paragraphStyle||"PLAIN",i.content=r.renderChildren(e),(0,n.textStyle)(i,e.attributes,t),r.render("span.ftl",i)}}},4691:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7861),s=n(r(8347));t.default=class{accept(e){return"sub-menu-label"===e}render(e,t,r){const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const o=new s.default(t);return o.append(e.attributes.flavour,"text-","text-default"),(0,i.textStyleSupport)(n,e,t),n.classes=o.toString(),r.render("sub-menu-label.ftl",n)}}},4507:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=r(4199),a=r(843),u=n(r(8347)),l=r(956);t.default=class{accept(e){return"sub-menu"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,i.isElement)(e))).map((e=>e));let c,d=new a.StringBuffer;for(const t of n)"sub-menu-label"==t.name?c=r.renderElement(t,e):d.append(r.renderElement(t,e));const p={};p.id=e.attributes.id,p.content=d.toString(),p.hasContent="true"===e.attributes.hasContent,p.label=c;const f=new u.default(t);return(0,s.default)(p,f,e.attributes),(0,o.flexContainerSupport)(p,f,e.attributes),p.classes=f.toString(),r.render("sub-menu.ftl",p)}}},6054:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(8347)),o=n(r(5793)),a=r(956);t.default=class{accept(e){return"switch"===e}render(e,t,r,n){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const u=e.children.filter((e=>(0,i.isElement)(e))).map((e=>e));let l=u.find((e=>"def"===e.name));for(const e of u)if(e.attributes.condition in n&&n[e.attributes.condition].value){l=e;break}if(l){const n={};n.id=e.attributes.id,n.content=r.renderChildren(l);const i=new s.default(t);return(0,o.default)(n,i,e.attributes),n.classes=i.toString(),r.render("switch.ftl",n)}return""}}},3438:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=n(r(8347)),o=r(956);t.default=class{accept(e){return"table"===e}render(e,t,r){if(!e.attributes.v)throw new o.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.size=e.attributes.size,n.content=r.renderChildren(e);const a=new s.default(t);return(0,i.default)(n,a,e.attributes),n.classes=a.toString(),r.render("table.ftl",n)}}},1769:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{accept(e){return"textual"===e}render(e,t,r){return r.renderChildren(e)}}},9446:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347)),u=r(956);t.default=class{accept(e){return"timezone-select"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.value="",n.disabled=null,n.name=e.attributes.reference,n.size=e.attributes.size,n.error="Input error message",n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),n.value="Europe/London",n.values=[{id:"Europe/London",displayName:"Greenwich Mean Time",offset:"+00:00"},{id:"Europe/Jersey",displayName:"Greenwich Mean Time",offset:"+00:00"},{id:"Europe/St_Helena",displayName:"Greenwich Mean Time",offset:"+00:00"},{id:"Europe/Guernsey",displayName:"Greenwich Mean Time",offset:"+00:00"},{id:"Europe/Isle_of_Man",displayName:"Greenwich Mean Time",offset:"+00:00"}];const l=new a.default(t);return(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,l,e.attributes),n.classes=l.toString(),r.render("timezone-select.ftl",n)}}},80:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=r(7861),o=n(r(5793)),a=n(r(8347)),u=r(956);t.default=class{accept(e){return"title"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.size=e.attributes.size;const l=new a.default(t);return(0,s.textStyleSupport)(n,e,t),(0,o.default)(n,l,e.attributes),n.classes=l.toString(),n.content=r.renderChildren(e.children.find((e=>(0,i.isElement)(e)&&"textual"===e.name))),r.render("title.ftl",n)}}},9641:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(843),o=n(r(8347)),a=r(9518);t.default=class{accept(e){return"tool-tip"===e}render(e,t,r,n,u){const l=e.children.filter((e=>!(0,a.isText)(e)));if(1!==l.length)throw new Error("Tool tip element must have only 1 child.");const c=l[0];e.attributes.alignSelf=c.attributes.alignSelf,e.attributes.flexBasis=c.attributes.flexBasis,e.attributes.flexGrow=c.attributes.flexGrow,e.attributes.flexShrink=c.attributes.flexShrink,e.attributes.height=c.attributes.height,e.attributes.width=c.attributes.width,e.attributes.margin=c.attributes.margin,e.attributes.backgroundFlavour=c.attributes.backgroundFlavour,e.attributes.borderRadius=c.attributes.borderRadius,delete c.attributes.alignSelf,delete c.attributes.flexBasis,delete c.attributes.flexGrow,delete c.attributes.flexShrink,delete c.attributes.height,delete c.attributes.width,delete c.attributes.margin,c.attributes.width="100% ",c.attributes.height="100% ";const d=new s.StringBuffer;e.children.forEach((t=>{(0,a.isText)(t)?d.append(t.text):(0,a.isElement)(t)&&d.append(r.renderElement(t,e))}));const p={};p.id=e.attributes.id,p.exposition=e.attributes.exposition,p.content=d.toString();const f=new o.default(t);return(0,i.default)(p,f,e.attributes),p.classes=f.toString(),r.render("tool-tip.ftl",p)}}},7042:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9518),s=n(r(5793)),o=n(r(233)),a=n(r(9086)),u=n(r(8347)),l=r(956);t.default=class{accept(e){return"tray"===e}render(e,t,r){if(!e.attributes.v)throw new l.RenderError("Version attribute 'v' not configured against element: "+e.name);const n=e.children.filter((e=>(0,i.isElement)(e))).map((e=>e)).find((e=>"header"===e.name)),c=a.default.getMessages().map((e=>{const[t,r]=e.getWizardId().split(":"),n=a.default.getWizards().find((e=>e.getName()===t&&e.getVersion()===r)),[i,s,o]=e.getWorkflowId().split(":"),u=a.default.getWorkflows().find((e=>e.getGroup()===i&&e.getName()===s&&e.getVersion()===o));return{action:"/workflow/continue-case/"+e.getWipId(),wipId:e.getWipId(),wizardId:e.getWizardId(),wizardTitle:null==n?void 0:n.getTitle(),wizardDescription:null==n?void 0:n.getDescription(),workflowId:e.getWorkflowId(),workflowTitle:null==u?void 0:u.getTitle(),workflowDescription:null==u?void 0:u.getDescription(),date:e.getDateTime().substring(0,10),dateTime:e.getDateTime(),principal:e.getPrincipal(),payload:""}})),d={};d.id=e.attributes.id,d._csrf=(0,o.default)(),d.header=n?r.renderElement(n,e):"",d.values=c;const p=new u.default(t);return(0,s.default)(d,p,e.attributes),d.classes=p.toString(),d.testMode=a.default.isTestContext(),r.render("tray.ftl",d)}}},9950:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(233)),s=n(r(5793)),o=n(r(9086)),a=n(r(8347)),u=r(956);t.default=class{accept(e){return"user-explorer"===e}render(e,t,r){if(!e.attributes.v)throw new u.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n._csrf=(0,i.default)(),n.bust=(0,i.default)(),n.values=o.default.getUsers(),n.groups=o.default.getGroups(),n.group="",n.wizard="",n.workflow="",n.queue="",n.principal="",n.username="",n.firstName="",n.lastName="",n.executeWorkflow="/workflow/initiate-as/",n.messageExplorerMode=!1,n.startIndex="startIndex",n.endIndex="endIndex";const l=new a.default(t);return(0,s.default)(n,l,e.attributes),n.classes=l.toString(),n.action="#"+n.bust,n.testMode=o.default.isTestContext(),r.render("user-explorer.ftl",n)}}},5209:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(233));t.default=class{accept(e){return"uuid"===e}render(e,t,r){const n={};return n.id=e.attributes.id,n.name=e.attributes.reference,n.value=(0,i.default)(),r.render("uuid.ftl",n)}}},9127:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4199),s=n(r(8347));t.default=class{accept(e){return"value"===e}render(e,t,r,n,o){const a={};a.id=o.attributes.id,a.key=e.attributes.key,a.content=r.renderChildren(e);const u=new s.default(t);return(0,i.flexContainerSupport)(a,u,e.attributes),a.classes=u.toString(),r.render("value-panel.ftl",a)}}},6910:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"warning"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.id=e.attributes.id,n.content=r.renderChildren(e);const u=new o.default(t);return(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("warning.ftl",n)}}},9706:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(5793)),s=r(4199),o=n(r(8347)),a=r(956);t.default=class{accept(e){return"well"===e}render(e,t,r){if(!e.attributes.v)throw new a.RenderError("Version attribute 'v' not configured against element: "+e.name);const n={};n.content=r.renderChildren(e);const u=new o.default(t);return u.append(e.attributes.flavour,"well-","well-default"),(0,i.default)(n,u,e.attributes),(0,s.flexContainerSupport)(n,u,e.attributes),n.classes=u.toString(),r.render("well.ftl",n)}}},9673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{accept(e){return"wizard-test-results"===e}render(e,t,r){const n={};return n.id=e.attributes.id,n.content="some content",r.render("wizard-test-results.ftl",n)}}},9321:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.findRenderer=function(e){return Ne.find((t=>t.accept(e)))};const i=n(r(80)),s=n(r(5968)),o=n(r(2977)),a=n(r(3483)),u=n(r(8169)),l=n(r(9706)),c=n(r(9950)),d=n(r(3795)),p=n(r(9170)),f=n(r(3925)),h=n(r(6199)),g=n(r(2657)),m=n(r(3558)),_=n(r(5718)),v=n(r(7176)),E=n(r(6959)),T=n(r(6910)),b=n(r(9708)),w=n(r(2262)),y=n(r(5598)),S=n(r(3438)),x=n(r(953)),O=n(r(8908)),C=n(r(4277)),A=n(r(5444)),N=n(r(2343)),L=n(r(584)),M=n(r(1007)),R=n(r(9641)),P=n(r(1157)),I=n(r(4506)),B=n(r(1634)),k=n(r(9884)),j=n(r(36)),D=n(r(3774)),U=n(r(6539)),G=n(r(9127)),$=n(r(6500)),H=n(r(5942)),W=n(r(3662)),V=n(r(9748)),F=n(r(5354)),z=n(r(3638)),q=n(r(8496)),Q=n(r(9673)),Y=n(r(8104)),X=n(r(6666)),K=n(r(9616)),J=n(r(1894)),Z=n(r(9972)),ee=n(r(2884)),te=n(r(1408)),re=n(r(475)),ne=n(r(6093)),ie=n(r(4186)),se=n(r(4234)),oe=n(r(4507)),ae=n(r(4691)),ue=n(r(7042)),le=n(r(1619)),ce=n(r(9782)),de=n(r(1266)),pe=n(r(4855)),fe=n(r(4730)),he=n(r(63)),ge=n(r(5350)),me=n(r(571)),_e=n(r(7750)),ve=n(r(570)),Ee=n(r(5209)),Te=n(r(5049)),be=n(r(5048)),we=n(r(6054)),ye=n(r(2626)),Se=n(r(1769)),xe=n(r(6866)),Oe=n(r(220)),Ce=n(r(6182)),Ae=n(r(9446)),Ne=[new i.default,new s.default,new o.default,new a.default,new l.default,new c.default,new d.default,new p.default,new f.default,new h.default,new u.default,new g.default,new m.default,new _.default,new v.default,new E.default,new T.default,new b.default,new w.default,new y.default,new S.default,new x.default,new O.default,new C.default,new A.default,new N.default,new L.default,new M.default,new R.default,new P.default,new I.default,new B.default,new k.default,new j.default,new D.default,new U.default,new G.default,new $.default,new H.default,new W.default,new V.default,new F.default,new z.default,new q.default,new Q.default,new Y.default,new X.default,new K.default,new J.default,new ee.default,new ce.default,new ye.default,new Z.default,new te.default,new re.default,new ne.default,new ie.default,new se.default,new oe.default,new ae.default,new ue.default,new le.default,new de.default,new pe.default,new fe.default,new he.default,new ge.default,new me.default,new _e.default,new ve.default,new Ee.default,new Te.default,new be.default,new xe.default,new we.default,new Se.default,new Oe.default,new Ce.default,new Ae.default]},7861:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.textStyle=u,t.textStyleSupport=function(e,t,r){const n=t.children.find((e=>(0,o.isElement)(e)&&"textual"===e.name));if(void 0===n||!(0,o.isElement)(n))throw new a.RenderError("Textual composer element does not contain a textual element: "+t.name);u(e,t.attributes,r)};const i=r(843),s=n(r(8347)),o=r(9518),a=r(956);function u(e,t,r){const n={},o=new s.default(r);t.font&&("TITLE_PRIMARY"===t.font?o.add("font-title-primary"):"TITLE_SECONDARY"===t.font?o.add("font-title-secondary"):"TEXT_PRIMARY"===t.font?o.add("font-text-primary"):"TEXT_SECONDARY"===t.font?o.add("font-text-secondary"):"EXHIBIT"===t.font?o.add("font-exhibit"):"PRIMARY"===t.font?o.add("font-primary"):"SECONDARY"===t.font&&o.add("font-secondary")),t.textAlign&&(n["text-align"]=t.textAign.toLowerCase()),t.fontSize&&(n["font-size"]=t.fontSize),t.textDecoration&&(n["text-decoration"]=t.textDecoration.toLowerCase()),t.fontStyle&&(n["font-style"]=t.fontStyle.toLowerCase()),t.fontWeight&&(n["font-weight"]=t.fontWeight.toLowerCase()),t.font&&(n.font=r.get("font-"+t.font.toLowerCase().replaceAll("_","-"))),t.fontFlavour&&o.append(t.fontFlavour,"text-",""),t.backgroundFlavour&&o.append(t.backgroundFlavour,"bg-","");const a=new i.StringBuffer;for(const[e,t]of Object.entries(n))a.append(`${e}: ${t};`);e.textualStyles=a.toString(),e.textualClasses=o.toString()}},8704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n){this.name=e,this.title=t,this.description=r,this.has=n}getName(){return this.name}getTitle(){return this.title}getDescription(){return this.description}getHas(){return this.has}}},7308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n,i,s,o,a,u,l,c){this.id=e,this.dateTime=t,this.wipId=r,this.kaseId=n,this.wizardId=i,this.workflowId=s,this.group=o,this.queue=a,this.principal=u,this.sessionId=l,this.timeStamp=c}getId(){return this.id}getDateTime(){return this.dateTime}getWipId(){return this.wipId}getKaseId(){return this.kaseId}getWizardId(){return this.wizardId}getWorkflowId(){return this.workflowId}getGroup(){return this.group}getQueue(){return this.queue}getPrincipal(){return this.principal}getSessionId(){return this.sessionId}getTimeStamp(){return this.timeStamp}}},5684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n,i){this.name=e,this.version=t,this.group=r,this.title=n,this.description=i}getName(){return this.name}getVersion(){return this.version}getGroup(){return this.group}getTitle(){return this.title}getDescription(){return this.description}}},5368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.name=e,this.title=t,this.description=r}getName(){return this.name}getTitle(){return this.title}getDescription(){return this.description}}},9086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new class{constructor(e=[],t=[],r=[],n=[],i=[],s=[],o=[]){this.users=e,this.groups=t,this.messages=r,this.wizards=n,this.workflows=i,this.pages=s,this.queues=o,this.testContext=!1}getUsers(){return this.users}getGroups(){return this.groups}getMessages(){return this.messages}getWizards(){return this.wizards}getWorkflows(){return this.workflows}getPages(){return this.pages}getQueues(){return this.queues}setTestContext(){this.testContext=!0}isTestContext(){return this.testContext}clear(){this.users=[],this.groups=[],this.messages=[],this.wizards=[],this.workflows=[],this.pages=[],this.testContext=!1}addUser(e){this.users.push(e)}addMessage(e){this.messages.push(e)}addWizard(e){this.wizards.push(e)}addWorkflow(e){this.workflows.push(e)}addPage(e){this.pages.push(e)}addQueue(e){this.queues.push(e)}addGroup(e){this.groups.push(e)}};t.default=r},8656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n,i,s,o,a,u,l){this.username=e,this.title=t,this.firstName=r,this.lastName=n,this.email=i,this.contactNumber=s,this.dateOfBirth=o,this.timezone=a,this.groups=u,this.userData=l}getUsername(){return this.username}getTitle(){return this.title}getFirstName(){return this.firstName}getLastName(){return this.lastName}getEmail(){return this.email}getContactNumber(){return this.contactNumber}getDateOfBirth(){return this.dateOfBirth}getTimezone(){return this.timezone}getGroups(){return this.groups}getUserData(){return this.username}}},4232:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n,i,s){this.name=e,this.version=t,this.title=r,this.description=n,this.active=i,this.released=s}getName(){return this.name}getVersion(){return this.version}getTitle(){return this.title}getDescription(){return this.description}getActive(){return this.active}getReleased(){return this.released}}},6510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r,n,i){this.name=e,this.version=t,this.group=r,this.title=n,this.description=i}getName(){return this.name}getVersion(){return this.version}getGroup(){return this.group}getTitle(){return this.title}getDescription(){return this.description}}},843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Character=t.StringBuffer=void 0,t.StringBuffer=class{constructor(e=void 0,t=0,r=0){this.buffer=e?e.split(""):[],this.index=0,this.column=r,this.row=t}append(e){this.buffer.push(e)}endsWith(e){return!(e.length>this.buffer.length)&&this.buffer.slice(this.buffer.length-e.length).join("")===e}next(){const e=this.buffer[this.index],t=this.column,n=this.row;return this.index++,"\n"===e?(this.row++,this.column=0):this.column++,new r(e,t,n)}hasNext(){return this.index<this.buffer.length}toString(){return this.buffer.join("")}getColumn(){return this.column}getRow(){return this.row}};class r{constructor(e,t,r){this.c=e,this.column=t,this.row=r}getString(){return this.c}getColumn(){return this.column}getRow(){return this.row}}t.Character=r},233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=[];for(let t=0;t<10;t++)e.push(r[Math.floor(100*Math.random())%r.length]);return e.join("")};const r="abcdefghiklmnopqrstuvwxwzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("")},5783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAlphabetic=function(e){return/^[a-zA-Z]+$/i.test(e)}},1487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAlphanumeric=function(e){return/^[a-zA-Z0-9]+$/i.test(e)}},7664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=function(e){return null!==e&&"object"==typeof e&&e.constructor===Date}},3e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHash=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e}},6521:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumeric=function(e){return/^[0-9]+$/i.test(e)}},3297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWhitespace=function(e){return/\s/.test(e)}},9518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.Element=t.Document=void 0,t.isElement=u,t.isText=l,t.isEmpty=function(e){if(0===e.length)return!0;if(1===e.length){const t=e[0];if(t instanceof d&&0===t.text.trim().length)return!0}return!1},t.parse=function(e){const t=new n.StringBuffer(e);let r,u,h,g={},m={},v=[],E=p.OPEN,T=new n.StringBuffer,b=!1;for(;t.hasNext();){let e=t.next(),a=e.getString();if(10!==a.charCodeAt(0))if(E===p.OPEN)"<"===a?E=p.TAG:T.append(a);else if(E===p.COMMENT)">"===a&&(E=p.ELEMENT_CONTENT);else if(E===p.TAG)if("/"===a)E=p.CLOSING_TAG;else if("?"===a)E=p.PROCESSING_TAG;else if("!"===a)E=p.COMMENT;else if((0,i.isWhitespace)(a));else if((0,s.isAlphabetic)(a)){const e=new c;h&&h.children.push(e),h=e,v.push(h),E=p.ELEMENT_NAME,T.append(a)}else f(a,e.getRow(),e.getColumn());else if(E===p.PROCESSING_TAG)(0,s.isAlphabetic)(a)?(E=p.PROCESSING_TAG_NAME,T.append(a)):(0,i.isWhitespace)(a)||f(a,e.getRow(),e.getColumn());else if(E===p.PROCESSING_TAG_NAME)(0,i.isWhitespace)(a)?(E=p.PROCESSING_TAG_OPEN,u=T.toString(),T=new n.StringBuffer,m={}):(0,o.isAlphanumeric)(a)?T.append(a):f(a,e.getRow(),e.getColumn());else if(E===p.PROCESSING_TAG_OPEN)(0,i.isWhitespace)(a)||((0,s.isAlphabetic)(a)?(E=p.PROCESSING_TAG_ATTRIBUTE_NAME,T.append(a)):"?"===a?E=p.PROCESSING_TAG_CLOSING:f(a,e.getRow(),e.getColumn()));else if(E===p.PROCESSING_TAG_ATTRIBUTE_NAME)(0,i.isWhitespace)(a)?f(a,e.getRow(),e.getColumn()):"="===a?(r=T.toString(),T=new n.StringBuffer,E=p.PROCESSING_TAG_ATTRIBUTE_EQUALS):(0,o.isAlphanumeric)(a)&&T.append(a);else if(E===p.PROCESSING_TAG_ATTRIBUTE_EQUALS)(0,i.isWhitespace)(a)||('"'===a?E=p.PROCESSING_TAG_ATTRIBUTE_VALUE:f(a,e.getRow(),e.getColumn()));else if(E===p.PROCESSING_TAG_ATTRIBUTE_VALUE)b||"\\"!==a?b||'"'!==a?(T.append(a),b=!1):(m[r]=T.toString(),T=new n.StringBuffer,E=p.PROCESSING_TAG_OPEN):b=!0;else if(E===p.PROCESSING_TAG_CLOSING)">"===a?(g[u]=m,E=p.OPEN):f(a,e.getRow(),e.getColumn());else if(E===p.ELEMENT_NAME)"/"===a?(h.name=T.toString(),T=new n.StringBuffer,E=p.ELEMENT_AUTO_CLOSING):">"===a?(h.name=T.toString(),T=new n.StringBuffer,E=p.ELEMENT_CONTENT):(0,i.isWhitespace)(a)?(h.name=T.toString(),T=new n.StringBuffer,E=p.ELEMENT_OPEN):T.append(a);else if(E===p.ELEMENT_OPEN)(0,i.isWhitespace)(a)||(">"===a?E=p.ELEMENT_CONTENT:"/"===a?E=p.ELEMENT_AUTO_CLOSING:(0,s.isAlphabetic)(a)?(T.append(a),E=p.ELEMENT_ATTRIBUTE_NAME):f(a,e.getRow(),e.getColumn()));else if(E===p.ELEMENT_ATTRIBUTE_NAME)(0,i.isWhitespace)(a)?f(a,e.getRow(),e.getColumn()):"="===a?(r=T.toString(),T=new n.StringBuffer,E=p.ELEMENT_ATTRIBUTE_EQUALS):(0,o.isAlphanumeric)(a)&&T.append(a);else if(E===p.ELEMENT_ATTRIBUTE_EQUALS)(0,i.isWhitespace)(a)||('"'===a?E=p.ELEMENT_ATTRIBUTE_VALUE:f(a,e.getRow(),e.getColumn()));else if(E===p.ELEMENT_ATTRIBUTE_VALUE)b||"\\"!==a?b||'"'!==a?(b=!1,T.append(a)):(h.attributes[r]=_(T.toString()),T=new n.StringBuffer,E=p.ELEMENT_OPEN):b=!0;else if(E===p.ELEMENT_CONTENT)if("<"===a){if(0!==T.toString().length)if(h.children.length>0&&l(h.children[h.children.length-1])){const e=h.children[h.children.length-1];e.text=e.text+_(T.toString())}else h.children.push(new d(_(T.toString())));T=new n.StringBuffer,E=p.TAG}else T.append(a);else if(E===p.CLOSING_TAG)if(">"===a){const e=T.toString();if(T=new n.StringBuffer,e!==h.name)throw new Error(`close tag (${e}) doesn't match start tag ${h.name}`);v.pop(),0!==v.length&&(h=v[v.length-1]),E=p.ELEMENT_CONTENT}else(0,i.isWhitespace)(a)?E=p.CLOSING_TAG_OPEN:T.append(a);else if(E===p.CLOSING_TAG_OPEN)if(">"===a){const e=T.toString();if(T=new n.StringBuffer,e!==h.name)throw new Error(`close tag (${e}) doesn't match start tag ${h.name}`);v.pop(),0!==v.length&&(h=v[v.length-1]),E=p.ELEMENT_CONTENT}else(0,i.isWhitespace)(a)||f(a,e.getRow(),e.getColumn());else E===p.ELEMENT_AUTO_CLOSING&&(">"===a?(v.pop(),0!==v.length&&(h=v[v.length-1]),E=p.ELEMENT_CONTENT):(0,i.isWhitespace)(a)||f(a,e.getRow(),e.getColumn()))}return void 0===h&&(h=new d(T.toString())),new a(g,h)},t.throwError=f,t.serializeDocument=function(e){return`${Object.entries(e.processing).map((([e,t])=>{const r=new n.StringBuffer;return r.append("<?"),r.append(e),r.append(" "),r.append(Object.entries(t).map((([e,t])=>`${e}="${m(t)}"`)).join(" ")),r.append(" "),r.append("?>"),r.toString()})).join(" ")}${h(e.root)}`},t.serializeNode=h,t.serializeNodes=g,t.escapeString=m,t.descapeString=_,t.deepCopyNode=function(e){return function e(t){if(u(t)){const r=t.children.map(e);return new c(t.name,Object.assign({},t.attributes),r)}if(l(t))return new d(t.text);throw new Error("Never happen")}(e)};const n=r(843),i=r(3297),s=r(5783),o=r(1487);class a{constructor(e,t){this.processing=e,this.root=t}}function u(e){return void 0!==e.name}function l(e){return void 0!==e.text}t.Document=a;class c{constructor(e,t,r=[]){this.name="",this.attributes={},this.children=[],e&&(this.name=e),t&&(this.attributes=t),r&&(this.children=r)}}t.Element=c;class d{constructor(e){this.text="",this.text=e}}t.Text=d;const p={OPEN:"OPEN",TAG:"TAG",CLOSING_TAG:"CLOSING_TAG",CLOSING_TAG_OPEN:"CLOSING_TAG_OPEN",PROCESSING_TAG:"PROCESSING_TAG",PROCESSING_TAG_NAME:"PROCESSING_TAG_NAME",PROCESSING_TAG_OPEN:"PROCESSING_TAG_OPEN",PROCESSING_TAG_ATTRIBUTE_NAME:"PROCESSING_TAG_ATTRIBUTE_NAME",PROCESSING_TAG_ATTRIBUTE_EQUALS:"PROCESSING_TAG_ATTRIBUTE_EQUALS",PROCESSING_TAG_ATTRIBUTE_VALUE:"PROCESSING_TAG_ATTRIBUTE_VALUE",PROCESSING_TAG_CLOSING:"PROCESSING_TAG_CLOSING",ELEMENT_NAME:"ELEMENT_NAME",ELEMENT_OPEN:"ELEMENT_OPEN",ELEMENT_ATTRIBUTE_NAME:"ELEMENT_ATTRIBUTE_NAME",ELEMENT_ATTRIBUTE_EQUALS:"ELEMENT_ATTRIBUTE_EQUALS",ELEMENT_ATTRIBUTE_VALUE:"ELEMENT_ATTRIBUTE_VALUE",ELEMENT_CONTENT:"ELEMENT_CONTENT",ELEMENT_AUTO_CLOSING:"ELEMENT_AUTO_CLOSING",COMMENT:"COMMENT"};function f(e,t,r){throw new Error(`Character (${e}) not allowed at position ${t}:${r}.`)}function h(e){if(e instanceof d)return m(e.text);if(e instanceof c){const t=Object.entries(e.attributes).map((([e,t])=>`${e}="${m(t)}"`)).join(" "),r=g(e.children);return""===r?`<${e.name} ${t}/>`:`<${e.name} ${t}>${r}</${e.name}>`}throw new Error("Should never happen")}function g(e){return e.map((e=>h(e))).join("")}function m(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")}function _(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'")}},5317:e=>{"use strict";e.exports=require("child_process")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},6760:e=>{"use strict";e.exports=require("node:path")},6928:e=>{"use strict";e.exports=require("path")},2116:(e,t,r)=>{const n=r(4434).EventEmitter,i=r(5317),s=r(6928),o=r(9896);class a{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(e){const t=e.commands.filter((e=>!e._hidden));if(e._hasImplicitHelpCommand()){const r=e._helpCommandnameAndArgs.split(/ +/),n=e.createCommand(r.shift()).helpOption(!1);n.description(e._helpCommandDescription),n._parseExpectedArgs(r),t.push(n)}return this.sortSubcommands&&t.sort(((e,t)=>e.name().localeCompare(t.name()))),t}visibleOptions(e){const t=e.options.filter((e=>!e.hidden)),r=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),n=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(r||n){let i;i=r?n?e.createOption(e._helpFlags,e._helpDescription):e.createOption(e._helpShortFlag,e._helpDescription):e.createOption(e._helpLongFlag,e._helpDescription),t.push(i)}if(this.sortOptions){const e=e=>e.short?e.short.replace(/^-/,""):e.long.replace(/^--/,"");t.sort(((t,r)=>e(t).localeCompare(e(r))))}return t}visibleArguments(e){return e._argsDescription&&e._args.length?e._args.map((t=>({term:t.name,description:e._argsDescription[t.name]||""})),0):[]}subcommandTerm(e){const t=e._args.map((e=>f(e))).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce(((e,r)=>Math.max(e,t.subcommandTerm(r).length)),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce(((e,r)=>Math.max(e,t.optionTerm(r).length)),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce(((e,t)=>Math.max(e,t.term.length)),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let r="";for(let t=e.parent;t;t=t.parent)r=t.name()+" "+r;return r+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.description()}optionDescription(e){if(e.negate)return e.description;const t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map((e=>JSON.stringify(e))).join(", ")}`),void 0!==e.defaultValue&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}formatHelp(e,t){const r=t.padWidth(e,t),n=t.helpWidth||80;function i(e,i){if(i){const s=`${e.padEnd(r+2)}${i}`;return t.wrap(s,n-2,r+2)}return e}function s(e){return e.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${t.commandUsage(e)}`,""];const a=t.commandDescription(e);a.length>0&&(o=o.concat([a,""]));const u=t.visibleArguments(e).map((e=>i(e.term,e.description)));u.length>0&&(o=o.concat(["Arguments:",s(u),""]));const l=t.visibleOptions(e).map((e=>i(t.optionTerm(e),t.optionDescription(e))));l.length>0&&(o=o.concat(["Options:",s(l),""]));const c=t.visibleCommands(e).map((e=>i(t.subcommandTerm(e),t.subcommandDescription(e))));return c.length>0&&(o=o.concat(["Commands:",s(c),""])),o.join("\n")}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,r,n=40){if(e.match(/[\n]\s+/))return e;const i=t-r;if(i<n)return e;const s=e.substr(0,r),o=e.substr(r),a=" ".repeat(r),u=new RegExp(".{1,"+(i-1)+"}([\\s]|$)|[^\\s]+?([\\s]|$)","g");return s+(o.match(u)||[]).map(((e,t)=>("\n"===e.slice(-1)&&(e=e.slice(0,e.length-1)),(t>0?a:"")+e.trimRight()))).join("\n")}}class u{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;const r=h(e);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t!==this.defaultValue&&Array.isArray(t)?t.concat(e):[e]}choices(e){return this.argChoices=e,this.parseArg=(t,r)=>{if(!e.includes(t))throw new c(`Allowed choices are ${e.join(", ")}.`);return this.variadic?this._concatValue(t,r):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((e,t)=>e+t[0].toUpperCase()+t.slice(1)))}is(e){return this.short===e||this.long===e}}class l extends Error{constructor(e,t,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}}class c extends l{constructor(e){super(1,"commander.invalidOptionArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}class d extends n{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.rawArgs=null,this._scriptPath=null,this._name=e||"",this._optionValues={},this._storeOptionsAsProperties=!1,this._actionResults=[],this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._outputConfiguration={writeOut:e=>process.stdout.write(e),writeErr:e=>process.stderr.write(e),getOutHelpWidth:()=>process.stdout.isTTY?process.stdout.columns:void 0,getErrHelpWidth:()=>process.stderr.isTTY?process.stderr.columns:void 0,outputError:(e,t)=>t(e)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}command(e,t,r){let n=t,i=r;"object"==typeof n&&null!==n&&(i=n,n=null),i=i||{};const s=e.split(/ +/),o=this.createCommand(s.shift());return n&&(o.description(n),o._executableHandler=!0),i.isDefault&&(this._defaultCommandName=o._name),o._outputConfiguration=this._outputConfiguration,o._hidden=!(!i.noHelp&&!i.hidden),o._hasHelpOption=this._hasHelpOption,o._helpFlags=this._helpFlags,o._helpDescription=this._helpDescription,o._helpShortFlag=this._helpShortFlag,o._helpLongFlag=this._helpLongFlag,o._helpCommandName=this._helpCommandName,o._helpCommandnameAndArgs=this._helpCommandnameAndArgs,o._helpCommandDescription=this._helpCommandDescription,o._helpConfiguration=this._helpConfiguration,o._exitCallback=this._exitCallback,o._storeOptionsAsProperties=this._storeOptionsAsProperties,o._combineFlagAndOptionalValue=this._combineFlagAndOptionalValue,o._allowExcessArguments=this._allowExcessArguments,o._enablePositionalOptions=this._enablePositionalOptions,o._executableFile=i.executableFile||null,this.commands.push(o),o._parseExpectedArgs(s),o.parent=this,n?this:o}createCommand(e){return new d(e)}createHelp(){return Object.assign(new a,this.configureHelp())}configureHelp(e){return void 0===e?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return void 0===e?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}addCommand(e,t){if(!e._name)throw new Error("Command passed to .addCommand() must have a name");return function e(t){t.forEach((t=>{if(t._executableHandler&&!t._executableFile)throw new Error(`Must specify executableFile for deeply nested executable: ${t.name()}`);e(t.commands)}))}(e.commands),(t=t||{}).isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}arguments(e){return this._parseExpectedArgs(e.split(/ +/))}addHelpCommand(e,t){return!1===e?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,"string"==typeof e&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return void 0===this._addImplicitHelpCommand?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}_parseExpectedArgs(e){if(e.length)return e.forEach((e=>{const t={required:!1,name:"",variadic:!1};switch(e[0]){case"<":t.required=!0,t.name=e.slice(1,-1);break;case"[":t.name=e.slice(1,-1)}t.name.length>3&&"..."===t.name.slice(-3)&&(t.variadic=!0,t.name=t.name.slice(0,-3)),t.name&&this._args.push(t)})),this._args.forEach(((e,t)=>{if(e.variadic&&t<this._args.length-1)throw new Error(`only the last argument can be variadic '${e.name}'`)})),this}exitOverride(e){return this._exitCallback=e||(e=>{if("commander.executeSubCommandAsync"!==e.code)throw e}),this}_exit(e,t,r){this._exitCallback&&this._exitCallback(new l(e,t,r)),process.exit(e)}action(e){return this._actionHandler=t=>{const r=this._args.length,n=t.slice(0,r);this._storeOptionsAsProperties?n[r]=this:n[r]=this.opts(),n.push(this);const i=e.apply(this,n);let s=this;for(;s.parent;)s=s.parent;s._actionResults.push(i)},this}createOption(e,t){return new u(e,t)}addOption(e){const t=e.name(),r=e.attributeName();let n=e.defaultValue;if(e.negate||e.optional||e.required||"boolean"==typeof n){if(e.negate){const t=e.long.replace(/^--no-/,"--");n=!this._findOption(t)||this._getOptionValue(r)}void 0!==n&&this._setOptionValue(r,n)}return this.options.push(e),this.on("option:"+t,(t=>{const i=this._getOptionValue(r);if(null!==t&&e.parseArg)try{t=e.parseArg(t,void 0===i?n:i)}catch(r){if("commander.invalidOptionArgument"===r.code){const n=`error: option '${e.flags}' argument '${t}' is invalid. ${r.message}`;this._displayError(r.exitCode,r.code,n)}throw r}else null!==t&&e.variadic&&(t=e._concatValue(t,i));"boolean"==typeof i||void 0===i?null==t?this._setOptionValue(r,!e.negate&&(n||!0)):this._setOptionValue(r,t):null!==t&&this._setOptionValue(r,!e.negate&&t)})),this}_optionEx(e,t,r,n,i){const s=this.createOption(t,r);if(s.makeOptionMandatory(!!e.mandatory),"function"==typeof n)s.default(i).argParser(n);else if(n instanceof RegExp){const e=n;n=(t,r)=>{const n=e.exec(t);return n?n[0]:r},s.default(i).argParser(n)}else s.default(n);return this.addOption(s)}option(e,t,r,n){return this._optionEx({},e,t,r,n)}requiredOption(e,t,r,n){return this._optionEx({mandatory:!0},e,t,r,n)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}_setOptionValue(e,t){this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t}_getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}parse(e,t){if(void 0!==e&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");let n;switch(t=t||{},void 0===e&&(e=process.argv,process.versions&&process.versions.electron&&(t.from="electron")),this.rawArgs=e.slice(),t.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":process.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._scriptPath&&r.c[r.s]&&(this._scriptPath=r.c[r.s].filename),this._name=this._name||this._scriptPath&&s.basename(this._scriptPath,s.extname(this._scriptPath)),this._parseCommand([],n),this}parseAsync(e,t){return this.parse(e,t),Promise.all(this._actionResults).then((()=>this))}_executeSubCommand(e,t){t=t.slice();let n=!1;const a=[".js",".ts",".tsx",".mjs",".cjs"];this._checkForMissingMandatoryOptions();let u,c=this._scriptPath;!c&&r.c[r.s]&&(c=r.c[r.s].filename);try{const e=o.realpathSync(c);u=s.dirname(e)}catch(e){u="."}let d=s.basename(c,s.extname(c))+"-"+e._name;e._executableFile&&(d=e._executableFile);const p=s.join(u,d);let f;o.existsSync(p)?d=p:a.forEach((e=>{o.existsSync(`${p}${e}`)&&(d=`${p}${e}`)})),n=a.includes(s.extname(d)),"win32"!==process.platform?n?(t.unshift(d),t=g(process.execArgv).concat(t),f=i.spawn(process.argv[0],t,{stdio:"inherit"})):f=i.spawn(d,t,{stdio:"inherit"}):(t.unshift(d),t=g(process.execArgv).concat(t),f=i.spawn(process.execPath,t,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((e=>{process.on(e,(()=>{!1===f.killed&&null===f.exitCode&&f.kill(e)}))}));const h=this._exitCallback;h?f.on("close",(()=>{h(new l(process.exitCode||0,"commander.executeSubCommandAsync","(close)"))})):f.on("close",process.exit.bind(process)),f.on("error",(t=>{if("ENOENT"===t.code){const t=`'${d}' does not exist\n - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name`;throw new Error(t)}if("EACCES"===t.code)throw new Error(`'${d}' not executable`);if(h){const e=new l(1,"commander.executeSubCommandAsync","(error)");e.nestedError=t,h(e)}else process.exit(1)})),this.runningCommand=f}_dispatchSubcommand(e,t,r){const n=this._findCommand(e);n||this.help({error:!0}),n._executableHandler?this._executeSubCommand(n,t.concat(r)):n._parseCommand(t,r)}_parseCommand(e,t){const r=this.parseOptions(t);if(e=e.concat(r.operands),t=r.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))this._dispatchSubcommand(e[0],e.slice(1),t);else if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)1===e.length?this.help():this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);else if(this._defaultCommandName)p(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);else{!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),p(this,r.unknown),this._checkForMissingMandatoryOptions();const n=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},i=`command:${this.name()}`;if(this._actionHandler){n();const r=this.args.slice();this._args.forEach(((e,t)=>{e.required&&null==r[t]?this.missingArgument(e.name):e.variadic&&(r[t]=r.splice(t),r.length=Math.min(t+1,r.length))})),r.length>this._args.length&&this._excessArguments(r),this._actionHandler(r),this.parent&&this.parent.emit(i,e,t)}else this.parent&&this.parent.listenerCount(i)?(n(),this.parent.emit(i,e,t)):e.length?this._findCommand("*")?this._dispatchSubcommand("*",e,t):this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():n():this.commands.length?this.help({error:!0}):n()}}_findCommand(e){if(e)return this.commands.find((t=>t._name===e||t._aliases.includes(e)))}_findOption(e){return this.options.find((t=>t.is(e)))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach((t=>{t.mandatory&&void 0===e._getOptionValue(t.attributeName())&&e.missingMandatoryOptionValue(t)}))}parseOptions(e){const t=[],r=[];let n=t;const i=e.slice();function s(e){return e.length>1&&"-"===e[0]}let o=null;for(;i.length;){const e=i.shift();if("--"===e){n===r&&n.push(e),n.push(...i);break}if(!o||s(e)){if(o=null,s(e)){const t=this._findOption(e);if(t){if(t.required){const e=i.shift();void 0===e&&this.optionMissingArgument(t),this.emit(`option:${t.name()}`,e)}else if(t.optional){let e=null;i.length>0&&!s(i[0])&&(e=i.shift()),this.emit(`option:${t.name()}`,e)}else this.emit(`option:${t.name()}`);o=t.variadic?t:null;continue}}if(e.length>2&&"-"===e[0]&&"-"!==e[1]){const t=this._findOption(`-${e[1]}`);if(t){t.required||t.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${t.name()}`,e.slice(2)):(this.emit(`option:${t.name()}`),i.unshift(`-${e.slice(2)}`));continue}}if(/^--[^=]+=/.test(e)){const t=e.indexOf("="),r=this._findOption(e.slice(0,t));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,e.slice(t+1));continue}}if(s(e)&&(n=r),(this._enablePositionalOptions||this._passThroughOptions)&&0===t.length&&0===r.length){if(this._findCommand(e)){t.push(e),i.length>0&&r.push(...i);break}if(e===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(e),i.length>0&&t.push(...i);break}if(this._defaultCommandName){r.push(e),i.length>0&&r.push(...i);break}}if(this._passThroughOptions){n.push(e),i.length>0&&n.push(...i);break}n.push(e)}else this.emit(`option:${o.name()}`,e)}return{operands:t,unknown:r}}opts(){if(this._storeOptionsAsProperties){const e={},t=this.options.length;for(let r=0;r<t;r++){const t=this.options[r].attributeName();e[t]=t===this._versionOptionName?this._version:this[t]}return e}return this._optionValues}_displayError(e,t,r){this._outputConfiguration.outputError(`${r}\n`,this._outputConfiguration.writeErr),this._exit(e,t,r)}missingArgument(e){const t=`error: missing required argument '${e}'`;this._displayError(1,"commander.missingArgument",t)}optionMissingArgument(e){const t=`error: option '${e.flags}' argument missing`;this._displayError(1,"commander.optionMissingArgument",t)}missingMandatoryOptionValue(e){const t=`error: required option '${e.flags}' not specified`;this._displayError(1,"commander.missingMandatoryOptionValue",t)}unknownOption(e){if(this._allowUnknownOption)return;const t=`error: unknown option '${e}'`;this._displayError(1,"commander.unknownOption",t)}_excessArguments(e){if(this._allowExcessArguments)return;const t=this._args.length,r=1===t?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${r} but got ${e.length}.`;this._displayError(1,"commander.excessArguments",n)}unknownCommand(){const e=[this.name()];for(let t=this.parent;t;t=t.parent)e.unshift(t.name());const t=e.join(" "),r=`error: unknown command '${this.args[0]}'.`+(this._hasHelpOption?` See '${t} ${this._helpLongFlag}'.`:"");this._displayError(1,"commander.unknownCommand",r)}version(e,t,r){if(void 0===e)return this._version;this._version=e,t=t||"-V, --version",r=r||"output the version number";const n=this.createOption(t,r);return this._versionOptionName=n.attributeName(),this.options.push(n),this.on("option:"+n.name(),(()=>{this._outputConfiguration.writeOut(`${e}\n`),this._exit(0,"commander.version",e)})),this}description(e,t){return void 0===e&&void 0===t?this._description:(this._description=e,this._argsDescription=t,this)}alias(e){if(void 0===e)return this._aliases[0];let t=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return void 0===e?this._aliases:(e.forEach((e=>this.alias(e))),this)}usage(e){if(void 0===e){if(this._usage)return this._usage;const e=this._args.map((e=>f(e)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?e:[]).join(" ")}return this._usage=e,this}name(e){return void 0===e?this._name:(this._name=e,this)}helpInformation(e){const t=this.createHelp();return void 0===t.helpWidth&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){const t={error:!!(e=e||{}).error};let r;return r=t.error?e=>this._outputConfiguration.writeErr(e):e=>this._outputConfiguration.writeOut(e),t.write=e.write||r,t.command=this,t}outputHelp(e){let t;"function"==typeof e&&(t=e,e=void 0);const r=this._getHelpContext(e),n=[];let i=this;for(;i;)n.push(i),i=i.parent;n.slice().reverse().forEach((e=>e.emit("beforeAllHelp",r))),this.emit("beforeHelp",r);let s=this.helpInformation(r);if(t&&(s=t(s),"string"!=typeof s&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(s),this.emit(this._helpLongFlag),this.emit("afterHelp",r),n.forEach((e=>e.emit("afterAllHelp",r)))}helpOption(e,t){if("boolean"==typeof e)return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;const r=h(this._helpFlags);return this._helpShortFlag=r.shortFlag,this._helpLongFlag=r.longFlag,this}help(e){this.outputHelp(e);let t=process.exitCode||0;0===t&&e&&"function"!=typeof e&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){const r=["beforeAll","before","after","afterAll"];if(!r.includes(e))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`);const n=`${e}Help`;return this.on(n,(e=>{let r;r="function"==typeof t?t({error:e.error,command:e.command}):t,r&&e.write(`${r}\n`)})),this}}function p(e,t){e._hasHelpOption&&t.find((t=>t===e._helpLongFlag||t===e._helpShortFlag))&&(e.outputHelp(),e._exit(0,"commander.helpDisplayed","(outputHelp)"))}function f(e){const t=e.name+(!0===e.variadic?"...":"");return e.required?"<"+t+">":"["+t+"]"}function h(e){let t,r;const n=e.split(/[ |,]+/);return n.length>1&&!/^[[<]/.test(n[1])&&(t=n.shift()),r=n.shift(),!t&&/^-[^-]$/.test(r)&&(t=r,r=void 0),{shortFlag:t,longFlag:r}}function g(e){return e.map((e=>{if(!e.startsWith("--inspect"))return e;let t,r,n="127.0.0.1",i="9229";return null!==(r=e.match(/^(--inspect(-brk)?)$/))?t=r[1]:null!==(r=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(t=r[1],/^\d+$/.test(r[3])?i=r[3]:n=r[3]):null!==(r=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(t=r[1],n=r[3],i=r[4]),t&&"0"!==i?`${t}=${n}:${parseInt(i)+1}`:e}))}(t=e.exports=new d).program=t,t.Command=d,t.Option=u,t.CommanderError=l,t.InvalidOptionArgumentError=c,t.Help=a}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.c=t,r(r.s=665)})();
//# sourceMappingURL=materials-toolkit.js.map