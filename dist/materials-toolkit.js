/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/html-format/index.js":
/*!*******************************************!*\
  !*** ./node_modules/html-format/index.js ***!
  \*******************************************/
/***/ ((module) => {

const tagName = String.raw`[A-Za-z][^/\s>]*`;

// Preserve strings in templates and such
// Avoid apostrophes and unintentional captures
const doubleQuotedString = String.raw`(?<!\w)"(?:\\[^<>\n]|[^\\"<>\n])*"(?!\w)`;
const singleQuotedString = String.raw`(?<!\w)'(?:\\[^<>\n]|[^\\'<>\n])*'(?!\w)`;
const quotedString = String.raw`${doubleQuotedString}|${singleQuotedString}`;

const quotedAttrValue = String.raw`"(?<quotedAttrValue>[^"]*)"`;
const singleQuotedAttrValue = String.raw`'(?<singleQuotedAttrValue>[^']*)'`;
// https://mothereff.in/unquoted-attributes
const unquotedAttrValue = String.raw`(?<unquotedAttrValue>[^\s"'\`=<>]+)`;

const attrName = String.raw`[^=\s>/"']+(?=[=>\s]|$)`;
const attrValue = String.raw`${quotedAttrValue}|${singleQuotedAttrValue}|${unquotedAttrValue}`;
const attrNameValue = String.raw`(?<attrName>${attrName})(?:\s*=\s*(?:${attrValue}))?`;

// Make sure not to swallow the closing slash if one exists
const attrText = String.raw`${quotedString}|[^\s>]*[^\s>/]|[^\s>]*/(?!\s*>)`;

const attr = String.raw`(?<attrSpace>\s*)(?:${attrNameValue}|(?<attrText>${attrText}))`;

const tokens = {
  comment: String.raw`<!--.*?-->`,
  dtd: String.raw`<![^>]+>`,
  startTag: String.raw`<(?<startTagName>${tagName})(?<attrs>(?:${attr})*)\s*(?<closingSlash>/?)\s*>`,
  endTag: String.raw`</(?<endTagName>${tagName})\s*>`,
  space: String.raw`\s+`,
  text: String.raw`[^<\s"']+|${quotedString}|['"]`,
  wildcard: String.raw`.`,
};

const grammar = Object.entries(tokens)
  .map(([k, v]) => `(?<${k}>${v})`)
  .join("|");

/**
 *
 * @param {RegExp} lexer
 * @param {string} s
 */
function* getTokens(lexer, s) {
  let res;
  let { lastIndex } = lexer;
  while ((res = lexer.exec(s))) {
    yield /** @type {RegExpExecArray & { groups: Record<string, string> }} */ (
      res
    );
    ({ lastIndex } = lexer);
  }
  if (lastIndex != s.length) throw new Error("Failed to parse string");
}

const voidTags = new Set([
  "area",
  "base",
  "basefont",
  "bgsound",
  "br",
  "col",
  "command",
  "embed",
  "frame",
  "hr",
  "image",
  "img",
  "input",
  "keygen",
  "link",
  "meta",
  "param",
  "source",
  "track",
  "wbr",
]);

function format(/** @type {string} */ html, indent = "  ", width = 80) {
  const lexer = new RegExp(grammar, "gys");
  const attrLexer = new RegExp(attr, "gy");

  /** @type {string[]} */
  const output = [];

  /** @type {string | null} */
  let specialElement = null;
  let level = 0;

  let lineLength = 0;
  let span = "";
  let spanLevel = 0;
  let lastSpace = "";

  const flushOutput = () => {
    if (lastSpace && lastSpace != "\n") {
      const newline = span.indexOf("\n");
      const len = newline == -1 ? span.length : newline;
      if (lineLength + lastSpace.length + len > width) lastSpace = "\n";
    }

    const ind = lastSpace == "\n" && span ? indent.repeat(spanLevel) : "";
    const out = `${lastSpace}${ind}${span}`;

    if (out) {
      const pos = out.lastIndexOf("\n");
      if (pos == -1) lineLength += out.length;
      else lineLength = out.length - pos - 1;
      output.push(out);
    }

    span = lastSpace = "";
  };

  const addOutput = (/** @type {string[]} */ ...args) => {
    for (const s of args) {
      if (!specialElement && /^\s+$/.test(s)) {
        flushOutput();
        lastSpace = s;
      } else {
        if (!span) spanLevel = level;
        span += s;
      }
    }
  };

  for (const token of getTokens(lexer, html)) {
    // For testing
    if (/** @type {any} */ (format).__strict && token.groups.wildcard)
      throw new Error("Unexpected wildcard");

    if (token.groups.endTag) {
      const tagName = token.groups.endTagName.toLowerCase();
      if (tagName == specialElement) specialElement = null;
      if (!specialElement) {
        --level;
        addOutput(`</${tagName}>`);
      }
    }

    if (!specialElement) {
      if (token.groups.space) {
        addOutput(...(token[0].match(/\n/g)?.slice(0, 2) ?? [" "]));
      } else if (
        token.groups.comment ||
        token.groups.dtd ||
        token.groups.text ||
        token.groups.wildcard
      ) {
        addOutput(token[0]);
      } else if (token.groups.startTag) {
        const tagName = token.groups.startTagName.toLowerCase();

        addOutput(`<${tagName}`);

        ++level;

        if (token.groups.attrs) {
          let { lastIndex } = attrLexer;
          let attrToken;
          let lastToken;
          while (
            (attrToken =
              /** @type {RegExpExecArray & { groups: Record<string, string> }} */ (
                attrLexer.exec(token.groups.attrs)
              ))
          ) {
            ({ lastIndex } = attrLexer);

            // For testing
            if (
              /** @type {any} */ (format).__strict &&
              attrToken.groups.attrText
            )
              throw new Error("Unexpected attr text");

            if (attrToken.groups.attrText) {
              if (attrToken.groups.attrSpace)
                addOutput(/\n/.test(attrToken.groups.attrSpace) ? "\n" : " ");
              addOutput(attrToken.groups.attrText);
            } else {
              if (attrToken.groups.attrSpace || !lastToken?.groups.attrText)
                addOutput(/\n/.test(attrToken.groups.attrSpace) ? "\n" : " ");
              addOutput(
                `${attrToken.groups.attrName}${
                  attrToken.groups.quotedAttrValue
                    ? `="${attrToken.groups.quotedAttrValue}"`
                    : attrToken.groups.singleQuotedAttrValue
                    ? `='${attrToken.groups.singleQuotedAttrValue}'`
                    : attrToken.groups.unquotedAttrValue
                    ? `=${attrToken.groups.unquotedAttrValue}`
                    : ""
                }`
              );
            }

            lastToken = attrToken;
          }
          if (lastIndex != token.groups.attrs.length)
            throw new Error("Failed to parse attributes");
        }

        const hasClosingSlash = Boolean(token.groups.closingSlash);

        addOutput(hasClosingSlash ? " />" : ">");

        if (hasClosingSlash || voidTags.has(tagName)) --level;
        else if (["pre", "textarea", "script", "style"].includes(tagName))
          specialElement = tagName;
      }
    } else addOutput(token[0]);
  }

  // Flush remaining output
  flushOutput();

  let newline = false;
  while (/^\s+$/.test(output[output.length - 1])) {
    const last = /** @type {string} */ (output.pop());
    if (/\n/.test(last)) newline = true;
  }

  if (newline) output.push("\n");

  return output.join("");
}

format.default = format;
module.exports = format;


/***/ }),

/***/ "./lib/ClassManager.ts":
/*!*****************************!*\
  !*** ./lib/ClassManager.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class ClassManager {
    constructor(classMappings) {
        this.classMappings = classMappings;
        this.classes = [];
    }
    toString() {
        const buffer = new StringBuffer_1.StringBuffer();
        let latch = false;
        for (const str of this.classes) {
            const actual = str.trim();
            if (actual.length > 0) {
                if (latch) {
                    buffer.append(" ");
                }
                const substitute = this.classMappings.get(actual);
                if (substitute) {
                    buffer.append(substitute);
                }
                else {
                    buffer.append(actual);
                }
                latch = true;
            }
        }
        return buffer.toString();
    }
    append(value, prefix, def) {
        this.classes.push(value ? prefix + value.trim().toLowerCase() : def);
    }
}
exports["default"] = ClassManager;


/***/ }),

/***/ "./lib/Errors.ts":
/*!***********************!*\
  !*** ./lib/Errors.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldError = exports.ObjectError = exports.Errors = void 0;
class Errors {
    constructor(errors = []) {
        this.errors = errors;
    }
    hasErrors() {
        return this.errors.length !== 0;
    }
    getAllErrors() {
        return this.errors;
    }
    getErrorCount() {
        return this.errors.length;
    }
    getGlobalError() {
        return this.errors.find(err => !(err instanceof FieldError));
    }
    getGlobalErrors() {
        return this.errors.filter(err => !(err instanceof FieldError));
    }
    hasGlobalErrors() {
        return this.errors.filter(err => !(err instanceof FieldError)).length !== 0;
    }
    getGlobalErrorsCount() {
        return this.errors.filter(err => !(err instanceof FieldError)).length;
    }
    getFieldError(name) {
        return this.errors.find(err => err instanceof FieldError && (name === undefined || err.getField() === name));
    }
    getFieldErrors(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name));
    }
    hasFieldErrors(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name)).length !== 0;
    }
    getFieldErrorCount(name) {
        return this.errors.filter(err => err instanceof FieldError && (name === undefined || err.getField() === name)).length;
    }
}
exports.Errors = Errors;
class ObjectError {
    constructor(objectName, defaultMessage) {
        this.objectName = objectName;
        this.defaultMessage = defaultMessage;
    }
    getObjectName() {
        return this.objectName;
    }
    getDefaultMessage() {
        return this.defaultMessage;
    }
}
exports.ObjectError = ObjectError;
class FieldError extends ObjectError {
    constructor(objectName, field, rejectedValue, defaultMessage) {
        super(objectName, defaultMessage);
        this.field = field;
        this.rejectedValue = rejectedValue;
    }
    getField() {
        return this.field;
    }
    getRejectedValue() {
        return this.rejectedValue;
    }
}
exports.FieldError = FieldError;


/***/ }),

/***/ "./lib/RenderingEngine.ts":
/*!********************************!*\
  !*** ./lib/RenderingEngine.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ./parser */ "./lib/parser.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ./utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const bindings_1 = __webpack_require__(/*! ./bindings */ "./lib/bindings/index.ts");
const FreemarkerError_1 = __webpack_require__(/*! ./freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const fs_1 = __importDefault(__webpack_require__(/*! fs */ "fs"));
const node_path_1 = __importDefault(__webpack_require__(/*! node:path */ "node:path"));
const freemarker_1 = __webpack_require__(/*! ./freemarker */ "./lib/freemarker.ts");
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class RenderingEngine {
    constructor(file, classMappings, substitutions, dir) {
        this.file = file;
        this.classMappings = classMappings;
        this.substitutions = substitutions;
        this.dir = dir;
    }
    renderElement(element, parent) {
        if (!element.attributes.id) {
            element.attributes.id = (0, generate_id_1.default)();
        }
        const binder = (0, bindings_1.findBinder)(element.name);
        if (binder === undefined) {
            throw new FreemarkerError_1.FreemarkerError("No binding found for " + element.name);
        }
        return binder.render(element, this.classMappings, this, this.substitutions, parent);
    }
    renderChildren(element) {
        const content = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                content.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                content.append(this.renderElement(child, element));
            }
        });
        return content.toString();
    }
    render(templateName, data) {
        const template = fs_1.default.readFileSync(node_path_1.default.join(process.env.INIT_CWD, this.dir, 'partials', templateName), 'utf8');
        try {
            return new freemarker_1.TemplateEngine().render(template, data);
        }
        catch (err) {
            throw new FreemarkerError_1.FreemarkerError(`Error processing ftl template '${templateName}'`, err);
        }
    }
}
exports["default"] = RenderingEngine;


/***/ }),

/***/ "./lib/bindings/AccordionBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/AccordionBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionBinder {
    accept(name) {
        return name === 'accordion';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.flush = element.attributes.flush === "true";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion.ftl', data);
    }
}
exports["default"] = AccordionBinder;


/***/ }),

/***/ "./lib/bindings/AccordionItemBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/AccordionItemBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionItemBinder {
    accept(name) {
        return name === 'accordion-item';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.active = element.attributes.active === "true";
        data.singleActive = (parent === null || parent === void 0 ? void 0 : parent.attributes.singleActive) === "true";
        data.accordionId = parent === null || parent === void 0 ? void 0 : parent.attributes.id;
        data.size = element.attributes.size;
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                if (child.name === 'accordion-item-header') {
                    data.header = renderingEngine.renderElement(child, element);
                }
                else {
                    output.append(renderingEngine.renderElement(child, element));
                }
            }
        });
        data.content = output.toString();
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.backgroundFlavour, 'bg-', '');
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion-item.ftl', data);
    }
}
exports["default"] = AccordionItemBinder;


/***/ }),

/***/ "./lib/bindings/AccordionItemHeaderBinder.ts":
/*!***************************************************!*\
  !*** ./lib/bindings/AccordionItemHeaderBinder.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class AccordionItemHeaderBinder {
    accept(name) {
        return name === 'accordion-item-header';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = parent.attributes.id;
        data.active = (parent === null || parent === void 0 ? void 0 : parent.attributes.active) === "true";
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('accordion-item-header.ftl', data);
    }
}
exports["default"] = AccordionItemHeaderBinder;


/***/ }),

/***/ "./lib/bindings/BackLinkBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/BackLinkBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class BackLinkBinder {
    accept(name) {
        return name === 'back-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.backLinkOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('back-link.ftl', data);
    }
}
exports["default"] = BackLinkBinder;


/***/ }),

/***/ "./lib/bindings/BadgeBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/BadgeBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class BadgeBinder {
    accept(name) {
        return name === 'badge';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'badge-', 'badge-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('badge.ftl', data);
    }
}
exports["default"] = BadgeBinder;


/***/ }),

/***/ "./lib/bindings/BrBinder.ts":
/*!**********************************!*\
  !*** ./lib/bindings/BrBinder.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class BrBinder {
    accept(name) {
        return name === 'br';
    }
    render(element, classMappings, renderingEngine) {
        return renderingEngine.render('br.ftl', {});
    }
}
exports["default"] = BrBinder;


/***/ }),

/***/ "./lib/bindings/ButtonBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ButtonBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ButtonBinder {
    accept(name) {
        return name === 'button';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.disabled = null;
        data.content = renderingEngine.renderChildren(element);
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.name = "_NAME_";
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.size, 'btn-', '');
        classManager.append(element.attributes.buttonFlavour, 'btn-', 'btn-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('button.ftl', data);
    }
}
exports["default"] = ButtonBinder;


/***/ }),

/***/ "./lib/bindings/CardBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/CardBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardBinder {
    accept(name) {
        return name === 'card';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.isLink = !!element.attributes.link;
        const preserveLink = element.attributes.preserveLink === "true";
        data.link = preserveLink ? '/' + element.attributes.view : 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        data.rel = '';
        data.target = '';
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                if (child.name === 'card-header') {
                    data.headerContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'image') {
                    data.imageContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'card-body') {
                    data.bodyContent = renderingEngine.renderElement(child, element);
                }
                else if (child.name === 'card-footer') {
                    data.footerContent = renderingEngine.renderElement(child, element);
                }
            }
        });
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'card-', 'card-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card.ftl', data);
    }
}
exports["default"] = CardBinder;


/***/ }),

/***/ "./lib/bindings/CardBodyBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/CardBodyBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardBodyBinder {
    accept(name) {
        return name === 'card-body';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-body.ftl', data);
    }
}
exports["default"] = CardBodyBinder;


/***/ }),

/***/ "./lib/bindings/CardFooterBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/CardFooterBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardFooterBinder {
    accept(name) {
        return name === 'card-footer';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-footer.ftl', data);
    }
}
exports["default"] = CardFooterBinder;


/***/ }),

/***/ "./lib/bindings/CardHeaderBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/CardHeaderBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CardHeaderBinder {
    accept(name) {
        return name === 'card-header';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('card-header.ftl', data);
    }
}
exports["default"] = CardHeaderBinder;


/***/ }),

/***/ "./lib/bindings/CarouselBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/CarouselBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CarouselBinder {
    accept(name) {
        return name === 'carousel';
    }
    render(element, classMappings, renderingEngine) {
        const panels = element.children.filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name === 'carousel-panel');
        let activeIndex = panels.findIndex(el => el.attributes.active === "true");
        if (activeIndex === -1 && panels.length) {
            panels[0].attributes.active = "true";
            activeIndex = 0;
        }
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        data.autoSlide = element.attributes.autoSlide === "true";
        data.controls = element.attributes.controls === "true";
        data.indicators = element.attributes.indicators === "true";
        data.numberOfIndicators = panels.length;
        data.activeIndex = activeIndex || 0;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('carousel.ftl', data);
    }
}
exports["default"] = CarouselBinder;


/***/ }),

/***/ "./lib/bindings/CarouselPanelBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/CarouselPanelBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CarouselPanelBinder {
    accept(name) {
        return name === 'carousel-panel';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        data.active = element.attributes.active === "true";
        data.interval = element.attributes.interval;
        data.src = "/public/img/" + element.attributes.src;
        data.carouselId = parent === null || parent === void 0 ? void 0 : parent.attributes.id;
        data.imageClasses = classMappings.get("carousel-image");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('carousel-panel.ftl', data);
    }
}
exports["default"] = CarouselPanelBinder;


/***/ }),

/***/ "./lib/bindings/CellBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/CellBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CellBinder {
    accept(name) {
        return name === 'cell';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('cell.ftl', data);
    }
}
exports["default"] = CellBinder;


/***/ }),

/***/ "./lib/bindings/CloseWorkflowExecutedPanelBinder.ts":
/*!**********************************************************!*\
  !*** ./lib/bindings/CloseWorkflowExecutedPanelBinder.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CloseWorkflowExecutedPanelBinder {
    accept(name) {
        return name === 'close-workflow-executed-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.workflow = "workflow:1";
        data.principal = "mr_username";
        data.closeOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('close-workflow-executed-panel.ftl', data);
    }
}
exports["default"] = CloseWorkflowExecutedPanelBinder;


/***/ }),

/***/ "./lib/bindings/ColumnBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ColumnBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ColumnBinder {
    accept(name) {
        return name === 'column';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('column.ftl', data);
    }
}
exports["default"] = ColumnBinder;


/***/ }),

/***/ "./lib/bindings/ConfirmWorkflowPanelBinder.ts":
/*!****************************************************!*\
  !*** ./lib/bindings/ConfirmWorkflowPanelBinder.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ConfirmWorkflowPanelBinder {
    accept(name) {
        return name === 'confirm-workflow-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.workflow = "workflow:1";
        data.principal = "mr_username";
        data.confirmOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('confirm-workflow-panel.ftl', data);
    }
}
exports["default"] = ConfirmWorkflowPanelBinder;


/***/ }),

/***/ "./lib/bindings/ConfirmationPanelBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/ConfirmationPanelBinder.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ConfirmationPanelBinder {
    accept(name) {
        return name === 'confirmation-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.submitOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('confirmation-panel.ftl', data);
    }
}
exports["default"] = ConfirmationPanelBinder;


/***/ }),

/***/ "./lib/bindings/CookieConsentBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/CookieConsentBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class CookieConsentBinder {
    accept(name) {
        return name === 'cookie-consent';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.allowCookiesOnclick = "alert('clicked'); event.preventDefault();";
        data.privacyPolicyOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('cookie-consent.ftl', data);
    }
}
exports["default"] = CookieConsentBinder;


/***/ }),

/***/ "./lib/bindings/DivBinder.ts":
/*!***********************************!*\
  !*** ./lib/bindings/DivBinder.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class DivBinder {
    accept(name) {
        return name === 'div';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('div.ftl', data);
    }
}
exports["default"] = DivBinder;


/***/ }),

/***/ "./lib/bindings/EmailBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/EmailBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EmailBinder {
    accept(name) {
        return name === 'email';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('email.ftl', data);
    }
}
exports["default"] = EmailBinder;


/***/ }),

/***/ "./lib/bindings/EmailConfirmationLinkBinder.ts":
/*!*****************************************************!*\
  !*** ./lib/bindings/EmailConfirmationLinkBinder.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EmailConfirmationLinkBinder {
    accept(name) {
        return name === 'email-confirmation-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = element.attributes.label;
        data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('email-confirmation-link.ftl', data);
    }
}
exports["default"] = EmailConfirmationLinkBinder;


/***/ }),

/***/ "./lib/bindings/EnumerationInputBinder.ts":
/*!************************************************!*\
  !*** ./lib/bindings/EnumerationInputBinder.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class EnumerationInputBinder {
    accept(name) {
        return name === 'enumeration-input';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.value = "";
        data.disabled = null;
        data.label = element.attributes.label;
        data.type = element.attributes.type;
        data.reference = element.attributes.reference;
        data.size = element.attributes.size;
        data.style = element.attributes.style;
        data.cardinality = element.attributes.cardinality;
        const values = element.children
            .filter(n => (0, parser_1.isElement)(n))
            .map(n => n)
            .filter(n => n.name === 'value');
        if (element.attributes.cardinality === 'MULTIPLE_SELECT') {
            data.value = values
                .filter(n => n.attributes.default === 'true')
                .map(n => n.attributes.key);
        }
        else {
            data.value = values
                .filter(n => n.attributes.default === 'true')
                .map(n => n.attributes.key)
                .find(n => true) || null;
        }
        data.panels = values.find(n => n.attributes.panel === 'true');
        data.values = values.map(value => ({
            key: value.attributes.key,
            label: value.attributes.label,
            panel: renderingEngine.renderElement(value, element)
        }));
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('enumeration-input.ftl', data);
    }
}
exports["default"] = EnumerationInputBinder;


/***/ }),

/***/ "./lib/bindings/ErrorSummaryBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/ErrorSummaryBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ErrorSummaryBinder {
    accept(name) {
        return name === 'error-summary';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.errors = new Errors_1.Errors();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('error-summary.ftl', data);
    }
}
exports["default"] = ErrorSummaryBinder;


/***/ }),

/***/ "./lib/bindings/FakeMessageBinder.ts":
/*!*******************************************!*\
  !*** ./lib/bindings/FakeMessageBinder.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Message_1 = __importDefault(__webpack_require__(/*! ../store/Message */ "./lib/store/Message.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
class FakeMessageBinder {
    accept(name) {
        return name === 'fake-message';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addMessage(new Message_1.default((0, generate_id_1.default)(), element.attributes.dateTime, (0, generate_id_1.default)(), element.attributes.kaseId, element.attributes.wizardId, element.attributes.workflowId, element.attributes.group, element.attributes.queue, element.attributes.principal, (0, generate_id_1.default)(), new Date().getTime()));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeMessageBinder;


/***/ }),

/***/ "./lib/bindings/FakePageBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/FakePageBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Page_1 = __importDefault(__webpack_require__(/*! ../store/Page */ "./lib/store/Page.ts"));
class FakePageBinder {
    accept(name) {
        return name === 'fake-page';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addPage(new Page_1.default(element.attributes.name, element.attributes.version, element.attributes.group, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakePageBinder;


/***/ }),

/***/ "./lib/bindings/FakeQueue.ts":
/*!***********************************!*\
  !*** ./lib/bindings/FakeQueue.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Queue_1 = __importDefault(__webpack_require__(/*! ../store/Queue */ "./lib/store/Queue.ts"));
class FakeQueueBinder {
    accept(name) {
        return name === 'fake-queue';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addQueue(new Queue_1.default(element.attributes.name, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeQueueBinder;


/***/ }),

/***/ "./lib/bindings/FakeStoreBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/FakeStoreBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
class FakeStoreBinder {
    accept(name) {
        return name === 'fake-store';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.clear();
        Store_1.default.setTestContext();
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeStoreBinder;


/***/ }),

/***/ "./lib/bindings/FakeUserBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/FakeUserBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const User_1 = __importDefault(__webpack_require__(/*! ../store/User */ "./lib/store/User.ts"));
class FakeUserBinder {
    accept(name) {
        return name === 'fake-user';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addUser(new User_1.default(element.attributes.username, element.attributes.title, element.attributes.firstName, element.attributes.lastName, element.attributes.email, element.attributes.contactNumber, element.attributes.dateOfBirth, element.attributes.timezone, element.attributes.groups.split(":").filter(grp => grp.trim().length), element.attributes.userData));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeUserBinder;


/***/ }),

/***/ "./lib/bindings/FakeWizardBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/FakeWizardBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Wizard_1 = __importDefault(__webpack_require__(/*! ../store/Wizard */ "./lib/store/Wizard.ts"));
class FakeWizardBinder {
    accept(name) {
        return name === 'fake-wizard';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addWizard(new Wizard_1.default(element.attributes.name, element.attributes.version, element.attributes.title, element.attributes.description, element.attributes.active === "true", element.attributes.released === "true"));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeWizardBinder;


/***/ }),

/***/ "./lib/bindings/FakeWorkflowBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/FakeWorkflowBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const Workflow_1 = __importDefault(__webpack_require__(/*! ../store/Workflow */ "./lib/store/Workflow.ts"));
class FakeWorkflowBinder {
    accept(name) {
        return name === 'fake-workflow';
    }
    render(element, classMappings, renderingEngine) {
        Store_1.default.addWorkflow(new Workflow_1.default(element.attributes.name, element.attributes.version, element.attributes.group, element.attributes.title, element.attributes.description));
        return renderingEngine.renderChildren(element);
    }
}
exports["default"] = FakeWorkflowBinder;


/***/ }),

/***/ "./lib/bindings/FormBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/FormBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class FormBinder {
    accept(name) {
        return name === 'form';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('form.ftl', data);
    }
}
exports["default"] = FormBinder;


/***/ }),

/***/ "./lib/bindings/HorizontalRuleBinder.ts":
/*!**********************************************!*\
  !*** ./lib/bindings/HorizontalRuleBinder.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class HorizontalRuleBinder {
    accept(name) {
        return name === 'horizontal-rule';
    }
    render(element, classMappings, renderingEngine) {
        return renderingEngine.render('horizontal-rule.ftl', {});
    }
}
exports["default"] = HorizontalRuleBinder;


/***/ }),

/***/ "./lib/bindings/IconBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/IconBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class IconBinder {
    accept(name) {
        return name === 'icon';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.name = element.attributes.name;
        data.size = element.attributes.size;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'icon-', 'icon-default');
        classManager.append(element.attributes.size, 'icon-size-', 'icon-size-medium');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('icon.ftl', data);
    }
}
exports["default"] = IconBinder;


/***/ }),

/***/ "./lib/bindings/ImageBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ImageBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ImageBinder {
    accept(name) {
        return name === 'image';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.src = "/public/img/" + element.attributes.src;
        data.alt = element.attributes['alt'] || '';
        let imageStyles = '';
        if ('imageHeight' in element.attributes) {
            imageStyles += 'height: ' + element.attributes['imageHeight'] + '; ';
        }
        if ('imageWidth' in element.attributes) {
            imageStyles += 'width: ' + element.attributes['imageWidth'] + '; ';
        }
        if ('padding' in element.attributes) {
            imageStyles += 'padding: ' + element.attributes['padding'] + '; ';
        }
        if ('margin' in element.attributes) {
            imageStyles += 'margin: ' + element.attributes['margin'] + '; ';
        }
        if ('border' in element.attributes) {
            imageStyles += 'border: ' + element.attributes['border'] + '; ';
        }
        if ('borderRadius' in element.attributes) {
            imageStyles += 'border-radius: ' + element.attributes.borderRadius + '; ';
        }
        if ('objectFit' in element.attributes) {
            imageStyles += 'object-fit: ' + element.attributes.objectFit + '; ';
        }
        if ('object-position' in element.attributes) {
            imageStyles += 'object-position: ' + element.attributes.objectPosition + '; ';
        }
        if ('opacity' in element.attributes) {
            imageStyles += 'opacity: ' + element.attributes['opacity'] + '; ';
        }
        if ('background' in element.attributes) {
            imageStyles += 'background: ' + element.attributes['background'] + '; ';
        }
        data.imageStyles = imageStyles;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('image.ftl', data);
    }
}
exports["default"] = ImageBinder;


/***/ }),

/***/ "./lib/bindings/InitiateWorkflowButtonBinder.ts":
/*!******************************************************!*\
  !*** ./lib/bindings/InitiateWorkflowButtonBinder.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InitiateWorkflowButtonBinder {
    accept(name) {
        return name === 'initiate-workflow-button';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.size = element.attributes.size;
        data.disabled = null;
        data.content = renderingEngine.renderChildren(element);
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.showCasePrincipalPicker = element.attributes.showCasePrincipalPicker === "true";
        data.workflow = element.attributes.workflow;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.buttonFlavour, 'btn-', 'btn-default');
        classManager.append(element.attributes.size, 'btn-', '');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('initiate-workflow-button.ftl', data);
    }
}
exports["default"] = InitiateWorkflowButtonBinder;


/***/ }),

/***/ "./lib/bindings/InputBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/InputBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InputBinder {
    accept(name) {
        return name === 'input';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.value = "";
        data.disabled = null;
        data.label = element.attributes.label;
        data.type = element.attributes.type;
        data.reference = element.attributes.reference;
        data.min = element.attributes.min;
        data.max = element.attributes.max;
        data.cols = element.attributes.cols;
        data.rows = element.attributes.rows;
        data.size = element.attributes.size;
        data.maxLength = element.attributes.maxLength;
        data.currencySymbol = element.attributes.inputType === 'CURRENCY' ? '' : null;
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('input.ftl', data);
    }
}
exports["default"] = InputBinder;


/***/ }),

/***/ "./lib/bindings/InsetTextBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/InsetTextBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class InsetTextBinder {
    accept(name) {
        return name === 'inset-text';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'inset-text-', 'inset-text-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('inset-text.ftl', data);
    }
}
exports["default"] = InsetTextBinder;


/***/ }),

/***/ "./lib/bindings/JumbotronBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/JumbotronBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class JumbotronBinder {
    accept(name) {
        return name === 'jumbotron';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('jumbotron.ftl', data);
    }
}
exports["default"] = JumbotronBinder;


/***/ }),

/***/ "./lib/bindings/LinkBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/LinkBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class LinkBinder {
    accept(name) {
        return name === 'link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        if (Store_1.default.isTestContext()) {
            data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        }
        else {
            if (element.attributes.view) {
                data.link = "/" + element.attributes.view;
            }
            else {
                data.link = element.attributes.url;
                data.rel = "noreferrer noopener";
                data.target = element.attributes.openNewWindow ? "_blank" : null;
            }
        }
        return renderingEngine.render('link.ftl', data);
    }
}
exports["default"] = LinkBinder;


/***/ }),

/***/ "./lib/bindings/ListBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/ListBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ListBinder {
    accept(name) {
        return name === 'list';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.listStyle = element.attributes.listStyle || "BULLET";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('list.ftl', data);
    }
}
exports["default"] = ListBinder;


/***/ }),

/***/ "./lib/bindings/ListItemBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/ListItemBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ListItemBinder {
    accept(name) {
        return name === 'list-item';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.listStyle = element.attributes.listStyle || "BULLET";
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('list-item.ftl', data);
    }
}
exports["default"] = ListItemBinder;


/***/ }),

/***/ "./lib/bindings/LoginPanelBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/LoginPanelBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class LoginPanelBinder {
    accept(name) {
        return name === 'login-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([
            new Errors_1.FieldError("this", "username", "", "Invalid username supplied")
        ]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.enableRegistration = true;
        data.enablePrivacyPolicyAgreementOnLogin = true;
        data.registerOnclick = "alert('clicked'); event.preventDefault();";
        data.loginOnclick = "alert('clicked'); event.preventDefault();";
        data.forgotPasswordOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('login-panel.ftl', data);
    }
}
exports["default"] = LoginPanelBinder;


/***/ }),

/***/ "./lib/bindings/LoopBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/LoopBinder.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const FreemarkerError_1 = __webpack_require__(/*! ../freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
class LoopBinder {
    accept(name) {
        return name === 'loop';
    }
    render(element, classMappings, renderingEngine, substitutions) {
        const output = new StringBuffer_1.StringBuffer();
        if (element.attributes.reference in substitutions) {
            const val = substitutions[element.attributes.reference].value;
            if (!Array.isArray(val)) {
                throw new FreemarkerError_1.FreemarkerError(`Expected array for substitution ${element.attributes.reference}`);
            }
            for (const v of val) {
                substitutions['.'] = { value: v };
                const data = {};
                data.content = renderingEngine.renderChildren(element);
                output.append(renderingEngine.render('loop.ftl', data));
            }
        }
        else {
            throw new FreemarkerError_1.FreemarkerError(`No substitution found for plantain expression ${element.attributes.reference}`);
        }
        return output.toString();
    }
}
exports["default"] = LoopBinder;


/***/ }),

/***/ "./lib/bindings/MenuBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/MenuBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuBinder {
    accept(name) {
        return name === 'menu';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        const menuBrand = children.find(el => el.name === 'menu-brand');
        let menuBrandContent = menuBrand ? renderingEngine.renderElement(menuBrand, element) : "";
        const menuItems = children.filter(el => el.name === 'menu-item');
        const content = new StringBuffer_1.StringBuffer();
        for (const child of menuItems) {
            content.append(renderingEngine.renderElement(child, element));
        }
        let expand = "";
        if (element.attributes.axis === 'HORIZONTAL') {
            if (menuItems.length > 5) {
                expand = "navbar-expand-lg";
            }
            else if (menuItems.length > 3) {
                expand = "navbar-expand-md";
            }
            else {
                expand = "navbar-expand-sm";
            }
        }
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        data.menuBrand = menuBrandContent;
        data.axis = element.attributes.axis || 'VERTICAL';
        data.content = content.toString();
        data.expand = expand;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('menu.ftl', data);
    }
}
exports["default"] = MenuBinder;


/***/ }),

/***/ "./lib/bindings/MenuBrandBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/MenuBrandBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuBrandBinder {
    accept(name) {
        return name === 'menu-brand';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('menu-brand.ftl', data);
    }
}
exports["default"] = MenuBrandBinder;


/***/ }),

/***/ "./lib/bindings/MenuItemBinder.ts":
/*!****************************************!*\
  !*** ./lib/bindings/MenuItemBinder.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MenuItemBinder {
    accept(name) {
        return name === 'menu-item';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const isInSubMenu = parent.name === "sub-menu";
        if (isInSubMenu) {
            parent.attributes.hasContent = "true";
        }
        const data = {};
        data.content = renderingEngine.renderChildren(element);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.type = element.attributes.type;
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.disabled = null;
        data.workflow = element.attributes.workflow;
        data.link = "#";
        data.isInSubMenu = isInSubMenu;
        data.showCasePrincipalPicker = element.attributes.showCasePrincipalPicker === "true";
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'text-', 'text-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('menu-item.ftl', data);
    }
}
exports["default"] = MenuItemBinder;


/***/ }),

/***/ "./lib/bindings/MessageExplorerBinder.ts":
/*!***********************************************!*\
  !*** ./lib/bindings/MessageExplorerBinder.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MessageExplorerBinder {
    accept(name) {
        return name === 'message-explorer';
    }
    render(element, classMappings, renderingEngine) {
        const values = Store_1.default.getMessages().map(m => {
            const [wizardName, wizardVersion] = m.getWizardId().split(":");
            const wizard = Store_1.default.getWizards().find(w => w.getName() === wizardName && w.getVersion() === wizardVersion);
            const [workflowGroup, workflowName, workflowVersion] = m.getWorkflowId().split(":");
            const workflow = Store_1.default.getWorkflows().find(w => w.getGroup() === workflowGroup && w.getName() === workflowName && w.getVersion() === workflowVersion);
            return {
                wipId: m.getWipId(),
                wizardId: m.getWizardId(),
                wizardTitle: wizard === null || wizard === void 0 ? void 0 : wizard.getTitle(),
                wizardDescription: wizard === null || wizard === void 0 ? void 0 : wizard.getDescription(),
                workflowId: m.getWorkflowId(),
                workflowTitle: workflow === null || workflow === void 0 ? void 0 : workflow.getTitle(),
                workflowDescription: workflow === null || workflow === void 0 ? void 0 : workflow.getDescription(),
                date: m.getDateTime().substring(0, 10),
                dateTime: m.getDateTime(),
                principal: m.getPrincipal(),
            };
        });
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.bust = (0, generate_id_1.default)();
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = values;
        data.wizard = "";
        data.queue = "";
        data.workflow = "";
        data.principal = "";
        data.groups = ["public, authenticated"];
        data.startIndex = "0";
        data.endIndex = String(Number.MAX_VALUE);
        data.workflows = Store_1.default.getWorkflows().map(w => {
            return {
                id: w.getGroup() + ":" + w.getName() + ":" + w.getVersion(),
                title: w.getTitle()
            };
        });
        data.wizards = Store_1.default.getWizards().map(w => {
            return {
                id: w.getName() + ":" + w.getVersion(),
                title: w.getTitle()
            };
        });
        data.queues = Store_1.default.getQueues();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('message-explorer.ftl', data);
    }
}
exports["default"] = MessageExplorerBinder;


/***/ }),

/***/ "./lib/bindings/MileStoneBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/MileStoneBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class MileStoneBinder {
    accept(name) {
        return name === 'mile-stone';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const stones = parent.children
            .filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name = "mile-stone");
        const total = stones.length;
        const index = stones.findIndex(el => el === element);
        let tag = "";
        if (parent.attributes.mileStoneStyle === "NUMBERED") {
            tag = "" + (index + 1);
        }
        else if (parent.attributes.mileStoneStyle === "PERCENT") {
            tag = "" + Math.floor(index / total * 100) + "%";
        }
        const data = {};
        data.id = element.attributes.id;
        data.label = element.attributes.label;
        data.active = element.attributes.active === "true";
        data.mileStoneStyle = parent.attributes.mileStoneStyle;
        data.labelSide = parent.attributes.labelSide;
        data.content = renderingEngine.renderChildren(element);
        data.tag = tag;
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.mileStoneStyle, 'milestone-style-', '');
        classManager.append(element.attributes.labelSide, 'label-side-', '');
        data.classes = classManager.toString();
        return renderingEngine.render('mile-stone.ftl', data);
    }
}
exports["default"] = MileStoneBinder;


/***/ }),

/***/ "./lib/bindings/NotificationBannerBinder.ts":
/*!**************************************************!*\
  !*** ./lib/bindings/NotificationBannerBinder.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class NotificationBannerBinder {
    accept(name) {
        return name === 'notification-banner';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.title = element.attributes.title;
        data.flavour = element.attributes.flavour;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'notification-banner-', 'notification-banner-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('notification-banner.ftl', data);
    }
}
exports["default"] = NotificationBannerBinder;


/***/ }),

/***/ "./lib/bindings/PageBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/PageBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class PageBinder {
    accept(name) {
        return name === 'page';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('page.ftl', data);
    }
}
exports["default"] = PageBinder;


/***/ }),

/***/ "./lib/bindings/ParagraphBinder.ts":
/*!*****************************************!*\
  !*** ./lib/bindings/ParagraphBinder.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ParagraphBinder {
    accept(name) {
        return name === 'paragraph';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.paragraphStyle = element.attributes.paragraphStyle || 'PLAIN';
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('paragraph.ftl', data);
    }
}
exports["default"] = ParagraphBinder;


/***/ }),

/***/ "./lib/bindings/PasswordResetLinkBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/PasswordResetLinkBinder.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class PasswordResetLinkBinder {
    accept(name) {
        return name === 'password-reset-link';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = element.attributes.label;
        data.link = 'javascript:alert(&quot;link was clicked&quot;); event.preventDefault();';
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('password-reset-link.ftl', data);
    }
}
exports["default"] = PasswordResetLinkBinder;


/***/ }),

/***/ "./lib/bindings/ProgressBarBinder.ts":
/*!*******************************************!*\
  !*** ./lib/bindings/ProgressBarBinder.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ProgressBarBinder {
    accept(name) {
        return name === 'progress-bar';
    }
    render(element, classMappings, renderingEngine) {
        const milestones = element.children.filter(el => (0, parser_1.isElement)(el))
            .map(el => el)
            .filter(el => el.name === 'mile-stone');
        if (milestones.length) {
            milestones[0].attributes.active = "true";
        }
        const data = {};
        data.id = element.attributes.id;
        data.axis = element.attributes.axis;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'progress-bar-', 'progress-bar-default');
        classManager.append(element.attributes.axis, 'progress-bar-axis-', '');
        classManager.append(element.attributes.labelSide, 'progress-bar-label-side-', '');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('progress-bar.ftl', data);
    }
}
exports["default"] = ProgressBarBinder;


/***/ }),

/***/ "./lib/bindings/RegisterPanelBinder.ts":
/*!*********************************************!*\
  !*** ./lib/bindings/RegisterPanelBinder.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const Errors_1 = __webpack_require__(/*! ../Errors */ "./lib/Errors.ts");
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class RegisterPanelBinder {
    accept(name) {
        return name === 'register-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.errors = new Errors_1.Errors([]);
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.timezones = [];
        data.nextOnclick = "alert('clicked'); event.preventDefault();";
        data.loginOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('register-panel.ftl', data);
    }
}
exports["default"] = RegisterPanelBinder;


/***/ }),

/***/ "./lib/bindings/ResetPasswordPanelBinder.ts":
/*!**************************************************!*\
  !*** ./lib/bindings/ResetPasswordPanelBinder.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ResetPasswordPanelBinder {
    accept(name) {
        return name === 'reset-password-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.content = renderingEngine.renderChildren(element);
        data.nextOnclick = "alert('clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('reset-password-panel.ftl', data);
    }
}
exports["default"] = ResetPasswordPanelBinder;


/***/ }),

/***/ "./lib/bindings/ResetPasswordRequestPanelBinder.ts":
/*!*********************************************************!*\
  !*** ./lib/bindings/ResetPasswordRequestPanelBinder.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ResetPasswordRequestPanelBinder {
    accept(name) {
        return name === 'reset-password-request-panel';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.content = renderingEngine.renderChildren(element);
        data.nextOnclick = "alert('Next button clicked'); event.preventDefault();";
        data.cancelOnclick = "alert('Cancel button clicked'); event.preventDefault();";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('reset-password-request-panel.ftl', data);
    }
}
exports["default"] = ResetPasswordRequestPanelBinder;


/***/ }),

/***/ "./lib/bindings/RowBinder.ts":
/*!***********************************!*\
  !*** ./lib/bindings/RowBinder.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class RowBinder {
    accept(name) {
        return name === 'row';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        return renderingEngine.render('row.ftl', data);
    }
}
exports["default"] = RowBinder;


/***/ }),

/***/ "./lib/bindings/ScaleBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ScaleBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ScaleBinder {
    accept(name) {
        return name === 'scale';
    }
    render(element, classMappings, renderingEngine) {
        let values = undefined;
        if (element.attributes.scaleType === 'NUMERICAL') {
            values = [
                { key: "1", label: "1" },
                { key: "2", label: "2" },
                { key: "3", label: "3" },
                { key: "4", label: "4" },
                { key: "5", label: "5" },
                { key: "6", label: "6" },
                { key: "7", label: "7" },
                { key: "8", label: "8" },
                { key: "9", label: "9" },
                { key: "10", label: "10" },
            ];
        }
        else if (element.attributes.scaleType === 'LIKERT') {
            values = [
                { key: "strongly-disagree", label: "Strongly Disagree" },
                { key: "disagree", label: "Disagree" },
                { key: "neutral", label: "Neutral" },
                { key: "agree", label: "Agree" },
                { key: "strongly-agree", label: "Strongly Agree" },
            ];
        }
        else if (element.attributes.scaleType === 'FREQUENCY') {
            values = [
                { key: "never", label: "Never" },
                { key: "rarely", label: "Rarely" },
                { key: "sometimes", label: "Sometimes" },
                { key: "often", label: "Often" },
                { key: "very-often", label: "Very Often" },
            ];
        }
        else if (element.attributes.scaleType === 'DICHOTOMOUS') {
            values = [
                { key: "yes", label: "Yes" },
                { key: "no", label: "No" }
            ];
        }
        else if (element.attributes.scaleType === 'BOOLEAN') {
            values = [
                { key: "true", label: "True" },
                { key: "false", label: "False" }
            ];
        }
        const data = {};
        data.id = element.attributes.id;
        data.disabled = null;
        data.label = element.attributes.label;
        data.scaleType = element.attributes.scaleType;
        data.reference = element.attributes.reference;
        data.size = element.attributes.size;
        data.values = values;
        data.value = "";
        data.error = new Error("some error message");
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('scale.ftl', data);
    }
}
exports["default"] = ScaleBinder;


/***/ }),

/***/ "./lib/bindings/ScriptBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/ScriptBinder.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const FreemarkerError_1 = __webpack_require__(/*! ../freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
class SpanBinder {
    accept(name) {
        return name === 'script';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        if (element.attributes.script in substitutions) {
            const val = substitutions[element.attributes.script].value;
            if (typeof val !== "string") {
                throw new FreemarkerError_1.FreemarkerError(`Expected string for substitution ${element.attributes.script}`);
            }
            data.text = val;
        }
        else {
            throw new FreemarkerError_1.FreemarkerError(`No substitution found for plantain expression ${element.attributes.script}`);
        }
        return renderingEngine.render('script.ftl', data);
    }
}
exports["default"] = SpanBinder;


/***/ }),

/***/ "./lib/bindings/SpanBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/SpanBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SpanBinder {
    accept(name) {
        return name === 'span';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.paragraphStyle = element.attributes.paragraphStyle || 'PLAIN';
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('span.ftl', data);
    }
}
exports["default"] = SpanBinder;


/***/ }),

/***/ "./lib/bindings/SubMenuBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/SubMenuBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SubMenuBinder {
    accept(name) {
        return name === 'sub-menu';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        let label, content = new StringBuffer_1.StringBuffer();
        for (const child of children) {
            if (child.name == 'sub-menu-label') {
                label = renderingEngine.renderElement(child, element);
            }
            else {
                content.append(renderingEngine.renderElement(child, element));
            }
        }
        const data = {};
        data.id = element.attributes.id;
        data.content = content.toString();
        data.hasContent = element.attributes.hasContent === "true";
        data.label = label;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('sub-menu.ftl', data);
    }
}
exports["default"] = SubMenuBinder;


/***/ }),

/***/ "./lib/bindings/SubMenuLabelBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/SubMenuLabelBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class SubMenuLabelBinder {
    accept(name) {
        return name === 'sub-menu-label';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'text-', 'text-default');
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('sub-menu-label.ftl', data);
    }
}
exports["default"] = SubMenuLabelBinder;


/***/ }),

/***/ "./lib/bindings/SwitchBinder.ts":
/*!**************************************!*\
  !*** ./lib/bindings/SwitchBinder.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
class SwitchBinder {
    accept(name) {
        return name === 'switch';
    }
    render(element, classMappings, renderingEngine, substitutions) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        let found = children.find(el => el.name === 'def');
        for (const child of children) {
            if (child.attributes.condition in substitutions && substitutions[child.attributes.condition].value) {
                found = child;
                break;
            }
        }
        if (found) {
            const data = {};
            data.id = element.attributes.id;
            data.content = renderingEngine.renderChildren(found);
            const classManager = new ClassManager_1.default(classMappings);
            (0, flex_item_support_1.default)(data, classManager, element.attributes);
            data.classes = classManager.toString();
            return renderingEngine.render('switch.ftl', data);
        }
        return "";
    }
}
exports["default"] = SwitchBinder;


/***/ }),

/***/ "./lib/bindings/TableBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/TableBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TableBinder {
    accept(name) {
        return name === 'table';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('table.ftl', data);
    }
}
exports["default"] = TableBinder;


/***/ }),

/***/ "./lib/bindings/TitleBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/TitleBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TitleBinder {
    accept(name) {
        return name === 'title';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.size = element.attributes.size;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('title.ftl', data);
    }
}
exports["default"] = TitleBinder;


/***/ }),

/***/ "./lib/bindings/ToolTipBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/ToolTipBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const StringBuffer_1 = __webpack_require__(/*! ../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ToolTipBinder {
    accept(name) {
        return name === 'tool-tip';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const children = element.children.filter(node => !(0, parser_1.isText)(node));
        if (children.length !== 1) {
            throw new Error("Tool tip element must have only 1 child.");
        }
        const child = children[0];
        element.attributes.alignSelf = child.attributes.alignSelf;
        element.attributes.flexBasis = child.attributes.flexBasis;
        element.attributes.flexGrow = child.attributes.flexGrow;
        element.attributes.flexShrink = child.attributes.flexShrink;
        element.attributes.height = child.attributes.height;
        element.attributes.width = child.attributes.width;
        // element.attributes.padding = child.attributes.padding;
        element.attributes.margin = child.attributes.margin;
        element.attributes.backgroundFlavour = child.attributes.backgroundFlavour;
        element.attributes.borderRadius = child.attributes.borderRadius;
        delete child.attributes.alignSelf;
        delete child.attributes.flexBasis;
        delete child.attributes.flexGrow;
        delete child.attributes.flexShrink;
        delete child.attributes.height;
        delete child.attributes.width;
        delete child.attributes.margin;
        const output = new StringBuffer_1.StringBuffer();
        element.children.forEach(child => {
            if ((0, parser_1.isText)(child)) {
                output.append(child.text);
            }
            else if ((0, parser_1.isElement)(child)) {
                output.append(renderingEngine.renderElement(child, element));
            }
        });
        const data = {};
        data.id = element.attributes.id;
        data.exposition = element.attributes.exposition;
        data.content = output.toString();
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('tool-tip.ftl', data);
    }
}
exports["default"] = ToolTipBinder;


/***/ }),

/***/ "./lib/bindings/TrayBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/TrayBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ../parser */ "./lib/parser.ts");
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TrayBinder {
    accept(name) {
        return name === 'tray';
    }
    render(element, classMappings, renderingEngine) {
        const children = element.children.filter(el => (0, parser_1.isElement)(el)).map(el => el);
        const trayHeader = children.find(el => el.name === "tray-header");
        const values = Store_1.default.getMessages().map(m => {
            const [wizardName, wizardVersion] = m.getWizardId().split(":");
            const wizard = Store_1.default.getWizards().find(w => w.getName() === wizardName && w.getVersion() === wizardVersion);
            const [workflowGroup, workflowName, workflowVersion] = m.getWorkflowId().split(":");
            const workflow = Store_1.default.getWorkflows().find(w => w.getGroup() === workflowGroup && w.getName() === workflowName && w.getVersion() === workflowVersion);
            return {
                wipId: m.getWipId(),
                wizardId: m.getWizardId(),
                wizardTitle: wizard === null || wizard === void 0 ? void 0 : wizard.getTitle(),
                wizardDescription: wizard === null || wizard === void 0 ? void 0 : wizard.getDescription(),
                workflowId: m.getWorkflowId(),
                workflowTitle: workflow === null || workflow === void 0 ? void 0 : workflow.getTitle(),
                workflowDescription: workflow === null || workflow === void 0 ? void 0 : workflow.getDescription(),
                date: m.getDateTime().substring(0, 10),
                dateTime: m.getDateTime(),
                principal: m.getPrincipal(),
            };
        });
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.trayHeader = trayHeader ? renderingEngine.renderElement(trayHeader, element) : "";
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = values;
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('tray.ftl', data);
    }
}
exports["default"] = TrayBinder;


/***/ }),

/***/ "./lib/bindings/TrayHeaderBinder.ts":
/*!******************************************!*\
  !*** ./lib/bindings/TrayHeaderBinder.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const text_style_support_1 = __webpack_require__(/*! ../text-style-support */ "./lib/text-style-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class TrayHeaderBinder {
    accept(name) {
        return name === 'tray-header';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, text_style_support_1.textStyleSupport)(data, classManager, element.attributes, classMappings);
        data.classes = classManager.toString();
        return renderingEngine.render('tray-header.ftl', data);
    }
}
exports["default"] = TrayHeaderBinder;


/***/ }),

/***/ "./lib/bindings/UserExplorerBinder.ts":
/*!********************************************!*\
  !*** ./lib/bindings/UserExplorerBinder.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const Store_1 = __importDefault(__webpack_require__(/*! ../store/Store */ "./lib/store/Store.ts"));
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class UserExplorerBinder {
    accept(name) {
        return name === 'user-explorer';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data._csrf = (0, generate_id_1.default)();
        data.bust = (0, generate_id_1.default)();
        data.onclick = "alert('clicked'); event.preventDefault();";
        data.values = Store_1.default.getUsers();
        data.groups = Store_1.default.getGroups();
        data.group = "";
        data.wizard = "";
        data.workflow = "";
        data.queue = "";
        data.principal = "";
        data.username = "";
        data.firstName = "";
        data.lastName = "";
        data.executeWorkflow = "";
        data.messageExplorerMode = false;
        data.startIndex = "startIndex";
        data.endIndex = "endIndex";
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('user-explorer.ftl', data);
    }
}
exports["default"] = UserExplorerBinder;


/***/ }),

/***/ "./lib/bindings/UuidBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/UuidBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const generate_id_1 = __importDefault(__webpack_require__(/*! ../utilities/generate-id */ "./lib/utilities/generate-id.ts"));
class UuidBinder {
    accept(name) {
        return name === 'uuid';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.reference = element.attributes.reference;
        data.value = (0, generate_id_1.default)();
        return renderingEngine.render('uuid.ftl', data);
    }
}
exports["default"] = UuidBinder;


/***/ }),

/***/ "./lib/bindings/ValueBinder.ts":
/*!*************************************!*\
  !*** ./lib/bindings/ValueBinder.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class ValueBinder {
    accept(name) {
        return name === 'value';
    }
    render(element, classMappings, renderingEngine, substitutions, parent) {
        const data = {};
        data.id = parent.attributes.id;
        data.key = element.attributes.key;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('value-panel.ftl', data);
    }
}
exports["default"] = ValueBinder;


/***/ }),

/***/ "./lib/bindings/WarningBinder.ts":
/*!***************************************!*\
  !*** ./lib/bindings/WarningBinder.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class WarningBinder {
    accept(name) {
        return name === 'warning';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('warning.ftl', data);
    }
}
exports["default"] = WarningBinder;


/***/ }),

/***/ "./lib/bindings/WellBinder.ts":
/*!************************************!*\
  !*** ./lib/bindings/WellBinder.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const flex_item_support_1 = __importDefault(__webpack_require__(/*! ../flex-item-support */ "./lib/flex-item-support.ts"));
const flex_container_support_1 = __webpack_require__(/*! ../flex-container-support */ "./lib/flex-container-support.ts");
const ClassManager_1 = __importDefault(__webpack_require__(/*! ../ClassManager */ "./lib/ClassManager.ts"));
class WellBinder {
    accept(name) {
        return name === 'well';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.content = renderingEngine.renderChildren(element);
        const classManager = new ClassManager_1.default(classMappings);
        classManager.append(element.attributes.flavour, 'well-', 'well-default');
        (0, flex_item_support_1.default)(data, classManager, element.attributes);
        (0, flex_container_support_1.flexContainerSupport)(data, classManager, element.attributes);
        data.classes = classManager.toString();
        return renderingEngine.render('well.ftl', data);
    }
}
exports["default"] = WellBinder;


/***/ }),

/***/ "./lib/bindings/WizardTestResultsBinder.ts":
/*!*************************************************!*\
  !*** ./lib/bindings/WizardTestResultsBinder.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class WizardTestResultsBinder {
    accept(name) {
        return name === 'wizard-test-results';
    }
    render(element, classMappings, renderingEngine) {
        const data = {};
        data.id = element.attributes.id;
        data.content = "some content";
        return renderingEngine.render('wizard-test-results.ftl', data);
    }
}
exports["default"] = WizardTestResultsBinder;


/***/ }),

/***/ "./lib/bindings/index.ts":
/*!*******************************!*\
  !*** ./lib/bindings/index.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.findBinder = void 0;
const TitleBinder_1 = __importDefault(__webpack_require__(/*! ./TitleBinder */ "./lib/bindings/TitleBinder.ts"));
const ParagraphBinder_1 = __importDefault(__webpack_require__(/*! ./ParagraphBinder */ "./lib/bindings/ParagraphBinder.ts"));
const DivBinder_1 = __importDefault(__webpack_require__(/*! ./DivBinder */ "./lib/bindings/DivBinder.ts"));
const LoginPanelBinder_1 = __importDefault(__webpack_require__(/*! ./LoginPanelBinder */ "./lib/bindings/LoginPanelBinder.ts"));
const PageBinder_1 = __importDefault(__webpack_require__(/*! ./PageBinder */ "./lib/bindings/PageBinder.ts"));
const WellBinder_1 = __importDefault(__webpack_require__(/*! ./WellBinder */ "./lib/bindings/WellBinder.ts"));
const UserExplorerBinder_1 = __importDefault(__webpack_require__(/*! ./UserExplorerBinder */ "./lib/bindings/UserExplorerBinder.ts"));
const ImageBinder_1 = __importDefault(__webpack_require__(/*! ./ImageBinder */ "./lib/bindings/ImageBinder.ts"));
const LinkBinder_1 = __importDefault(__webpack_require__(/*! ./LinkBinder */ "./lib/bindings/LinkBinder.ts"));
const BackLinkBinder_1 = __importDefault(__webpack_require__(/*! ./BackLinkBinder */ "./lib/bindings/BackLinkBinder.ts"));
const RegisterPanelBinder_1 = __importDefault(__webpack_require__(/*! ./RegisterPanelBinder */ "./lib/bindings/RegisterPanelBinder.ts"));
const ResetPasswordRequestPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ResetPasswordRequestPanelBinder */ "./lib/bindings/ResetPasswordRequestPanelBinder.ts"));
const ResetPasswordPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ResetPasswordPanelBinder */ "./lib/bindings/ResetPasswordPanelBinder.ts"));
const AccordionItemHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionItemHeaderBinder */ "./lib/bindings/AccordionItemHeaderBinder.ts"));
const InsetTextBinder_1 = __importDefault(__webpack_require__(/*! ./InsetTextBinder */ "./lib/bindings/InsetTextBinder.ts"));
const AccordionItemBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionItemBinder */ "./lib/bindings/AccordionItemBinder.ts"));
const WarningBinder_1 = __importDefault(__webpack_require__(/*! ./WarningBinder */ "./lib/bindings/WarningBinder.ts"));
const ColumnBinder_1 = __importDefault(__webpack_require__(/*! ./ColumnBinder */ "./lib/bindings/ColumnBinder.ts"));
const RowBinder_1 = __importDefault(__webpack_require__(/*! ./RowBinder */ "./lib/bindings/RowBinder.ts"));
const CellBinder_1 = __importDefault(__webpack_require__(/*! ./CellBinder */ "./lib/bindings/CellBinder.ts"));
const TableBinder_1 = __importDefault(__webpack_require__(/*! ./TableBinder */ "./lib/bindings/TableBinder.ts"));
const BadgeBinder_1 = __importDefault(__webpack_require__(/*! ./BadgeBinder */ "./lib/bindings/BadgeBinder.ts"));
const AccordionBinder_1 = __importDefault(__webpack_require__(/*! ./AccordionBinder */ "./lib/bindings/AccordionBinder.ts"));
const CardHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./CardHeaderBinder */ "./lib/bindings/CardHeaderBinder.ts"));
const CardBodyBinder_1 = __importDefault(__webpack_require__(/*! ./CardBodyBinder */ "./lib/bindings/CardBodyBinder.ts"));
const CardFooterBinder_1 = __importDefault(__webpack_require__(/*! ./CardFooterBinder */ "./lib/bindings/CardFooterBinder.ts"));
const CardBinder_1 = __importDefault(__webpack_require__(/*! ./CardBinder */ "./lib/bindings/CardBinder.ts"));
const IconBinder_1 = __importDefault(__webpack_require__(/*! ./IconBinder */ "./lib/bindings/IconBinder.ts"));
const ToolTipBinder_1 = __importDefault(__webpack_require__(/*! ./ToolTipBinder */ "./lib/bindings/ToolTipBinder.ts"));
const ListItemBinder_1 = __importDefault(__webpack_require__(/*! ./ListItemBinder */ "./lib/bindings/ListItemBinder.ts"));
const ListBinder_1 = __importDefault(__webpack_require__(/*! ./ListBinder */ "./lib/bindings/ListBinder.ts"));
const CookieConsentBinder_1 = __importDefault(__webpack_require__(/*! ./CookieConsentBinder */ "./lib/bindings/CookieConsentBinder.ts"));
const FakeStoreBinder_1 = __importDefault(__webpack_require__(/*! ./FakeStoreBinder */ "./lib/bindings/FakeStoreBinder.ts"));
const ErrorSummaryBinder_1 = __importDefault(__webpack_require__(/*! ./ErrorSummaryBinder */ "./lib/bindings/ErrorSummaryBinder.ts"));
const InputBinder_1 = __importDefault(__webpack_require__(/*! ./InputBinder */ "./lib/bindings/InputBinder.ts"));
const EnumerationInputBinder_1 = __importDefault(__webpack_require__(/*! ./EnumerationInputBinder */ "./lib/bindings/EnumerationInputBinder.ts"));
const ValueBinder_1 = __importDefault(__webpack_require__(/*! ./ValueBinder */ "./lib/bindings/ValueBinder.ts"));
const ScaleBinder_1 = __importDefault(__webpack_require__(/*! ./ScaleBinder */ "./lib/bindings/ScaleBinder.ts"));
const ButtonBinder_1 = __importDefault(__webpack_require__(/*! ./ButtonBinder */ "./lib/bindings/ButtonBinder.ts"));
const JumbotronBinder_1 = __importDefault(__webpack_require__(/*! ./JumbotronBinder */ "./lib/bindings/JumbotronBinder.ts"));
const CarouselBinder_1 = __importDefault(__webpack_require__(/*! ./CarouselBinder */ "./lib/bindings/CarouselBinder.ts"));
const CarouselPanelBinder_1 = __importDefault(__webpack_require__(/*! ./CarouselPanelBinder */ "./lib/bindings/CarouselPanelBinder.ts"));
const ProgressBarBinder_1 = __importDefault(__webpack_require__(/*! ./ProgressBarBinder */ "./lib/bindings/ProgressBarBinder.ts"));
const FormBinder_1 = __importDefault(__webpack_require__(/*! ./FormBinder */ "./lib/bindings/FormBinder.ts"));
const WizardTestResultsBinder_1 = __importDefault(__webpack_require__(/*! ./WizardTestResultsBinder */ "./lib/bindings/WizardTestResultsBinder.ts"));
const ConfirmWorkflowPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ConfirmWorkflowPanelBinder */ "./lib/bindings/ConfirmWorkflowPanelBinder.ts"));
const CloseWorkflowExecutedPanelBinder_1 = __importDefault(__webpack_require__(/*! ./CloseWorkflowExecutedPanelBinder */ "./lib/bindings/CloseWorkflowExecutedPanelBinder.ts"));
const FakeUserBinder_1 = __importDefault(__webpack_require__(/*! ./FakeUserBinder */ "./lib/bindings/FakeUserBinder.ts"));
const FakeMessageBinder_1 = __importDefault(__webpack_require__(/*! ./FakeMessageBinder */ "./lib/bindings/FakeMessageBinder.ts"));
const FakeWizardBinder_1 = __importDefault(__webpack_require__(/*! ./FakeWizardBinder */ "./lib/bindings/FakeWizardBinder.ts"));
const FakeWorkflowBinder_1 = __importDefault(__webpack_require__(/*! ./FakeWorkflowBinder */ "./lib/bindings/FakeWorkflowBinder.ts"));
const MileStoneBinder_1 = __importDefault(__webpack_require__(/*! ./MileStoneBinder */ "./lib/bindings/MileStoneBinder.ts"));
const FakePageBinder_1 = __importDefault(__webpack_require__(/*! ./FakePageBinder */ "./lib/bindings/FakePageBinder.ts"));
const HorizontalRuleBinder_1 = __importDefault(__webpack_require__(/*! ./HorizontalRuleBinder */ "./lib/bindings/HorizontalRuleBinder.ts"));
const InitiateWorkflowButtonBinder_1 = __importDefault(__webpack_require__(/*! ./InitiateWorkflowButtonBinder */ "./lib/bindings/InitiateWorkflowButtonBinder.ts"));
const MenuBinder_1 = __importDefault(__webpack_require__(/*! ./MenuBinder */ "./lib/bindings/MenuBinder.ts"));
const MenuBrandBinder_1 = __importDefault(__webpack_require__(/*! ./MenuBrandBinder */ "./lib/bindings/MenuBrandBinder.ts"));
const MenuItemBinder_1 = __importDefault(__webpack_require__(/*! ./MenuItemBinder */ "./lib/bindings/MenuItemBinder.ts"));
const SubMenuBinder_1 = __importDefault(__webpack_require__(/*! ./SubMenuBinder */ "./lib/bindings/SubMenuBinder.ts"));
const SubMenuLabelBinder_1 = __importDefault(__webpack_require__(/*! ./SubMenuLabelBinder */ "./lib/bindings/SubMenuLabelBinder.ts"));
const TrayBinder_1 = __importDefault(__webpack_require__(/*! ./TrayBinder */ "./lib/bindings/TrayBinder.ts"));
const TrayHeaderBinder_1 = __importDefault(__webpack_require__(/*! ./TrayHeaderBinder */ "./lib/bindings/TrayHeaderBinder.ts"));
const FakeQueue_1 = __importDefault(__webpack_require__(/*! ./FakeQueue */ "./lib/bindings/FakeQueue.ts"));
const MessageExplorerBinder_1 = __importDefault(__webpack_require__(/*! ./MessageExplorerBinder */ "./lib/bindings/MessageExplorerBinder.ts"));
const NotificationBannerBinder_1 = __importDefault(__webpack_require__(/*! ./NotificationBannerBinder */ "./lib/bindings/NotificationBannerBinder.ts"));
const EmailBinder_1 = __importDefault(__webpack_require__(/*! ./EmailBinder */ "./lib/bindings/EmailBinder.ts"));
const EmailConfirmationLinkBinder_1 = __importDefault(__webpack_require__(/*! ./EmailConfirmationLinkBinder */ "./lib/bindings/EmailConfirmationLinkBinder.ts"));
const PasswordResetLinkBinder_1 = __importDefault(__webpack_require__(/*! ./PasswordResetLinkBinder */ "./lib/bindings/PasswordResetLinkBinder.ts"));
const ConfirmationPanelBinder_1 = __importDefault(__webpack_require__(/*! ./ConfirmationPanelBinder */ "./lib/bindings/ConfirmationPanelBinder.ts"));
const BrBinder_1 = __importDefault(__webpack_require__(/*! ./BrBinder */ "./lib/bindings/BrBinder.ts"));
const SpanBinder_1 = __importDefault(__webpack_require__(/*! ./SpanBinder */ "./lib/bindings/SpanBinder.ts"));
const UuidBinder_1 = __importDefault(__webpack_require__(/*! ./UuidBinder */ "./lib/bindings/UuidBinder.ts"));
const ScriptBinder_1 = __importDefault(__webpack_require__(/*! ./ScriptBinder */ "./lib/bindings/ScriptBinder.ts"));
const LoopBinder_1 = __importDefault(__webpack_require__(/*! ./LoopBinder */ "./lib/bindings/LoopBinder.ts"));
const SwitchBinder_1 = __importDefault(__webpack_require__(/*! ./SwitchBinder */ "./lib/bindings/SwitchBinder.ts"));
const registry = [
    new TitleBinder_1.default(),
    new ParagraphBinder_1.default(),
    new DivBinder_1.default(),
    new LoginPanelBinder_1.default(),
    new WellBinder_1.default(),
    new UserExplorerBinder_1.default(),
    new ImageBinder_1.default(),
    new LinkBinder_1.default(),
    new BackLinkBinder_1.default(),
    new RegisterPanelBinder_1.default(),
    new PageBinder_1.default(),
    new ResetPasswordRequestPanelBinder_1.default(),
    new ResetPasswordPanelBinder_1.default(),
    new AccordionItemHeaderBinder_1.default(),
    new InsetTextBinder_1.default(),
    new AccordionItemBinder_1.default(),
    new WarningBinder_1.default(),
    new ColumnBinder_1.default(),
    new RowBinder_1.default(),
    new CellBinder_1.default(),
    new TableBinder_1.default(),
    new BadgeBinder_1.default(),
    new AccordionBinder_1.default(),
    new CardHeaderBinder_1.default(),
    new CardBodyBinder_1.default(),
    new CardFooterBinder_1.default(),
    new CardBinder_1.default(),
    new IconBinder_1.default(),
    new ToolTipBinder_1.default(),
    new ListItemBinder_1.default(),
    new ListBinder_1.default(),
    new CookieConsentBinder_1.default(),
    new FakeStoreBinder_1.default(),
    new ErrorSummaryBinder_1.default(),
    new InputBinder_1.default(),
    new EnumerationInputBinder_1.default(),
    new ValueBinder_1.default(),
    new ScaleBinder_1.default(),
    new ButtonBinder_1.default(),
    new JumbotronBinder_1.default(),
    new CarouselBinder_1.default(),
    new CarouselPanelBinder_1.default(),
    new ProgressBarBinder_1.default(),
    new FormBinder_1.default(),
    new WizardTestResultsBinder_1.default(),
    new ConfirmWorkflowPanelBinder_1.default(),
    new CloseWorkflowExecutedPanelBinder_1.default(),
    new FakeUserBinder_1.default(),
    new FakeMessageBinder_1.default(),
    new FakeWizardBinder_1.default(),
    new FakeWorkflowBinder_1.default(),
    new FakePageBinder_1.default(),
    new FakeQueue_1.default(),
    new MileStoneBinder_1.default(),
    new HorizontalRuleBinder_1.default(),
    new InitiateWorkflowButtonBinder_1.default(),
    new MenuBinder_1.default(),
    new MenuBrandBinder_1.default(),
    new MenuItemBinder_1.default(),
    new SubMenuBinder_1.default(),
    new SubMenuLabelBinder_1.default(),
    new TrayBinder_1.default(),
    new TrayHeaderBinder_1.default(),
    new MessageExplorerBinder_1.default(),
    new NotificationBannerBinder_1.default(),
    new EmailBinder_1.default(),
    new EmailConfirmationLinkBinder_1.default(),
    new PasswordResetLinkBinder_1.default(),
    new ConfirmationPanelBinder_1.default(),
    new BrBinder_1.default(),
    new SpanBinder_1.default(),
    new UuidBinder_1.default(),
    new ScriptBinder_1.default(),
    new LoopBinder_1.default(),
    new SwitchBinder_1.default()
];
function findBinder(name) {
    return registry.find(builtin => builtin.accept(name));
}
exports.findBinder = findBinder;


/***/ }),

/***/ "./lib/flex-container-support.ts":
/*!***************************************!*\
  !*** ./lib/flex-container-support.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.flexContainerSupport = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function flexContainerSupport(data, classManager, attributes) {
    const styles = {
        display: 'flex'
    };
    if (attributes.padding) {
        styles['padding'] = attributes.padding;
    }
    if (attributes.orientation) {
        styles['flex-direction'] = attributes.orientation.toLowerCase().replaceAll("_", "-");
    }
    if (attributes.justifyContent) {
        if (attributes.justifyContent === 'START') {
            styles['justify-content'] = 'flex-start';
        }
        else if (attributes.justifyContent === 'END') {
            styles['justify-content'] = 'flex-end';
        }
        else if (attributes.justifyContent === 'CENTER') {
            styles['justify-content'] = 'center';
        }
        else if (attributes.justifyContent === 'SPACE_BETWEEN') {
            styles['justify-content'] = 'space-between';
        }
        else if (attributes.justifyContent === 'SPACE_AROUND') {
            styles['justify-content'] = 'space-around';
        }
    }
    if (attributes.alignItems) {
        if (attributes.alignItems === 'START') {
            styles['align-items'] = 'flex-start';
        }
        else if (attributes.alignItems === 'END') {
            styles['align-items'] = 'flex-end';
        }
        else if (attributes.alignItems === 'CENTER') {
            styles['align-items'] = 'center';
        }
        else if (attributes.alignItems === 'BASELINE') {
            styles['align-items'] = 'baseline';
        }
        else if (attributes.alignItems === 'STRETCH') {
            styles['align-items'] = 'stretch';
        }
    }
    if (attributes.alignContent) {
        if (attributes.alignContent === 'START') {
            styles['align-content'] = 'flex-start';
        }
        else if (attributes.alignContent === 'END') {
            styles['align-content'] = 'flex-end';
        }
        else if (attributes.alignContent === 'CENTER') {
            styles['align-content'] = 'center';
        }
        else if (attributes.alignContent === 'BASELINE') {
            styles['align-content'] = 'baseline';
        }
        else if (attributes.alignContent === 'STRETCH') {
            styles['align-content'] = 'stretch';
        }
    }
    if (attributes.wrap) {
        styles['flex-wrap'] = attributes.wrap.toLowerCase().replaceAll("_", "-");
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.containerStyles = buffer.toString();
}
exports.flexContainerSupport = flexContainerSupport;


/***/ }),

/***/ "./lib/flex-item-support.ts":
/*!**********************************!*\
  !*** ./lib/flex-item-support.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function flexItemSupport(data, classManager, attributes) {
    const styles = {};
    if (attributes.padding) {
        styles['padding'] = attributes.padding;
    }
    if (attributes.margin) {
        styles['margin'] = attributes.margin;
    }
    if (attributes.flexBasis) {
        styles['flex-basis'] = attributes.flexBasis;
    }
    if (attributes.flexGrow) {
        styles['flex-grow'] = attributes.flexGrow;
    }
    if (attributes.flexShrink) {
        styles['flex-shrink'] = attributes.flexShrink;
    }
    if (attributes.alignSelf) {
        if (attributes.alignSelf === 'START') {
            styles['align-self'] = 'flex-start';
        }
        else if (attributes.alignSelf === 'END') {
            styles['align-self'] = 'flex-end';
        }
        else if (attributes.alignSelf === 'CENTER') {
            styles['align-self'] = 'center';
        }
        else if (attributes.alignSelf === 'BASELINE') {
            styles['align-self'] = 'baseline';
        }
        else if (attributes.alignSelf === 'STRETCH') {
            styles['align-self'] = 'stretch';
        }
    }
    if (attributes.height) {
        styles['height'] = attributes.height;
    }
    if (attributes.width) {
        styles['width'] = attributes.width;
    }
    if (attributes.borderRadius) {
        styles['border-radius'] = attributes.borderRadius;
    }
    if (attributes.backgroundFlavour) {
        classManager.append(attributes.backgroundFlavour, 'bg-', '');
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.itemStyles = buffer.toString();
}
exports["default"] = flexItemSupport;


/***/ }),

/***/ "./lib/freemarker.ts":
/*!***************************!*\
  !*** ./lib/freemarker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TemplateEngine = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const lexer_1 = __webpack_require__(/*! ./freemarker/template/lexer */ "./lib/freemarker/template/lexer.ts");
const LexicalTokenType_1 = __webpack_require__(/*! ./freemarker/template/LexicalTokenType */ "./lib/freemarker/template/LexicalTokenType.ts");
const Value_1 = __webpack_require__(/*! ./freemarker/expression/Value */ "./lib/freemarker/expression/Value.ts");
const expression_engine_1 = __webpack_require__(/*! ./freemarker/expression-engine */ "./lib/freemarker/expression-engine.ts");
const TemplateError_1 = __webpack_require__(/*! ./freemarker/TemplateError */ "./lib/freemarker/TemplateError.ts");
const ProhibitedError_1 = __webpack_require__(/*! ./freemarker/ProhibitedError */ "./lib/freemarker/ProhibitedError.ts");
const isHash_1 = __webpack_require__(/*! ./utilities/isHash */ "./lib/utilities/isHash.ts");
const PROHIBITED = [
    "attempt", "recover", "autoesc", "compress", "escape", "noescape", "flush", "ftl", "function", "return", "global",
    "import", "include", "continue", "local", "macro", "nested", "return", "nooautoesc", "noparse", "nt",
    "outputformat", "settings", "stop", "t", "lt", "rt", "visit", "recurse", "fallback"
];
class TemplateEngine {
    constructor() {
        this.expressionEngine = new expression_engine_1.ExpressionEngine();
    }
    render(template, data) {
        const tokens = (0, lexer_1.parse)(template);
        return this.consume(tokens, data)[0];
    }
    discard(tokens) {
        var _a;
        let level = 0;
        while (tokens.length) {
            const token = tokens.shift();
            if (token.getType() === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                if (token.getText() === 'if' || token.getText() === 'list' || token.getText() === 'assign' || token.getText() === 'items' || token.getText() === 'switch') {
                    if (level) {
                        level--;
                    }
                    else {
                        return token;
                    }
                }
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE) {
                if (token.getText() === 'if' || token.getText() === 'list' || token.getText() === 'items' || token.getText() === 'switch') {
                    level++;
                }
                else if (token.getText() === 'assign') {
                    if (!((_a = token.getParams()) === null || _a === void 0 ? void 0 : _a.includes("="))) {
                        level++;
                    }
                }
                else if (level === 0 && (token.getText() === 'else' || token.getText() === 'elseif' || token.getText() === 'case' || token.getText() === 'default')) {
                    return token;
                }
            }
        }
    }
    consume(tokens, data) {
        const buffer = new StringBuffer_1.StringBuffer();
        while (tokens.length) {
            const token = tokens.shift();
            if (token.getType() === LexicalTokenType_1.LexicalTokenType.TEXT) {
                buffer.append(token.getText());
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.INTERPOLATION) {
                buffer.append(this.expressionEngine.build(token.getParams(), token.getParamsRow(), token.getParamsColumn()).evaluate(data).retrieve());
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE) {
                if (token.getText() === 'assign') {
                    const [result, close] = this.handleAssign(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                }
                else if (token.getText() === 'if') {
                    const [result, close] = this.handleIf(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'if') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for if");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'list') {
                    const [result, close] = this.handleList(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'list') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for list");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'switch') {
                    const [result, close] = this.handleSwitch(token.getParams(), token.getParamsRow(), token.getParamsColumn(), tokens, data);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) !== 'switch') {
                        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Invalid closing tag for switch");
                    }
                    buffer.append(result);
                }
                else if (token.getText() === 'else') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'elseif') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'items') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'sep') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'break') {
                    return [buffer.toString(), token];
                }
                else if (token.getText() === 'case') {
                    //ignore case directive as we stop on 'break'
                }
                else if (PROHIBITED.includes(token.getText())) {
                    throw new ProhibitedError_1.ProhibitedError(token.getRow(), token.getColumn(), `Directive is prohibited '${token.getText()}'`);
                }
                else {
                    throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unsupported directive '${token.getText()}'`);
                }
            }
            else if (token.getType() === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                return [buffer.toString(), token];
            }
        }
        return [buffer.toString(), undefined];
    }
    processList(tokens, data, sequence, argName) {
        const copy = [...tokens];
        let block = undefined;
        let result = "";
        let separator = undefined;
        let close = undefined;
        const buffer = new StringBuffer_1.StringBuffer();
        for (let i = 0; i < sequence.length; i++) {
            const scope = Object.assign({}, data);
            scope[argName] = sequence[i];
            scope[`$${argName}$`] = true;
            scope[`$${argName}_index$`] = i;
            scope[`$${argName}_length$`] = sequence.length;
            if (separator) {
                buffer.append(separator);
            }
            if (block) {
                const local = [...block];
                let [result, close] = this.consume(local, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(local, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(local, scope);
                        buffer.append(result);
                    }
                }
            }
            else {
                [result, close] = this.consume(tokens, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(tokens, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(tokens, scope);
                        buffer.append(result);
                    }
                }
                block = copy.slice(0, copy.length - tokens.length - 1);
            }
        }
        if (sequence.length === 0) {
            const scope = Object.assign({}, data);
            scope[argName] = undefined;
            close = this.discard(tokens);
        }
        return [buffer.toString(), close];
    }
    processHash(tokens, data, hash, keyName, argName) {
        const copy = [...tokens];
        let block = undefined;
        let result = "";
        let separator = undefined;
        let close = undefined;
        const buffer = new StringBuffer_1.StringBuffer();
        for (const key in hash) {
            const value = hash[key];
            const scope = Object.assign({}, data);
            scope[keyName] = key;
            scope[argName] = value;
            if (separator) {
                buffer.append(separator);
            }
            if (block) {
                const local = [...block];
                let [result, close] = this.consume(local, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(local, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(local, scope);
                        buffer.append(result);
                    }
                }
            }
            else {
                [result, close] = this.consume(tokens, scope);
                buffer.append(result);
                if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                    [separator, close] = this.consume(tokens, scope);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'sep') {
                        [result, close] = this.consume(tokens, scope);
                        buffer.append(result);
                    }
                }
                block = copy.slice(0, copy.length - tokens.length - 1);
            }
        }
        if (Object.keys(hash).length === 0) {
            const scope = Object.assign({}, data);
            scope[argName] = undefined;
            close = this.discard(tokens);
        }
        return [buffer.toString(), close];
    }
    handleList(expression, row, column, tokens, data) {
        const buffer = new StringBuffer_1.StringBuffer();
        let result = undefined, close = undefined;
        if (expression.includes(" as ")) {
            const [refName, argName] = expression.split(" as ").map(x => x.trim());
            const subject = this.expressionEngine.build(refName, row, column).evaluate(data).retrieve();
            if (Array.isArray(subject)) {
                [result, close] = this.processList(tokens, data, subject, argName);
                buffer.append(result);
            }
            else if ((0, isHash_1.isHash)(subject)) {
                const [key, value] = argName.split(",").map(s => s.trim());
                [result, close] = this.processHash(tokens, data, subject, key, value);
                buffer.append(result);
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, "'as' operator requires an iterable subject (hash or sequence).");
            }
            let text = undefined;
            if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                if (subject.length === 0) {
                    [text, close] = this.consume(tokens, data);
                    buffer.append(text);
                }
                else {
                    close = this.discard(tokens);
                }
            }
        }
        else {
            const ref = this.expressionEngine.build(expression, row, column).evaluate(data);
            const subject = ref.retrieve();
            if (Array.isArray(subject) || (0, isHash_1.isHash)(subject)) {
                if ((Array.isArray(subject) && subject.length) || ((0, isHash_1.isHash)(subject) && Object.keys(subject).length)) {
                    [result, close] = this.consume(tokens, data);
                    buffer.append(result);
                    if ((close === null || close === void 0 ? void 0 : close.getType()) === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && (close === null || close === void 0 ? void 0 : close.getText()) === 'items') {
                        if (Array.isArray(subject)) {
                            const [blank, argName] = close.getParams().split("as").map(x => x.trim());
                            [result, close] = this.processList(tokens, data, subject, argName);
                            buffer.append(result);
                        }
                        else if ((0, isHash_1.isHash)(subject)) {
                            const [blank, argName] = close === null || close === void 0 ? void 0 : close.getParams().split("as").map(x => x.trim());
                            const [key, value] = argName.split(",").map(s => s.trim());
                            [result, close] = this.processHash(tokens, data, subject, key, value);
                            buffer.append(result);
                        }
                    }
                    if ((close === null || close === void 0 ? void 0 : close.getType()) === LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE && (close === null || close === void 0 ? void 0 : close.getText()) === 'items') {
                        [result, close] = this.consume(tokens, data);
                        buffer.append(result);
                    }
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                        close = this.discard(tokens);
                    }
                }
                else {
                    close = this.discard(tokens);
                    if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
                        [result, close] = this.consume(tokens, data);
                        buffer.append(result);
                    }
                }
                if (close && close.getText() !== 'list') {
                    throw new TemplateError_1.TemplateError(close.getColumn(), close.getRow(), "List improperly terminated");
                }
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, "list directive requires an iterable subject (sequence or hash).");
            }
        }
        return [buffer.toString(), close];
    }
    handleAssign(expression, row, column, tokens, data) {
        const value = this.expressionEngine.build(expression, row, column).evaluate(data);
        if (value instanceof Value_1.Reference) {
            const [result, close] = this.consume(tokens, data);
            value.assign(result);
            return ["", close];
        }
        return ["", undefined];
    }
    handleIf(expression, row, column, tokens, data) {
        let result = undefined, text = undefined, close = undefined;
        const bool = this.expressionEngine.build(expression, row, column).evaluate(data).retrieve();
        if (bool) {
            [text, close] = this.consume(tokens, data);
            result = text;
        }
        else {
            close = this.discard(tokens);
        }
        while (close && close.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && close.getText() === 'elseif') {
            const bool = this.expressionEngine.build(close.getParams(), close.getRow(), close.getColumn()).evaluate(data).retrieve();
            if (bool && result === undefined) {
                [text, close] = this.consume(tokens, data);
                result = text;
            }
            else {
                close = this.discard(tokens);
            }
        }
        if ((close === null || close === void 0 ? void 0 : close.getText()) === 'else') {
            if (result === undefined) {
                [text, close] = this.consume(tokens, data);
                result = text;
            }
            else {
                close = this.discard(tokens);
            }
        }
        return [result || "", close];
    }
    handleSwitch(expression, row, column, tokens, data) {
        let text = undefined, close = undefined;
        const result = new StringBuffer_1.StringBuffer();
        const reference = this.expressionEngine.build(expression, row, column).evaluate(data).retrieve();
        let current = tokens.shift();
        while (current && current.getType() !== LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
            if (current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === 'case') {
                const value = this.expressionEngine.build(current.getParams(), current.getRow(), current.getColumn()).evaluate(data).retrieve();
                if (reference === value) {
                    while (current && current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === "case") {
                        [text, current] = this.consume(tokens, data);
                        result.append(text);
                    }
                    while (current && current.getType() !== LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE) {
                        current = this.discard(tokens);
                    }
                }
                else {
                    current = this.discard(tokens);
                }
            }
            else if (current.getType() === LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE && current.getText() === 'default') {
                if (text) {
                    current = this.discard(tokens);
                }
                else {
                    [text, current] = this.consume(tokens, data);
                    result.append(text);
                }
            }
            else {
                current = tokens.shift();
            }
        }
        return [result.toString(), current];
    }
}
exports.TemplateEngine = TemplateEngine;


/***/ }),

/***/ "./lib/freemarker/FreemarkerError.ts":
/*!*******************************************!*\
  !*** ./lib/freemarker/FreemarkerError.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FreemarkerError = void 0;
class FreemarkerError extends Error {
    constructor(message, cause = undefined) {
        super(message);
        this.cause = cause;
    }
}
exports.FreemarkerError = FreemarkerError;


/***/ }),

/***/ "./lib/freemarker/ProhibitedError.ts":
/*!*******************************************!*\
  !*** ./lib/freemarker/ProhibitedError.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProhibitedError = void 0;
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
class ProhibitedError extends TemplateError_1.TemplateError {
}
exports.ProhibitedError = ProhibitedError;


/***/ }),

/***/ "./lib/freemarker/ReferenceNotFoundError.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/ReferenceNotFoundError.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReferenceNotFoundError = void 0;
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
class ReferenceNotFoundError extends TemplateError_1.TemplateError {
}
exports.ReferenceNotFoundError = ReferenceNotFoundError;


/***/ }),

/***/ "./lib/freemarker/TemplateError.ts":
/*!*****************************************!*\
  !*** ./lib/freemarker/TemplateError.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TemplateError = void 0;
class TemplateError extends Error {
    constructor(row, column, message, cause = undefined) {
        super(`(${row + 1}:${column + 1}) ${message}`);
        this.cause = cause;
    }
}
exports.TemplateError = TemplateError;


/***/ }),

/***/ "./lib/freemarker/builtin/BooleanBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/BooleanBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BooleanBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class BooleanBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "boolean";
    }
    evaluate(subject, data, row, column) {
        if (subject === "true") {
            return Value_1.Literal.of(true);
        }
        if (subject === "false") {
            return Value_1.Literal.of(false);
        }
        throw new TemplateError_1.TemplateError(row, column, `Cannot convert string to boolean`);
    }
}
exports.BooleanBuiltin = BooleanBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CapFirstBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/CapFirstBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CapFirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class CapFirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "cap_first";
    }
    evaluate(subject, data) {
        let index = 0;
        while (index < subject.length) {
            if (!(0, isWhitespace_1.isWhitespace)(subject.charAt(index))) {
                break;
            }
            index++;
        }
        return Value_1.Literal.of(subject.slice(0, index) + subject.charAt(index).toUpperCase() + subject.slice(index + 1));
    }
}
exports.CapFirstBuiltin = CapFirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CapitalizeBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/CapitalizeBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CapitalizeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class CapitalizeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "capitalize";
    }
    evaluate(subject, data) {
        const output = [];
        let latch = true;
        for (let i = 0; i < subject.length; i++) {
            const c = subject.charAt(i);
            if (latch) {
                output.push(c.toUpperCase());
                latch = false;
            }
            else {
                if ((0, isWhitespace_1.isWhitespace)(c)) {
                    latch = true;
                }
                output.push(c.toLowerCase());
            }
        }
        return Value_1.Literal.of(output.join(""));
    }
}
exports.CapitalizeBuiltin = CapitalizeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/CeilBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/CeilBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CeilBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class CeilBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "ceil";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.ceil(subject));
    }
}
exports.CeilBuiltin = CeilBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ChopLinebreakBuiltin.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/builtin/ChopLinebreakBuiltin.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChopLinebreakBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class ChopLinebreakBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "chop_linebreak";
    }
    evaluate(subject, data) {
        const length = subject.length;
        if (subject.length && subject.charAt(length - 1) === '\n') {
            if (subject.length > 2 && subject.charAt(length - 2) === '\r') {
                return Value_1.Literal.of(subject.slice(0, length - 2));
            }
            return Value_1.Literal.of(subject.slice(0, length - 1));
        }
        else if (subject.length && subject.charAt(length - 1) === '\r') {
            return Value_1.Literal.of(subject.slice(0, length - 1));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.ChopLinebreakBuiltin = ChopLinebreakBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ChunkBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/ChunkBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ChunkBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class ChunkBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "chunk";
    }
    evaluate(subject, arg1, data) {
        const length = arg1.evaluate(data).retrieve();
        const results = [];
        let group = undefined;
        for (let i = 0; i < subject.length; i++) {
            if (i % length === 0) {
                if (group) {
                    results.push(group);
                }
                group = [];
            }
            group.push(subject[i]);
        }
        results.push(group);
        return Value_1.Literal.of(results);
    }
}
exports.ChunkBuiltin = ChunkBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ContainsBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/ContainsBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContainsBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class ContainsBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "contains";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.includes(arg.evaluate(data).retrieve()));
    }
}
exports.ContainsBuiltin = ContainsBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DateBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/DateBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DateBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class DateBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "date";
    }
    evaluate(subject, data) {
        const dte = (0, isDate_1.isDate)(subject) ? subject : new Date(subject);
        dte.setHours(0);
        return Value_1.Literal.of(dte);
    }
}
exports.DateBuiltin = DateBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DatetimeBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/DatetimeBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DatetimeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class DatetimeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "datetime";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of((0, isDate_1.isDate)(subject) ? subject : new Date(subject));
    }
}
exports.DatetimeBuiltin = DatetimeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/DropWhileBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/DropWhileBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DropWhileBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class DropWhileBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "drop_while";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        let bool = true;
        while (i < subject.length) {
            if (bool) {
                bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            }
            if (!bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.DropWhileBuiltin = DropWhileBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EndsWithBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/EndsWithBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EndsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class EndsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ends_with";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.endsWith(arg.evaluate(data).retrieve()));
    }
}
exports.EndsWithBuiltin = EndsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EnsureEndsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class EnsureEndsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ensure_ends_with";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        for (let i = 0; i < arg.length; i++) {
            if (subject.endsWith(arg.slice(0, arg.length - i))) {
                return Value_1.Literal.of(subject + arg.slice(arg.length - i));
            }
        }
        return Value_1.Literal.of(subject + arg);
    }
}
exports.EnsureEndsWithBuiltin = EnsureEndsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts":
/*!***********************************************************!*\
  !*** ./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EnsureStartsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class EnsureStartsWithBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "ensure_starts_with";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 1) {
            const arg = args[0].evaluate(data).retrieve();
            for (let i = 0; i < arg.length; i++) {
                if (subject.startsWith(arg.slice(i))) {
                    return Value_1.Literal.of(arg.slice(0, i) + subject);
                }
            }
            return Value_1.Literal.of(arg + subject);
        }
        else if (args.length === 2) {
            const regex = args[0].evaluate(data).retrieve();
            const replace = args[1].evaluate(data).retrieve();
            return Value_1.Literal.of(subject.replace(new RegExp(regex), replace));
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.EnsureStartsWithBuiltin = EnsureStartsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FilterBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/FilterBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilterBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class FilterBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "filter";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        while (i < subject.length) {
            const bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            if (bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.FilterBuiltin = FilterBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FirstBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/FirstBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class FirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "first";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject[0]);
    }
}
exports.FirstBuiltin = FirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/FloorBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/FloorBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FloorBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class FloorBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "floor";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.floor(subject));
    }
}
exports.FloorBuiltin = FloorBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/HasContentBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/HasContentBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HasContentBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
class HasContentBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return name === "has_content";
    }
    evaluate(subject, data, row, column) {
        if (subject === undefined) {
            return Value_1.Literal.of(false);
        }
        if (subject === null) {
            return Value_1.Literal.of(false);
        }
        if (Array.isArray(subject)) {
            return Value_1.Literal.of(subject.length > 0);
        }
        if ((0, isHash_1.isHash)(subject)) {
            return Value_1.Literal.of(Object.keys(subject).length > 0);
        }
        if (typeof subject === "string") {
            return Value_1.Literal.of(subject.length > 0);
        }
        return Value_1.Literal.of(true);
    }
}
exports.HasContentBuiltin = HasContentBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IndexOfBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/IndexOfBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IndexOfWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class IndexOfWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.indexOf(arg.evaluate(data).retrieve()));
    }
}
exports.IndexOfWithBuiltin = IndexOfWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IsInfiniteBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/IsInfiniteBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsInfiniteBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class IsInfiniteBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "is_infinite";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(!isFinite(subject));
    }
}
exports.IsInfiniteBuiltin = IsInfiniteBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/IsNanBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/IsNanBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsNanBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class IsNanBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "is_nan";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(isNaN(subject));
    }
}
exports.IsNanBuiltin = IsNanBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/JoinBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/JoinBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JoinBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class JoinBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "join";
    }
    evaluate(subject, arg, data) {
        const separator = arg.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.join(separator));
    }
}
exports.JoinBuiltin = JoinBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepAfterBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/KeepAfterBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepAfterBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepAfterBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_after";
    }
    evaluate(subject, arg, data) {
        const index = subject.indexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(index + arg.evaluate(data).retrieve().length));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepAfterBuiltin = KeepAfterBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepAfterLastBuiltin.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/builtin/KeepAfterLastBuiltin.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepAfterLastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepAfterLastBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_after_last";
    }
    evaluate(subject, arg, data) {
        const index = subject.lastIndexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(index + arg.evaluate(data).retrieve().length));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepAfterLastBuiltin = KeepAfterLastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepBeforeBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/KeepBeforeBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepBeforeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepBeforeBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_before";
    }
    evaluate(subject, arg, data) {
        const index = subject.indexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(0, index));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepBeforeBuiltin = KeepBeforeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeepBeforeLastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class KeepBeforeLastBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "keep_before_last";
    }
    evaluate(subject, arg, data) {
        const index = subject.lastIndexOf(arg.evaluate(data).retrieve());
        if (index >= 0) {
            return Value_1.Literal.of(subject.substring(0, index));
        }
        else {
            return Value_1.Literal.of("");
        }
    }
}
exports.KeepBeforeLastBuiltin = KeepBeforeLastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LastBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/LastBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LastBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class LastBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "last";
    }
    evaluate(subject, data, row, column) {
        if (subject.length) {
            return Value_1.Literal.of(subject[subject.length - 1]);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Sequence is empty, 'last' builtin error`);
        }
    }
}
exports.LastBuiltin = LastBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LastIndexOfBuiltin.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/builtin/LastIndexOfBuiltin.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LastIndexOfWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class LastIndexOfWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "last_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.lastIndexOf(arg.evaluate(data).retrieve()));
    }
}
exports.LastIndexOfWithBuiltin = LastIndexOfWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LeftPadBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/LeftPadBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LeftPadBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class LeftPadBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "left_pad";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 0 || args.length > 2) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
        const length = args[0].evaluate(data).retrieve();
        let filler = ' ';
        if (args.length === 2) {
            filler = args[1].evaluate(data).retrieve();
        }
        const padding = filler.repeat(length);
        const missing = length - subject.length;
        if (missing > 0) {
            return Value_1.Literal.of(padding.substring(0, missing) + subject);
        }
        return Value_1.Literal.of(subject);
    }
}
exports.LeftPadBuiltin = LeftPadBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LengthBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/LengthBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LengthBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LengthBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "length";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.length);
    }
}
exports.LengthBuiltin = LengthBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LowerAbcBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/LowerAbcBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LowerAbcBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LowerAbcBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "lower_abc";
    }
    evaluate(subject, data) {
        const result = [];
        let val = subject;
        while (val > 0) {
            let units = (val - 1) % 26;
            result.unshift(String.fromCharCode(units + 97));
            val = (val - (units + 1)) / 26;
        }
        return Value_1.Literal.of(result.join(""));
    }
}
exports.LowerAbcBuiltin = LowerAbcBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/LowerCaseBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/LowerCaseBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LowerCaseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class LowerCaseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "lower_case";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.toLowerCase());
    }
}
exports.LowerCaseBuiltin = LowerCaseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MapBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MapBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MapBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class MapBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "map";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        while (i < subject.length) {
            result.push(lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve());
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.MapBuiltin = MapBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MatchesBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/MatchesBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MatchesBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class MatchesBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "matches";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.match("^" + arg.evaluate(data).retrieve() + "$") !== null);
    }
}
exports.MatchesBuiltin = MatchesBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MaxBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MaxBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MaxBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class MaxBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "max";
    }
    evaluate(subject, data) {
        if (subject.length === 0) {
            return Value_1.Literal.of(undefined);
        }
        let result = Number.MIN_VALUE;
        for (let i = 0; i < subject.length; i++) {
            if (subject[i] > result) {
                result = subject[i];
            }
        }
        return Value_1.Literal.of(result);
    }
}
exports.MaxBuiltin = MaxBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/MinBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/MinBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MinBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class MinBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "min";
    }
    evaluate(subject, data) {
        if (subject.length === 0) {
            return Value_1.Literal.of(undefined);
        }
        let result = Number.MAX_VALUE;
        for (let i = 0; i < subject.length; i++) {
            if (subject[i] < result) {
                result = subject[i];
            }
        }
        return Value_1.Literal.of(result);
    }
}
exports.MinBuiltin = MinBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/NoArgBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/NoArgBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NoArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class NoArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 0) {
            return this.evaluate(subject, data, row, column);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.NoArgBuiltin = NoArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/NumberExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/NumberExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NumberBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class NumberBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "number";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Number(subject));
    }
}
exports.NumberBuiltin = NumberBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/OneArgBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/OneArgBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OneArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class OneArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 1) {
            return this.evaluate(subject, args[0], data, row, column);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.OneArgBuiltin = OneArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RemoveBeginningBuiltin.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/builtin/RemoveBeginningBuiltin.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoveBeginningBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class RemoveBeginningBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "remove_beginning";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        if (subject.startsWith(arg)) {
            return Value_1.Literal.of(subject.slice(arg.length));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RemoveBeginningBuiltin = RemoveBeginningBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RemoveEndingBuiltin.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/builtin/RemoveEndingBuiltin.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RemoveEndingBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class RemoveEndingBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "remove_ending";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        if (subject.endsWith(arg)) {
            return Value_1.Literal.of(subject.slice(0, subject.length - arg.length));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RemoveEndingBuiltin = RemoveEndingBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ReplaceBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/ReplaceBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReplaceBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TwoArgBuiltin_1 = __webpack_require__(/*! ./TwoArgBuiltin */ "./lib/freemarker/builtin/TwoArgBuiltin.ts");
class ReplaceBuiltin extends TwoArgBuiltin_1.TwoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "replace";
    }
    evaluate(subject, arg1, arg2, data) {
        return Value_1.Literal.of(subject.replaceAll(arg1.evaluate(data).retrieve(), arg2.evaluate(data).retrieve()));
    }
}
exports.ReplaceBuiltin = ReplaceBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ReverseBuiltin.ts":
/*!**************************************************!*\
  !*** ./lib/freemarker/builtin/ReverseBuiltin.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReverseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class ReverseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "reverse";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.reverse());
    }
}
exports.ReverseBuiltin = ReverseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RightPadBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/RightPadBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RightPadBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class RightPadBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "right_pad";
    }
    calculate(subject, args, data, row, column) {
        if (args.length === 0 || args.length > 2) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
        const length = args[0].evaluate(data).retrieve();
        let filler = ' ';
        if (args.length === 2) {
            filler = args[1].evaluate(data).retrieve();
        }
        const padding = filler.repeat(length);
        const missing = length - subject.length;
        if (missing > 0) {
            return Value_1.Literal.of(subject + padding.substring(0, missing));
        }
        return Value_1.Literal.of(subject);
    }
}
exports.RightPadBuiltin = RightPadBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/RoundBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/RoundBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RoundBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class RoundBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "round";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(Math.round(subject));
    }
}
exports.RoundBuiltin = RoundBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqContainsBuiltin.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/builtin/SeqContainsBuiltin.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqContainsBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqContainsBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_contains";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.includes(arg.evaluate(data).retrieve()));
    }
}
exports.SeqContainsBuiltin = SeqContainsBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqIndexOfBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/SeqIndexOfBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqIndexOfBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqIndexOfBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.indexOf(arg.evaluate(data).retrieve()));
    }
}
exports.SeqIndexOfBuiltin = SeqIndexOfBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SeqLastIndexOfBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
class SeqLastIndexOfBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "seq_last_index_of";
    }
    evaluate(subject, arg, data) {
        return Value_1.Literal.of(subject.lastIndexOf(arg.evaluate(data).retrieve()));
    }
}
exports.SeqLastIndexOfBuiltin = SeqLastIndexOfBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SizeBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/SizeBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SizeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class SizeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "size";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.length);
    }
}
exports.SizeBuiltin = SizeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SortBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/SortBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SortBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class SortBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "sort";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.sort());
    }
}
exports.SortBuiltin = SortBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SortByBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/SortByBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SortByBuiltin = void 0;
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class SortByBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "sort_by";
    }
    evaluate(subject, arg, data, row, column) {
        const name = arg.evaluate(data).retrieve();
        if (subject.find(x => !(0, isHash_1.isHash)(x))) {
            throw new TemplateError_1.TemplateError(row, column, `Attempt to use sort_by on array element that is not a hash`);
        }
        return Value_1.Literal.of(subject.sort((x, y) => x[name] < y[name] ? -1 : 0));
    }
}
exports.SortByBuiltin = SortByBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/SplitBuiltin.ts":
/*!************************************************!*\
  !*** ./lib/freemarker/builtin/SplitBuiltin.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SplitBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class SplitBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "split";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.split(arg));
    }
}
exports.SplitBuiltin = SplitBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/StartsWithBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/StartsWithBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StartsWithBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
class StartsWithBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "starts_with";
    }
    evaluate(subject, arg1, data) {
        const arg = arg1.evaluate(data).retrieve();
        return Value_1.Literal.of(subject.startsWith(arg));
    }
}
exports.StartsWithBuiltin = StartsWithBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/StringBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/StringBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StringBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class StringBuiltin {
    accept(subject, name) {
        return (typeof subject === "number" || typeof subject === "string" || (0, isDate_1.isDate)(subject) || typeof subject === "boolean") && name === "string";
    }
    calculate(subject, args, data, row, column) {
        if (typeof subject === "boolean") {
            if (args.length === 2) {
                const arg1 = args[0].evaluate(data).retrieve();
                if (typeof arg1 !== "string") {
                    throw new TemplateError_1.TemplateError(row, column, `Invalid argument, string takes string arguments`);
                }
                const arg2 = args[1].evaluate(data).retrieve();
                if (typeof arg2 !== "string") {
                    throw new TemplateError_1.TemplateError(row, column, `Invalid argument, string takes string arguments`);
                }
                return Value_1.Literal.of(subject ? arg1 : arg2);
            }
            else {
                throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments supplied`);
            }
        }
        else if (args.length === 0) {
            if ((0, isDate_1.isDate)(subject)) {
                return Value_1.Literal.of(subject.toISOString());
            }
            return Value_1.Literal.of(String(subject));
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments supplied`);
        }
    }
}
exports.StringBuiltin = StringBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TakeWhileBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/TakeWhileBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TakeWhileBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const LambdaExpression_1 = __webpack_require__(/*! ../expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TakeWhileBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return Array.isArray(subject) && name === "take_while";
    }
    evaluate(subject, arg1, data, row, column) {
        const result = [];
        const lambda = arg1;
        if (!(lambda instanceof LambdaExpression_1.LambdaExpression)) {
            throw new TemplateError_1.TemplateError(row, column, `Invalid argument, only lambda is current supported`);
        }
        let i = 0;
        let bool = true;
        while (i < subject.length) {
            if (bool) {
                bool = lambda.evaluate(Object.assign({ '$$': subject[i] }, data)).retrieve();
            }
            if (bool) {
                result.push(subject[i]);
            }
            i++;
        }
        return Value_1.Literal.of(result);
    }
}
exports.TakeWhileBuiltin = TakeWhileBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/ThenBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/ThenBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ThenBuiltin = void 0;
const TwoArgBuiltin_1 = __webpack_require__(/*! ./TwoArgBuiltin */ "./lib/freemarker/builtin/TwoArgBuiltin.ts");
class ThenBuiltin extends TwoArgBuiltin_1.TwoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "boolean" && name === "then";
    }
    evaluate(subject, arg1, arg2, data) {
        return subject ? arg1.evaluate(data) : arg2.evaluate(data);
    }
}
exports.ThenBuiltin = ThenBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TimeBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/TimeBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TimeBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isDate_1 = __webpack_require__(/*! ../../utilities/isDate */ "./lib/utilities/isDate.ts");
class TimeBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return (typeof subject === "string" || (0, isDate_1.isDate)(subject)) && name === "time";
    }
    evaluate(subject, data) {
        const dte = (0, isDate_1.isDate)(subject) ? subject : new Date(subject);
        const millis = dte.getTime();
        return Value_1.Literal.of(new Date(millis % 86400000));
    }
}
exports.TimeBuiltin = TimeBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TrimBuiltin.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/builtin/TrimBuiltin.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrimBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class TrimBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "trim";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.trim());
    }
}
exports.TrimBuiltin = TrimBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TruncateBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/TruncateBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TruncateBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const OneArgBuiltin_1 = __webpack_require__(/*! ./OneArgBuiltin */ "./lib/freemarker/builtin/OneArgBuiltin.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TruncateBuiltin extends OneArgBuiltin_1.OneArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "truncate";
    }
    evaluate(subject, arg1, data, row, column) {
        const arg = arg1.evaluate(data).retrieve();
        if (typeof arg !== "number") {
            throw new TemplateError_1.TemplateError(row, column, `Argument to truncate is not a number`);
        }
        if (subject.length > arg - 5) {
            return Value_1.Literal.of(subject.substring(0, arg - 5) + "[...]");
        }
        else {
            return Value_1.Literal.of(subject);
        }
    }
}
exports.TruncateBuiltin = TruncateBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/TwoArgBuiltin.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/builtin/TwoArgBuiltin.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TwoArgBuiltin = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
class TwoArgBuiltin {
    calculate(subject, args, data, row, column) {
        if (args.length === 2) {
            return this.evaluate(subject, args[0], args[1], data);
        }
        else {
            throw new TemplateError_1.TemplateError(row, column, `Invalid number of arguments`);
        }
    }
}
exports.TwoArgBuiltin = TwoArgBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UncapFirstBuiltin.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/builtin/UncapFirstBuiltin.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UncapFirstBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class UncapFirstBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "uncap_first";
    }
    evaluate(subject, data) {
        let index = 0;
        while (index < subject.length) {
            if (!(0, isWhitespace_1.isWhitespace)(subject.charAt(index))) {
                break;
            }
            index++;
        }
        return Value_1.Literal.of(subject.slice(0, index) + subject.charAt(index).toLowerCase() + subject.slice(index + 1));
    }
}
exports.UncapFirstBuiltin = UncapFirstBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UpperAbcBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/UpperAbcBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UpperAbcBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UpperAbcBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "number" && name === "upper_abc";
    }
    evaluate(subject, data) {
        const result = [];
        let val = subject;
        while (val > 0) {
            let units = (val - 1) % 26;
            result.unshift(String.fromCharCode(units + 65));
            val = (val - (units + 1)) / 26;
        }
        return Value_1.Literal.of(result.join(""));
    }
}
exports.UpperAbcBuiltin = UpperAbcBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UpperCaseBuiltin.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/builtin/UpperCaseBuiltin.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UpperCaseBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UpperCaseBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "upper_case";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.toUpperCase());
    }
}
exports.UpperCaseBuiltin = UpperCaseBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/UrlBuiltin.ts":
/*!**********************************************!*\
  !*** ./lib/freemarker/builtin/UrlBuiltin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UrlBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
class UrlBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "url";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(encodeURI(subject));
    }
}
exports.UrlBuiltin = UrlBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/WordListBuiltin.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/builtin/WordListBuiltin.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WordListBuiltin = void 0;
const Value_1 = __webpack_require__(/*! ../expression/Value */ "./lib/freemarker/expression/Value.ts");
const NoArgBuiltin_1 = __webpack_require__(/*! ./NoArgBuiltin */ "./lib/freemarker/builtin/NoArgBuiltin.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
class WordListBuiltin extends NoArgBuiltin_1.NoArgBuiltin {
    accept(subject, name) {
        return typeof subject === "string" && name === "word_list";
    }
    evaluate(subject, data) {
        return Value_1.Literal.of(subject.split(" ").filter(arg => arg.length).filter(arg => !(0, isWhitespace_1.isWhitespace)(arg)));
    }
}
exports.WordListBuiltin = WordListBuiltin;


/***/ }),

/***/ "./lib/freemarker/builtin/index.ts":
/*!*****************************************!*\
  !*** ./lib/freemarker/builtin/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.find = void 0;
const ThenBuiltin_1 = __webpack_require__(/*! ./ThenBuiltin */ "./lib/freemarker/builtin/ThenBuiltin.ts");
const UpperCaseBuiltin_1 = __webpack_require__(/*! ./UpperCaseBuiltin */ "./lib/freemarker/builtin/UpperCaseBuiltin.ts");
const LowerCaseBuiltin_1 = __webpack_require__(/*! ./LowerCaseBuiltin */ "./lib/freemarker/builtin/LowerCaseBuiltin.ts");
const CapFirstBuiltin_1 = __webpack_require__(/*! ./CapFirstBuiltin */ "./lib/freemarker/builtin/CapFirstBuiltin.ts");
const CapitalizeBuiltin_1 = __webpack_require__(/*! ./CapitalizeBuiltin */ "./lib/freemarker/builtin/CapitalizeBuiltin.ts");
const UncapFirstBuiltin_1 = __webpack_require__(/*! ./UncapFirstBuiltin */ "./lib/freemarker/builtin/UncapFirstBuiltin.ts");
const TrimBuiltin_1 = __webpack_require__(/*! ./TrimBuiltin */ "./lib/freemarker/builtin/TrimBuiltin.ts");
const ChopLinebreakBuiltin_1 = __webpack_require__(/*! ./ChopLinebreakBuiltin */ "./lib/freemarker/builtin/ChopLinebreakBuiltin.ts");
const BooleanBuiltin_1 = __webpack_require__(/*! ./BooleanBuiltin */ "./lib/freemarker/builtin/BooleanBuiltin.ts");
const DateBuiltin_1 = __webpack_require__(/*! ./DateBuiltin */ "./lib/freemarker/builtin/DateBuiltin.ts");
const DatetimeBuiltin_1 = __webpack_require__(/*! ./DatetimeBuiltin */ "./lib/freemarker/builtin/DatetimeBuiltin.ts");
const TimeBuiltin_1 = __webpack_require__(/*! ./TimeBuiltin */ "./lib/freemarker/builtin/TimeBuiltin.ts");
const LengthBuiltin_1 = __webpack_require__(/*! ./LengthBuiltin */ "./lib/freemarker/builtin/LengthBuiltin.ts");
const SizeBuiltin_1 = __webpack_require__(/*! ./SizeBuiltin */ "./lib/freemarker/builtin/SizeBuiltin.ts");
const StringBuiltin_1 = __webpack_require__(/*! ./StringBuiltin */ "./lib/freemarker/builtin/StringBuiltin.ts");
const ContainsBuiltin_1 = __webpack_require__(/*! ./ContainsBuiltin */ "./lib/freemarker/builtin/ContainsBuiltin.ts");
const EndsWithBuiltin_1 = __webpack_require__(/*! ./EndsWithBuiltin */ "./lib/freemarker/builtin/EndsWithBuiltin.ts");
const EnsureEndsWithBuiltin_1 = __webpack_require__(/*! ./EnsureEndsWithBuiltin */ "./lib/freemarker/builtin/EnsureEndsWithBuiltin.ts");
const EnsureStartsWithBuiltin_1 = __webpack_require__(/*! ./EnsureStartsWithBuiltin */ "./lib/freemarker/builtin/EnsureStartsWithBuiltin.ts");
const IndexOfBuiltin_1 = __webpack_require__(/*! ./IndexOfBuiltin */ "./lib/freemarker/builtin/IndexOfBuiltin.ts");
const LastIndexOfBuiltin_1 = __webpack_require__(/*! ./LastIndexOfBuiltin */ "./lib/freemarker/builtin/LastIndexOfBuiltin.ts");
const KeepAfterBuiltin_1 = __webpack_require__(/*! ./KeepAfterBuiltin */ "./lib/freemarker/builtin/KeepAfterBuiltin.ts");
const KeepAfterLastBuiltin_1 = __webpack_require__(/*! ./KeepAfterLastBuiltin */ "./lib/freemarker/builtin/KeepAfterLastBuiltin.ts");
const KeepBeforeBuiltin_1 = __webpack_require__(/*! ./KeepBeforeBuiltin */ "./lib/freemarker/builtin/KeepBeforeBuiltin.ts");
const KeepBeforeLastBuiltin_1 = __webpack_require__(/*! ./KeepBeforeLastBuiltin */ "./lib/freemarker/builtin/KeepBeforeLastBuiltin.ts");
const LeftPadBuiltin_1 = __webpack_require__(/*! ./LeftPadBuiltin */ "./lib/freemarker/builtin/LeftPadBuiltin.ts");
const RightPadBuiltin_1 = __webpack_require__(/*! ./RightPadBuiltin */ "./lib/freemarker/builtin/RightPadBuiltin.ts");
const MatchesBuiltin_1 = __webpack_require__(/*! ./MatchesBuiltin */ "./lib/freemarker/builtin/MatchesBuiltin.ts");
const NumberExpression_1 = __webpack_require__(/*! ./NumberExpression */ "./lib/freemarker/builtin/NumberExpression.ts");
const ReplaceBuiltin_1 = __webpack_require__(/*! ./ReplaceBuiltin */ "./lib/freemarker/builtin/ReplaceBuiltin.ts");
const RemoveBeginningBuiltin_1 = __webpack_require__(/*! ./RemoveBeginningBuiltin */ "./lib/freemarker/builtin/RemoveBeginningBuiltin.ts");
const RemoveEndingBuiltin_1 = __webpack_require__(/*! ./RemoveEndingBuiltin */ "./lib/freemarker/builtin/RemoveEndingBuiltin.ts");
const SplitBuiltin_1 = __webpack_require__(/*! ./SplitBuiltin */ "./lib/freemarker/builtin/SplitBuiltin.ts");
const StartsWithBuiltin_1 = __webpack_require__(/*! ./StartsWithBuiltin */ "./lib/freemarker/builtin/StartsWithBuiltin.ts");
const TruncateBuiltin_1 = __webpack_require__(/*! ./TruncateBuiltin */ "./lib/freemarker/builtin/TruncateBuiltin.ts");
const UrlBuiltin_1 = __webpack_require__(/*! ./UrlBuiltin */ "./lib/freemarker/builtin/UrlBuiltin.ts");
const WordListBuiltin_1 = __webpack_require__(/*! ./WordListBuiltin */ "./lib/freemarker/builtin/WordListBuiltin.ts");
const IsInfiniteBuiltin_1 = __webpack_require__(/*! ./IsInfiniteBuiltin */ "./lib/freemarker/builtin/IsInfiniteBuiltin.ts");
const IsNanBuiltin_1 = __webpack_require__(/*! ./IsNanBuiltin */ "./lib/freemarker/builtin/IsNanBuiltin.ts");
const LowerAbcBuiltin_1 = __webpack_require__(/*! ./LowerAbcBuiltin */ "./lib/freemarker/builtin/LowerAbcBuiltin.ts");
const UpperAbcBuiltin_1 = __webpack_require__(/*! ./UpperAbcBuiltin */ "./lib/freemarker/builtin/UpperAbcBuiltin.ts");
const RoundBuiltin_1 = __webpack_require__(/*! ./RoundBuiltin */ "./lib/freemarker/builtin/RoundBuiltin.ts");
const CeilBuiltin_1 = __webpack_require__(/*! ./CeilBuiltin */ "./lib/freemarker/builtin/CeilBuiltin.ts");
const FloorBuiltin_1 = __webpack_require__(/*! ./FloorBuiltin */ "./lib/freemarker/builtin/FloorBuiltin.ts");
const ChunkBuiltin_1 = __webpack_require__(/*! ./ChunkBuiltin */ "./lib/freemarker/builtin/ChunkBuiltin.ts");
const DropWhileBuiltin_1 = __webpack_require__(/*! ./DropWhileBuiltin */ "./lib/freemarker/builtin/DropWhileBuiltin.ts");
const FilterBuiltin_1 = __webpack_require__(/*! ./FilterBuiltin */ "./lib/freemarker/builtin/FilterBuiltin.ts");
const FirstBuiltin_1 = __webpack_require__(/*! ./FirstBuiltin */ "./lib/freemarker/builtin/FirstBuiltin.ts");
const JoinBuiltin_1 = __webpack_require__(/*! ./JoinBuiltin */ "./lib/freemarker/builtin/JoinBuiltin.ts");
const LastBuiltin_1 = __webpack_require__(/*! ./LastBuiltin */ "./lib/freemarker/builtin/LastBuiltin.ts");
const MapBuiltin_1 = __webpack_require__(/*! ./MapBuiltin */ "./lib/freemarker/builtin/MapBuiltin.ts");
const MinBuiltin_1 = __webpack_require__(/*! ./MinBuiltin */ "./lib/freemarker/builtin/MinBuiltin.ts");
const MaxBuiltin_1 = __webpack_require__(/*! ./MaxBuiltin */ "./lib/freemarker/builtin/MaxBuiltin.ts");
const ReverseBuiltin_1 = __webpack_require__(/*! ./ReverseBuiltin */ "./lib/freemarker/builtin/ReverseBuiltin.ts");
const SeqContainsBuiltin_1 = __webpack_require__(/*! ./SeqContainsBuiltin */ "./lib/freemarker/builtin/SeqContainsBuiltin.ts");
const SeqIndexOfBuiltin_1 = __webpack_require__(/*! ./SeqIndexOfBuiltin */ "./lib/freemarker/builtin/SeqIndexOfBuiltin.ts");
const SeqLastIndexOfBuiltin_1 = __webpack_require__(/*! ./SeqLastIndexOfBuiltin */ "./lib/freemarker/builtin/SeqLastIndexOfBuiltin.ts");
const SortBuiltin_1 = __webpack_require__(/*! ./SortBuiltin */ "./lib/freemarker/builtin/SortBuiltin.ts");
const SortByBuiltin_1 = __webpack_require__(/*! ./SortByBuiltin */ "./lib/freemarker/builtin/SortByBuiltin.ts");
const TakeWhileBuiltin_1 = __webpack_require__(/*! ./TakeWhileBuiltin */ "./lib/freemarker/builtin/TakeWhileBuiltin.ts");
const HasContentBuiltin_1 = __webpack_require__(/*! ./HasContentBuiltin */ "./lib/freemarker/builtin/HasContentBuiltin.ts");
const registry = [
    new ThenBuiltin_1.ThenBuiltin(),
    new UpperCaseBuiltin_1.UpperCaseBuiltin(),
    new LowerCaseBuiltin_1.LowerCaseBuiltin(),
    new CapFirstBuiltin_1.CapFirstBuiltin(),
    new CapitalizeBuiltin_1.CapitalizeBuiltin(),
    new UncapFirstBuiltin_1.UncapFirstBuiltin(),
    new TrimBuiltin_1.TrimBuiltin(),
    new ChopLinebreakBuiltin_1.ChopLinebreakBuiltin(),
    new BooleanBuiltin_1.BooleanBuiltin(),
    new DateBuiltin_1.DateBuiltin(),
    new DatetimeBuiltin_1.DatetimeBuiltin(),
    new TimeBuiltin_1.TimeBuiltin(),
    new LengthBuiltin_1.LengthBuiltin(),
    new SizeBuiltin_1.SizeBuiltin(),
    new StringBuiltin_1.StringBuiltin(),
    new ContainsBuiltin_1.ContainsBuiltin(),
    new EndsWithBuiltin_1.EndsWithBuiltin(),
    new EnsureEndsWithBuiltin_1.EnsureEndsWithBuiltin(),
    new EnsureStartsWithBuiltin_1.EnsureStartsWithBuiltin(),
    new IndexOfBuiltin_1.IndexOfWithBuiltin(),
    new LastIndexOfBuiltin_1.LastIndexOfWithBuiltin(),
    new KeepAfterBuiltin_1.KeepAfterBuiltin(),
    new KeepAfterLastBuiltin_1.KeepAfterLastBuiltin(),
    new KeepBeforeBuiltin_1.KeepBeforeBuiltin(),
    new KeepBeforeLastBuiltin_1.KeepBeforeLastBuiltin(),
    new LeftPadBuiltin_1.LeftPadBuiltin(),
    new RightPadBuiltin_1.RightPadBuiltin(),
    new MatchesBuiltin_1.MatchesBuiltin(),
    new NumberExpression_1.NumberBuiltin(),
    new ReplaceBuiltin_1.ReplaceBuiltin(),
    new RemoveBeginningBuiltin_1.RemoveBeginningBuiltin(),
    new RemoveEndingBuiltin_1.RemoveEndingBuiltin(),
    new SplitBuiltin_1.SplitBuiltin(),
    new StartsWithBuiltin_1.StartsWithBuiltin(),
    new TruncateBuiltin_1.TruncateBuiltin(),
    new UrlBuiltin_1.UrlBuiltin(),
    new WordListBuiltin_1.WordListBuiltin(),
    new IsInfiniteBuiltin_1.IsInfiniteBuiltin(),
    new IsNanBuiltin_1.IsNanBuiltin(),
    new LowerAbcBuiltin_1.LowerAbcBuiltin(),
    new UpperAbcBuiltin_1.UpperAbcBuiltin(),
    new RoundBuiltin_1.RoundBuiltin(),
    new CeilBuiltin_1.CeilBuiltin(),
    new FloorBuiltin_1.FloorBuiltin(),
    new ChunkBuiltin_1.ChunkBuiltin(),
    new DropWhileBuiltin_1.DropWhileBuiltin(),
    new FilterBuiltin_1.FilterBuiltin(),
    new FirstBuiltin_1.FirstBuiltin(),
    new JoinBuiltin_1.JoinBuiltin(),
    new LastBuiltin_1.LastBuiltin(),
    new MapBuiltin_1.MapBuiltin(),
    new MinBuiltin_1.MinBuiltin(),
    new MaxBuiltin_1.MaxBuiltin(),
    new ReverseBuiltin_1.ReverseBuiltin(),
    new SeqContainsBuiltin_1.SeqContainsBuiltin(),
    new SeqIndexOfBuiltin_1.SeqIndexOfBuiltin(),
    new SeqLastIndexOfBuiltin_1.SeqLastIndexOfBuiltin(),
    new SortBuiltin_1.SortBuiltin(),
    new SortByBuiltin_1.SortByBuiltin(),
    new TakeWhileBuiltin_1.TakeWhileBuiltin(),
    new HasContentBuiltin_1.HasContentBuiltin()
];
function find(subject, name) {
    return registry.find(builtin => builtin.accept(subject, name));
}
exports.find = find;


/***/ }),

/***/ "./lib/freemarker/expression-engine.ts":
/*!*********************************************!*\
  !*** ./lib/freemarker/expression-engine.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionEngine = void 0;
const tokenize_1 = __webpack_require__(/*! ./expression/tokenize */ "./lib/freemarker/expression/tokenize.ts");
const TemplateError_1 = __webpack_require__(/*! ./TemplateError */ "./lib/freemarker/TemplateError.ts");
const EqualExpression_1 = __webpack_require__(/*! ./expression/EqualExpression */ "./lib/freemarker/expression/EqualExpression.ts");
const AdditionExpression_1 = __webpack_require__(/*! ./expression/AdditionExpression */ "./lib/freemarker/expression/AdditionExpression.ts");
const DivisionExpression_1 = __webpack_require__(/*! ./expression/DivisionExpression */ "./lib/freemarker/expression/DivisionExpression.ts");
const AndExpression_1 = __webpack_require__(/*! ./expression/AndExpression */ "./lib/freemarker/expression/AndExpression.ts");
const DecrementExpression_1 = __webpack_require__(/*! ./expression/DecrementExpression */ "./lib/freemarker/expression/DecrementExpression.ts");
const AssignExpression_1 = __webpack_require__(/*! ./expression/AssignExpression */ "./lib/freemarker/expression/AssignExpression.ts");
const DereferenceExpression_1 = __webpack_require__(/*! ./expression/DereferenceExpression */ "./lib/freemarker/expression/DereferenceExpression.ts");
const CallMethodExpression_1 = __webpack_require__(/*! ./expression/CallMethodExpression */ "./lib/freemarker/expression/CallMethodExpression.ts");
const CallBuiltinExpression_1 = __webpack_require__(/*! ./expression/CallBuiltinExpression */ "./lib/freemarker/expression/CallBuiltinExpression.ts");
const NegativeExpression_1 = __webpack_require__(/*! ./expression/NegativeExpression */ "./lib/freemarker/expression/NegativeExpression.ts");
const PositiveExpression_1 = __webpack_require__(/*! ./expression/PositiveExpression */ "./lib/freemarker/expression/PositiveExpression.ts");
const NotExpression_1 = __webpack_require__(/*! ./expression/NotExpression */ "./lib/freemarker/expression/NotExpression.ts");
const ReferenceExpression_1 = __webpack_require__(/*! ./expression/ReferenceExpression */ "./lib/freemarker/expression/ReferenceExpression.ts");
const StringExpression_1 = __webpack_require__(/*! ./expression/StringExpression */ "./lib/freemarker/expression/StringExpression.ts");
const TrueExpression_1 = __webpack_require__(/*! ./expression/TrueExpression */ "./lib/freemarker/expression/TrueExpression.ts");
const FalseExpression_1 = __webpack_require__(/*! ./expression/FalseExpression */ "./lib/freemarker/expression/FalseExpression.ts");
const NumberExpression_1 = __webpack_require__(/*! ./expression/NumberExpression */ "./lib/freemarker/expression/NumberExpression.ts");
const SequenceExpression_1 = __webpack_require__(/*! ./expression/SequenceExpression */ "./lib/freemarker/expression/SequenceExpression.ts");
const HashExpression_1 = __webpack_require__(/*! ./expression/HashExpression */ "./lib/freemarker/expression/HashExpression.ts");
const DefaultExpression_1 = __webpack_require__(/*! ./expression/DefaultExpression */ "./lib/freemarker/expression/DefaultExpression.ts");
const SubstractionExpression_1 = __webpack_require__(/*! ./expression/SubstractionExpression */ "./lib/freemarker/expression/SubstractionExpression.ts");
const MultiplicationExpression_1 = __webpack_require__(/*! ./expression/MultiplicationExpression */ "./lib/freemarker/expression/MultiplicationExpression.ts");
const ModulusExpression_1 = __webpack_require__(/*! ./expression/ModulusExpression */ "./lib/freemarker/expression/ModulusExpression.ts");
const NotEqualExpression_1 = __webpack_require__(/*! ./expression/NotEqualExpression */ "./lib/freemarker/expression/NotEqualExpression.ts");
const OrExpression_1 = __webpack_require__(/*! ./expression/OrExpression */ "./lib/freemarker/expression/OrExpression.ts");
const LessThanExpression_1 = __webpack_require__(/*! ./expression/LessThanExpression */ "./lib/freemarker/expression/LessThanExpression.ts");
const GreaterThanExpression_1 = __webpack_require__(/*! ./expression/GreaterThanExpression */ "./lib/freemarker/expression/GreaterThanExpression.ts");
const LessThanOrEqualExpression_1 = __webpack_require__(/*! ./expression/LessThanOrEqualExpression */ "./lib/freemarker/expression/LessThanOrEqualExpression.ts");
const GreaterThanOrEqualExpression_1 = __webpack_require__(/*! ./expression/GreaterThanOrEqualExpression */ "./lib/freemarker/expression/GreaterThanOrEqualExpression.ts");
const AddAndAssignExpression_1 = __webpack_require__(/*! ./expression/AddAndAssignExpression */ "./lib/freemarker/expression/AddAndAssignExpression.ts");
const SubstractAndAssignExpression_1 = __webpack_require__(/*! ./expression/SubstractAndAssignExpression */ "./lib/freemarker/expression/SubstractAndAssignExpression.ts");
const MultiplyAndAssignExpression_1 = __webpack_require__(/*! ./expression/MultiplyAndAssignExpression */ "./lib/freemarker/expression/MultiplyAndAssignExpression.ts");
const DivideAndAssignExpression_1 = __webpack_require__(/*! ./expression/DivideAndAssignExpression */ "./lib/freemarker/expression/DivideAndAssignExpression.ts");
const ModulusAndAssignExpression_1 = __webpack_require__(/*! ./expression/ModulusAndAssignExpression */ "./lib/freemarker/expression/ModulusAndAssignExpression.ts");
const RangeStartingExpression_1 = __webpack_require__(/*! ./expression/RangeStartingExpression */ "./lib/freemarker/expression/RangeStartingExpression.ts");
const RangeInclusiveExpression_1 = __webpack_require__(/*! ./expression/RangeInclusiveExpression */ "./lib/freemarker/expression/RangeInclusiveExpression.ts");
const RangeExclusiveExpression_1 = __webpack_require__(/*! ./expression/RangeExclusiveExpression */ "./lib/freemarker/expression/RangeExclusiveExpression.ts");
const RangeLengthIncrementExpression_1 = __webpack_require__(/*! ./expression/RangeLengthIncrementExpression */ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts");
const RangeLengthDecrementExpression_1 = __webpack_require__(/*! ./expression/RangeLengthDecrementExpression */ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts");
const SliceExpression_1 = __webpack_require__(/*! ./expression/SliceExpression */ "./lib/freemarker/expression/SliceExpression.ts");
const IsDefinedExpression_1 = __webpack_require__(/*! ./expression/IsDefinedExpression */ "./lib/freemarker/expression/IsDefinedExpression.ts");
const IncrementExpression_1 = __webpack_require__(/*! ./expression/IncrementExpression */ "./lib/freemarker/expression/IncrementExpression.ts");
const ParenthesisExpression_1 = __webpack_require__(/*! ./expression/ParenthesisExpression */ "./lib/freemarker/expression/ParenthesisExpression.ts");
const AncillaryExpression_1 = __webpack_require__(/*! ./expression/AncillaryExpression */ "./lib/freemarker/expression/AncillaryExpression.ts");
const LambdaExpression_1 = __webpack_require__(/*! ./expression/LambdaExpression */ "./lib/freemarker/expression/LambdaExpression.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./expression/ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
const PRECEDENCE = {
    '?': 2,
    '.': 2,
    '??': 2,
    'default': 2,
    '(': 2,
    '[': 2,
    '/': 3,
    '*': 3,
    '%': 3,
    '+': 4,
    '-': 4,
    '..<': 5,
    '..!': 5,
    '..*': 5,
    '..': 5,
    '..*-': 5,
    '..*+': 5,
    'not': 5,
    '<': 6,
    '>': 6,
    '>=': 6,
    '<=': 6,
    '==': 7,
    '!=': 7,
    '&&': 8,
    '||': 9,
    '->': 10,
    '+=': 11,
    '-=': 11,
    '/=': 11,
    '%=': 11,
    '*=': 11,
    '=': 11,
};
function interpretOperand(tokens) {
    let token = tokens.shift(), expression = undefined;
    if (token === undefined) {
        throw new Error("Should never happen");
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_HASH) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_SEQUENCE) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.CLOSE_PARENTHESIS) {
        return [undefined, token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_PARENTHESIS) {
        const row = token.getRow();
        const column = token.getColumn();
        [expression, token] = interpretExpression(tokens);
        if ((token === null || token === void 0 ? void 0 : token.getType()) != tokenize_1.TokenType.CLOSE_PARENTHESIS) {
            throw new TemplateError_1.TemplateError(row, column, `Open parenthesis not closed with a close parenthesis`);
        }
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Parenthesis is empty`);
        }
        return [new ParenthesisExpression_1.ParenthesisExpression(expression, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.PLUS) {
        //we have encountered a + symbol where we expect an expression, so it is the sign for a number that follows.
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new PositiveExpression_1.PositiveExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.MINUS) {
        //we have encountered a - symbol where we expect an expression, so it is the sign for a number that follows.
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new NegativeExpression_1.NegativeExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.BANG) {
        const [arg, token] = interpretOperand(tokens);
        if (arg === undefined) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Unary operator '${token.getToken()}' expects an expression`);
        }
        return [new NotExpression_1.NotExpression(arg, token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.REFERENCE) {
        return [new ReferenceExpression_1.ReferenceExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.STRING) {
        return [new StringExpression_1.StringExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.TRUE) {
        return [new TrueExpression_1.TrueExpression(token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.FALSE) {
        return [new FalseExpression_1.FalseExpression(token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.NUMBER) {
        return [new NumberExpression_1.NumberExpression(token.getToken(), token.getRow(), token.getColumn()), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_SEQUENCE) {
        const elements = [];
        let row = token.getRow(), column = token.getColumn();
        [expression, token] = interpretExpression(tokens);
        if (token === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `sequence incorrectly terminated`);
        }
        while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
            if (expression === undefined) {
                throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Expression preceding comma in sequence is empty`);
            }
            elements.push(expression);
            row = token.getRow();
            column = token.getColumn();
            [expression, token] = interpretExpression(tokens);
            if (token === undefined) {
                throw new TemplateError_1.TemplateError(row, column, `sequence incorrectly terminated`);
            }
        }
        if (expression) {
            elements.push(expression);
        }
        if ((token === null || token === void 0 ? void 0 : token.getType()) !== tokenize_1.TokenType.CLOSE_SEQUENCE) {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Open sequence missing close sequence`);
        }
        return [new SequenceExpression_1.SequenceExpression(elements), token];
    }
    else if ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.OPEN_HASH) {
        let row = token.getRow(), column = token.getColumn();
        const hash = {};
        function readKeyPair() {
            if ((key === null || key === void 0 ? void 0 : key.getType()) !== tokenize_1.TokenType.STRING) {
                throw new TemplateError_1.TemplateError(row, column, `Hash missing key string`);
            }
            let colon = tokens.shift();
            if ((colon === null || colon === void 0 ? void 0 : colon.getType()) !== tokenize_1.TokenType.COLON) {
                throw new TemplateError_1.TemplateError(row, column, `Hash missing colon separator for key value pair`);
            }
            [expression, token] = interpretExpression(tokens);
            if (expression === undefined) {
                throw new TemplateError_1.TemplateError(row, column, `Expression for value in hash is empty`);
            }
            hash[key.getToken()] = expression;
        }
        let key = tokens.shift();
        if ((key === null || key === void 0 ? void 0 : key.getType()) === tokenize_1.TokenType.CLOSE_HASH) {
            return [new HashExpression_1.HashExpression(hash), token];
        }
        else {
            readKeyPair();
            while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
                key = tokens.shift();
                readKeyPair();
            }
        }
        if ((token === null || token === void 0 ? void 0 : token.getType()) !== tokenize_1.TokenType.CLOSE_HASH) {
            throw new TemplateError_1.TemplateError(row, column, `Open has  h missing close hash`);
        }
        return [new HashExpression_1.HashExpression(hash), token];
    }
    else {
        return [undefined, token];
    }
}
function isBinaryOperator(operator) {
    return operator.getType() === tokenize_1.TokenType.BANG ||
        operator.getType() === tokenize_1.TokenType.PLUS ||
        operator.getType() === tokenize_1.TokenType.MINUS ||
        operator.getType() === tokenize_1.TokenType.DIVIDE ||
        operator.getType() === tokenize_1.TokenType.MULTIPLY ||
        operator.getType() === tokenize_1.TokenType.MODULUS ||
        operator.getType() === tokenize_1.TokenType.EQUAL ||
        operator.getType() === tokenize_1.TokenType.NOT_EQUAL ||
        operator.getType() === tokenize_1.TokenType.AND ||
        operator.getType() === tokenize_1.TokenType.OR ||
        operator.getType() === tokenize_1.TokenType.LESS_THAN ||
        operator.getType() === tokenize_1.TokenType.GREATER_THAN ||
        operator.getType() === tokenize_1.TokenType.LESS_THAN_OR_EQUAL ||
        operator.getType() === tokenize_1.TokenType.GREATER_THAN_OR_EQUAL ||
        operator.getType() === tokenize_1.TokenType.ADD_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.SUBTRACT_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.MULTIPLY_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.DIVIDE_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.MODULUS_AND_ASSIGN ||
        operator.getType() === tokenize_1.TokenType.ASSIGN ||
        operator.getType() === tokenize_1.TokenType.DEREFERENCE ||
        operator.getType() === tokenize_1.TokenType.LAMBDA ||
        operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE ||
        operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE ||
        operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC ||
        operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC;
}
function buildBinaryExpression(operator, lhs, rhs) {
    if (operator.getType() === tokenize_1.TokenType.BANG) {
        return new DefaultExpression_1.DefaultExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.PLUS) {
        return new AdditionExpression_1.AdditionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MINUS) {
        return new SubstractionExpression_1.SubtractionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DIVIDE) {
        return new DivisionExpression_1.DivisionExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MULTIPLY) {
        return new MultiplicationExpression_1.MultiplicationExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MODULUS) {
        return new ModulusExpression_1.ModulusExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.EQUAL) {
        return new EqualExpression_1.EqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.NOT_EQUAL) {
        return new NotEqualExpression_1.NotEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.AND) {
        return new AndExpression_1.AndExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.OR) {
        return new OrExpression_1.OrExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LESS_THAN) {
        return new LessThanExpression_1.LessThanExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.GREATER_THAN) {
        return new GreaterThanExpression_1.GreaterThanExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LESS_THAN_OR_EQUAL) {
        return new LessThanOrEqualExpression_1.LessThanOrEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.GREATER_THAN_OR_EQUAL) {
        return new GreaterThanOrEqualExpression_1.GreaterThanOrEqualExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.ADD_AND_ASSIGN) {
        return new AddAndAssignExpression_1.AddAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.SUBTRACT_AND_ASSIGN) {
        return new SubstractAndAssignExpression_1.SubtractAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MULTIPLY_AND_ASSIGN) {
        return new MultiplyAndAssignExpression_1.MultiplyAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DIVIDE_AND_ASSIGN) {
        return new DivideAndAssignExpression_1.DivideAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.MODULUS_AND_ASSIGN) {
        return new ModulusAndAssignExpression_1.ModulusAndAssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.ASSIGN) {
        return new AssignExpression_1.AssignExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.DEREFERENCE) {
        return new DereferenceExpression_1.DereferenceExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.LAMBDA) {
        return new LambdaExpression_1.LambdaExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        return new RangeInclusiveExpression_1.RangeInclusiveExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE) {
        return new RangeExclusiveExpression_1.RangeExclusiveExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC) {
        return new RangeLengthIncrementExpression_1.RangeLengthIncrementExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC) {
        return new RangeLengthDecrementExpression_1.RangeLengthDecrementExpression(lhs, rhs, operator.getRow(), operator.getColumn());
    }
    else {
        throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Unknown token type '${operator.getType()}'`);
    }
}
function interpretSlice(tokens) {
    let [expression, token] = interpretOperand(tokens);
    if (expression === undefined) {
        throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Empty range arguments to slice operator`);
    }
    const operator = tokens.shift();
    if (operator.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE) {
        return expression;
    }
    const rhs = tokens.shift();
    if (rhs.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE && operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        return new RangeStartingExpression_1.RangeStartingExpression(expression, operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_INCLUSIVE) {
        expression = new RangeInclusiveExpression_1.RangeInclusiveExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_EXCLUSIVE) {
        expression = new RangeExclusiveExpression_1.RangeExclusiveExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_INC) {
        expression = new RangeLengthIncrementExpression_1.RangeLengthIncrementExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else if (operator.getType() === tokenize_1.TokenType.RANGE_LENGTH_DEC) {
        expression = new RangeLengthDecrementExpression_1.RangeLengthDecrementExpression(expression, new NumberExpression_1.NumberExpression(rhs.getToken(), rhs.getRow(), rhs.getColumn()), operator.getRow(), operator.getColumn());
    }
    else {
        throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Invalid range specification`);
    }
    const close = tokens.shift();
    if (close.getType() !== tokenize_1.TokenType.CLOSE_SEQUENCE) {
        throw new TemplateError_1.TemplateError(close.getRow(), close.getColumn(), `Close sequence expected`);
    }
    return expression;
}
function interpretFunctionArguments(tokens) {
    const result = [];
    let expression, token;
    [expression, token] = interpretExpression(tokens);
    while ((token === null || token === void 0 ? void 0 : token.getType()) === tokenize_1.TokenType.COMMA) {
        if (expression) {
            result.push(expression);
        }
        else {
            throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), "Expected expression preceding comma in function arguments");
        }
        [expression, token] = interpretExpression(tokens);
    }
    if (expression) {
        result.push(expression);
    }
    return result;
}
function interpretExpression(tokens) {
    let [expression, token] = interpretOperand(tokens);
    if (expression === undefined) {
        return [undefined, token];
    }
    while (tokens.length) {
        const operator = tokens.shift();
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(operator.getRow(), operator.getColumn(), `Binary operator expects lhs expression`);
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_PARENTHESIS) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.COMMA) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_SEQUENCE) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CLOSE_HASH) {
            return [expression, operator];
        }
        if (operator.getType() === tokenize_1.TokenType.CALL_METHOD) {
            const args = interpretFunctionArguments(tokens);
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new CallMethodExpression_1.CallMethodExpression(lhs, args, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.CALL_BUILTIN) {
            const name = tokens.shift();
            let args = [];
            if (tokens.length && tokens[0].getType() === tokenize_1.TokenType.CALL_METHOD) {
                tokens.shift();
                args = interpretFunctionArguments(tokens);
            }
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new CallBuiltinExpression_1.CallBuiltinExpression(lhs, name.getToken(), args, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.OPEN_SLICE) {
            const slice = interpretSlice(tokens);
            expression = walkUpLeftByPrecedence(operator, expression, (lhs) => new SliceExpression_1.SliceExpression(lhs, slice, operator.getRow(), operator.getColumn()));
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.IS_DEFINED) {
            expression = new IsDefinedExpression_1.IsDefinedExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.PLUS_PLUS) {
            expression = new IncrementExpression_1.IncrementExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (operator.getType() === tokenize_1.TokenType.MINUS_MINUS) {
            expression = new DecrementExpression_1.DecrementExpression(expression, operator.getRow(), operator.getColumn());
            continue;
        }
        if (!isBinaryOperator(operator)) {
            tokens.unshift(operator);
            const [ancillary, token] = interpretOperand(tokens);
            expression = new AncillaryExpression_1.AncillaryExpression(expression, ancillary, operator.getRow(), operator.getColumn());
            continue;
        }
        let rhs = undefined;
        if (tokens.length === 0 && operator.getType() === tokenize_1.TokenType.BANG) {
            rhs = new StringExpression_1.StringExpression("", token.getRow(), token.getColumn());
        }
        else {
            [rhs, token] = interpretOperand(tokens);
            if (operator.getType() === tokenize_1.TokenType.BANG && rhs === undefined) {
                tokens.unshift(token);
                rhs = new StringExpression_1.StringExpression("", token.getRow(), token.getColumn());
            }
            if (rhs === undefined) {
                throw new TemplateError_1.TemplateError(token.getRow(), token.getColumn(), `Binary operator expects rhs expression`);
            }
        }
        expression = walkUpLeftByPrecedence(operator, expression, (lhs) => buildBinaryExpression(operator, lhs, rhs));
    }
    return [expression, undefined];
}
function walkUpLeftByPrecedence(operator, subject, builder) {
    if ((0, ComposingExpression_1.isComposingExpression)(subject) && PRECEDENCE[operator.getToken()] < PRECEDENCE[subject.getOperator()]) {
        let current = subject;
        let next = current.getSubject();
        while ((0, ComposingExpression_1.isComposingExpression)(next) && PRECEDENCE[operator.getToken()] < PRECEDENCE[next.getOperator()]) {
            current = next;
            next = current.getSubject();
        }
        current.replaceSubject(builder(current.getSubject()));
        return subject;
    }
    else {
        return builder(subject);
    }
}
class ExpressionEngine {
    build(text, row, column) {
        const tokens = (0, tokenize_1.tokenize)(text, row, column);
        const [expression, token] = interpretExpression(tokens);
        if (expression === undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Expression is empty`);
        }
        if (token !== undefined) {
            throw new TemplateError_1.TemplateError(row, column, `Expression terminated incorrectly`);
        }
        return expression;
    }
}
exports.ExpressionEngine = ExpressionEngine;


/***/ }),

/***/ "./lib/freemarker/expression/AddAndAssignExpression.ts":
/*!*************************************************************!*\
  !*** ./lib/freemarker/expression/AddAndAssignExpression.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AddAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AddAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '+=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() + this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.AddAndAssignExpression = AddAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AdditionExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/AdditionExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AdditionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AdditionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '+';
    }
    evaluate(data) {
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (typeof lhs === 'string' || typeof rhs === "string") {
            return Value_1.Literal.of(lhs + rhs);
        }
        else if (typeof lhs === 'number' && typeof rhs === 'number') {
            return Value_1.Literal.of(lhs + rhs);
        }
        else if (Array.isArray(lhs) && Array.isArray(rhs)) {
            return Value_1.Literal.of([...lhs, ...rhs]);
        }
        else if ((0, isHash_1.isHash)(lhs) && (0, isHash_1.isHash)(rhs)) {
            return Value_1.Literal.of(Object.assign(Object.assign({}, lhs), rhs));
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid operands for addition`);
        }
    }
}
exports.AdditionExpression = AdditionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AncillaryExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/AncillaryExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AncillaryExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class AncillaryExpression extends ComposingExpression_1.ComposingExpression {
    constructor(ancillary, subject, row, column) {
        super(subject, row, column);
        this.ancillary = ancillary;
    }
    evaluate(data) {
        this.ancillary.evaluate(data);
        return this.subject.evaluate(data);
    }
    getOperator() {
        return 'ancilliary';
    }
}
exports.AncillaryExpression = AncillaryExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AndExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/expression/AndExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AndExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AndExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '&&';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() && this.rhs.evaluate(data).retrieve());
    }
}
exports.AndExpression = AndExpression;


/***/ }),

/***/ "./lib/freemarker/expression/AssignExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/AssignExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class AssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '=';
    }
    evaluate(data) {
        const lhs = this.lhs.evaluate(data);
        lhs.assign(this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.AssignExpression = AssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/BinaryExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/BinaryExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BinaryExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class BinaryExpression extends ComposingExpression_1.ComposingExpression {
    constructor(lhs, rhs, row, column) {
        super(rhs, row, column);
        this.lhs = lhs;
        this.rhs = rhs;
        this.row = row;
        this.column = column;
    }
    getSubject() {
        return this.rhs;
    }
    replaceSubject(expression) {
        this.rhs = expression;
    }
}
exports.BinaryExpression = BinaryExpression;


/***/ }),

/***/ "./lib/freemarker/expression/CallBuiltinExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/CallBuiltinExpression.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CallBuiltinExpression = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const Builtins = __importStar(__webpack_require__(/*! ../builtin */ "./lib/freemarker/builtin/index.ts"));
class CallBuiltinExpression {
    constructor(subject, name, args, row, column) {
        this.subject = subject;
        this.name = name;
        this.args = args;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        const exp = this.subject.evaluate(data);
        const isLoopVariable = (exp instanceof Value_1.Reference && Object.keys(data).includes(`$${exp.getName()}$`));
        if (isLoopVariable) {
            if (this.name === 'counter') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `counter builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] + 1);
            }
            else if (this.name === 'index') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `index builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`]);
            }
            else if (this.name === 'has_next') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `has_next builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] < data[`$${exp.getName()}_length$`] - 1);
            }
            else if (this.name === 'is_last') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_last builtin requires no arguments`);
                }
                const index = data[`$${exp.getName()}_index$`];
                const length = data[`$${exp.getName()}_length$`];
                return Value_1.Literal.of(index === length - 1);
            }
            else if (this.name === 'is_first') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_first builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] === 0);
            }
            else if (this.name === 'is_even_item') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_even_item builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0);
            }
            else if (this.name === 'is_odd_item') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `is_odd_item builtin requires no arguments`);
                }
                return Value_1.Literal.of(data[`$${exp.getName()}_index$`] % 2 === 0);
            }
            else if (this.name === 'item_cycle') {
                if (this.args.length === 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_cycle builtin requires at least one argument`);
                }
                const args = this.args.map(a => a.evaluate(data).retrieve());
                return Value_1.Literal.of(args[data[`$${exp.getName()}_index$`] % args.length]);
            }
            else if (this.name === 'item_parity') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_parity builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0 ? "even" : "odd");
            }
            else if (this.name === 'item_parity_cap') {
                if (this.args.length !== 0) {
                    throw new TemplateError_1.TemplateError(this.row, this.column, `item_parity_cap builtin requires no arguments`);
                }
                return Value_1.Literal.of((data[`$${exp.getName()}_index$`] + 1) % 2 === 0 ? "Even" : "Odd");
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`);
            }
        }
        const subject = exp.retrieve();
        const builtin = Builtins.find(subject, this.name);
        if (builtin) {
            return builtin.calculate(subject, this.args, data, this.row, this.column);
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported builtin (${this.name}) for subject ${this.row}:${this.column}`);
        }
    }
}
exports.CallBuiltinExpression = CallBuiltinExpression;


/***/ }),

/***/ "./lib/freemarker/expression/CallMethodExpression.ts":
/*!***********************************************************!*\
  !*** ./lib/freemarker/expression/CallMethodExpression.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CallMethodExpression = void 0;
const ReferenceExpression_1 = __webpack_require__(/*! ./ReferenceExpression */ "./lib/freemarker/expression/ReferenceExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const DereferenceExpression_1 = __webpack_require__(/*! ./DereferenceExpression */ "./lib/freemarker/expression/DereferenceExpression.ts");
class CallMethodExpression {
    constructor(reference, args, row, column) {
        this.reference = reference;
        this.args = args;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        if (this.reference instanceof ReferenceExpression_1.ReferenceExpression) {
            const method = this.reference.evaluate(data).retrieve();
            return Value_1.Literal.of(method(...this.args.map(arg => arg.evaluate(data).retrieve())));
        }
        else if (this.reference instanceof DereferenceExpression_1.DereferenceExpression) {
            const method = this.reference.evaluate(data).retrieve();
            return Value_1.Literal.of(method(...this.args.map(arg => arg.evaluate(data).retrieve())));
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid subject of method call, expected reference resolving to a method.`);
        }
    }
}
exports.CallMethodExpression = CallMethodExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ComposingExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/ComposingExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isComposingExpression = exports.ComposingExpression = void 0;
class ComposingExpression {
    constructor(subject, row, column) {
        this.subject = subject;
        this.row = row;
        this.column = column;
    }
    getSubject() {
        return this.subject;
    }
    replaceSubject(expression) {
        this.subject = expression;
    }
}
exports.ComposingExpression = ComposingExpression;
function isComposingExpression(test) {
    return test instanceof ComposingExpression;
}
exports.isComposingExpression = isComposingExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DecrementExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/DecrementExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DecrementExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class DecrementExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        const current = this.subject.evaluate(data);
        const original = current.retrieve();
        current.assign(original - 1);
        return Value_1.Literal.of(undefined);
    }
    getOperator() {
        return '--';
    }
}
exports.DecrementExpression = DecrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DefaultExpression.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/expression/DefaultExpression.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const ReferenceNotFoundError_1 = __webpack_require__(/*! ../ReferenceNotFoundError */ "./lib/freemarker/ReferenceNotFoundError.ts");
class DefaultExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return 'default';
    }
    evaluate(data) {
        try {
            const lhs = this.lhs.evaluate(data);
            if (lhs.retrieve() === undefined) {
                return this.rhs.evaluate(data);
            }
            return lhs;
        }
        catch (err) {
            if (err instanceof ReferenceNotFoundError_1.ReferenceNotFoundError) {
                return this.rhs.evaluate(data);
            }
            throw err;
        }
    }
}
exports.DefaultExpression = DefaultExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DereferenceExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/DereferenceExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DereferenceExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DereferenceExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '.';
    }
    evaluate(data) {
        const obj = this.lhs.evaluate(data).retrieve();
        if (obj === undefined) {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Subject is undefined for dereference operator`);
        }
        if (!(0, isHash_1.isHash)(obj)) {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid subject for dereference operator`);
        }
        const value = this.rhs.evaluate(obj).retrieve();
        if (typeof value === "function") {
            return Value_1.Literal.of(function () {
                return value.call(obj, ...arguments);
            });
        }
        return Value_1.Literal.of(value);
    }
}
exports.DereferenceExpression = DereferenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DivideAndAssignExpression.ts":
/*!****************************************************************!*\
  !*** ./lib/freemarker/expression/DivideAndAssignExpression.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivideAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DivideAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '/=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() / this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.DivideAndAssignExpression = DivideAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/DivisionExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/DivisionExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DivisionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class DivisionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '/';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() / this.rhs.evaluate(data).retrieve());
    }
}
exports.DivisionExpression = DivisionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/EqualExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/EqualExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class EqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '==';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() === this.rhs.evaluate(data).retrieve());
    }
}
exports.EqualExpression = EqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/FalseExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/FalseExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FalseExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class FalseExpression {
    constructor(row, column) {
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(false);
    }
}
exports.FalseExpression = FalseExpression;


/***/ }),

/***/ "./lib/freemarker/expression/GreaterThanExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/GreaterThanExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GreaterThanExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class GreaterThanExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '>';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() > this.rhs.evaluate(data).retrieve());
    }
}
exports.GreaterThanExpression = GreaterThanExpression;


/***/ }),

/***/ "./lib/freemarker/expression/GreaterThanOrEqualExpression.ts":
/*!*******************************************************************!*\
  !*** ./lib/freemarker/expression/GreaterThanOrEqualExpression.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GreaterThanOrEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class GreaterThanOrEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '>=';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() >= this.rhs.evaluate(data).retrieve());
    }
}
exports.GreaterThanOrEqualExpression = GreaterThanOrEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/HashExpression.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/expression/HashExpression.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HashExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class HashExpression {
    constructor(hash) {
        this.hash = hash;
    }
    evaluate(data) {
        const result = {};
        for (const [key, expression] of Object.entries(this.hash)) {
            result[key] = expression.evaluate(data).retrieve();
        }
        return Value_1.Literal.of(result);
    }
}
exports.HashExpression = HashExpression;


/***/ }),

/***/ "./lib/freemarker/expression/IncrementExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/IncrementExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IncrementExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class IncrementExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        const current = this.subject.evaluate(data);
        const original = current.retrieve();
        current.assign(original + 1);
        return Value_1.Literal.of(undefined);
    }
    getOperator() {
        return '++';
    }
}
exports.IncrementExpression = IncrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/IsDefinedExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/IsDefinedExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IsDefinedExpression = void 0;
const ReferenceNotFoundError_1 = __webpack_require__(/*! ../ReferenceNotFoundError */ "./lib/freemarker/ReferenceNotFoundError.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class IsDefinedExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        try {
            const subject = this.subject.evaluate(data).retrieve();
            return Value_1.Literal.of(!(subject === undefined || subject === null));
        }
        catch (err) {
            if (err instanceof ReferenceNotFoundError_1.ReferenceNotFoundError) {
                return Value_1.Literal.of(false);
            }
            throw err;
        }
    }
    getOperator() {
        return '??';
    }
}
exports.IsDefinedExpression = IsDefinedExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LambdaExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/LambdaExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LambdaExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
class LambdaExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '->';
    }
    evaluate(data) {
        const local = Object.assign({}, data);
        const lhs = this.lhs.evaluate(local);
        lhs.assign(data['$$']);
        return this.rhs.evaluate(local);
    }
}
exports.LambdaExpression = LambdaExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LessThanExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/LessThanExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LessThanExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class LessThanExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '<';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() < this.rhs.evaluate(data).retrieve());
    }
}
exports.LessThanExpression = LessThanExpression;


/***/ }),

/***/ "./lib/freemarker/expression/LessThanOrEqualExpression.ts":
/*!****************************************************************!*\
  !*** ./lib/freemarker/expression/LessThanOrEqualExpression.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LessThanOrEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class LessThanOrEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '<';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() <= this.rhs.evaluate(data).retrieve());
    }
}
exports.LessThanOrEqualExpression = LessThanOrEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ModulusAndAssignExpression.ts":
/*!*****************************************************************!*\
  !*** ./lib/freemarker/expression/ModulusAndAssignExpression.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ModulusAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ModulusAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '%=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() % this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.ModulusAndAssignExpression = ModulusAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ModulusExpression.ts":
/*!********************************************************!*\
  !*** ./lib/freemarker/expression/ModulusExpression.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ModulusExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ModulusExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '%';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() % this.rhs.evaluate(data).retrieve());
    }
}
exports.ModulusExpression = ModulusExpression;


/***/ }),

/***/ "./lib/freemarker/expression/MultiplicationExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/MultiplicationExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MultiplicationExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class MultiplicationExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '*';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() * this.rhs.evaluate(data).retrieve());
    }
}
exports.MultiplicationExpression = MultiplicationExpression;


/***/ }),

/***/ "./lib/freemarker/expression/MultiplyAndAssignExpression.ts":
/*!******************************************************************!*\
  !*** ./lib/freemarker/expression/MultiplyAndAssignExpression.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MultiplyAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class MultiplyAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '*=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() * this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.MultiplyAndAssignExpression = MultiplyAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NegativeExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/NegativeExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NegativeExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class NegativeExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return Value_1.Literal.of(-1 * this.subject.evaluate(data).retrieve());
    }
    getOperator() {
        return '-';
    }
}
exports.NegativeExpression = NegativeExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NotEqualExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/NotEqualExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NotEqualExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class NotEqualExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '!=';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() != this.rhs.evaluate(data).retrieve());
    }
}
exports.NotEqualExpression = NotEqualExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NotExpression.ts":
/*!****************************************************!*\
  !*** ./lib/freemarker/expression/NotExpression.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NotExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class NotExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return Value_1.Literal.of(!this.subject.evaluate(data).retrieve());
    }
    getOperator() {
        return 'not';
    }
}
exports.NotExpression = NotExpression;


/***/ }),

/***/ "./lib/freemarker/expression/NumberExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/NumberExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NumberExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class NumberExpression {
    constructor(subject, row, column) {
        this.subject = subject;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(Number(this.subject));
    }
}
exports.NumberExpression = NumberExpression;


/***/ }),

/***/ "./lib/freemarker/expression/OrExpression.ts":
/*!***************************************************!*\
  !*** ./lib/freemarker/expression/OrExpression.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OrExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class OrExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '||';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() || this.rhs.evaluate(data).retrieve());
    }
}
exports.OrExpression = OrExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ParenthesisExpression.ts":
/*!************************************************************!*\
  !*** ./lib/freemarker/expression/ParenthesisExpression.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ParenthesisExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class ParenthesisExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '(';
    }
}
exports.ParenthesisExpression = ParenthesisExpression;


/***/ }),

/***/ "./lib/freemarker/expression/PositiveExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/PositiveExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PositiveExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class PositiveExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '+';
    }
}
exports.PositiveExpression = PositiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeExclusiveExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/RangeExclusiveExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeExclusiveExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeExclusiveExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (lhs < rhs) {
            for (let i = lhs; i < rhs; i++) {
                result.push(i);
            }
        }
        else if (lhs > rhs) {
            for (let i = lhs; i > rhs; i--) {
                result.push(i);
            }
        }
        else {
            result.push(lhs);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeExclusiveExpression = RangeExclusiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeInclusiveExpression.ts":
/*!***************************************************************!*\
  !*** ./lib/freemarker/expression/RangeInclusiveExpression.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeInclusiveExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeInclusiveExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const lhs = this.lhs.evaluate(data).retrieve();
        const rhs = this.rhs.evaluate(data).retrieve();
        if (lhs < rhs) {
            for (let i = lhs; i <= rhs; i++) {
                result.push(i);
            }
        }
        else if (lhs > rhs) {
            for (let i = lhs; i >= rhs; i--) {
                result.push(i);
            }
        }
        else {
            result.push(lhs);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeInclusiveExpression = RangeInclusiveExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts":
/*!*********************************************************************!*\
  !*** ./lib/freemarker/expression/RangeLengthDecrementExpression.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeLengthDecrementExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeLengthDecrementExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const start = this.lhs.evaluate(data).retrieve();
        const length = this.rhs.evaluate(data).retrieve();
        for (let i = 0; i < length; i++) {
            result.push(start - i);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeLengthDecrementExpression = RangeLengthDecrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts":
/*!*********************************************************************!*\
  !*** ./lib/freemarker/expression/RangeLengthIncrementExpression.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeLengthIncrementExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class RangeLengthIncrementExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '..';
    }
    evaluate(data) {
        const result = [];
        const start = this.lhs.evaluate(data).retrieve();
        const length = this.rhs.evaluate(data).retrieve();
        for (let i = 0; i < length; i++) {
            result.push(start + i);
        }
        return Value_1.Literal.of(result);
    }
}
exports.RangeLengthIncrementExpression = RangeLengthIncrementExpression;


/***/ }),

/***/ "./lib/freemarker/expression/RangeStartingExpression.ts":
/*!**************************************************************!*\
  !*** ./lib/freemarker/expression/RangeStartingExpression.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RangeStartingExpression = void 0;
const ComposingExpression_1 = __webpack_require__(/*! ./ComposingExpression */ "./lib/freemarker/expression/ComposingExpression.ts");
class RangeStartingExpression extends ComposingExpression_1.ComposingExpression {
    evaluate(data) {
        return this.subject.evaluate(data);
    }
    getOperator() {
        return '[';
    }
}
exports.RangeStartingExpression = RangeStartingExpression;


/***/ }),

/***/ "./lib/freemarker/expression/ReferenceExpression.ts":
/*!**********************************************************!*\
  !*** ./lib/freemarker/expression/ReferenceExpression.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReferenceExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class ReferenceExpression {
    constructor(reference, row, column) {
        this.reference = reference;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Reference.of(this.reference, data);
    }
}
exports.ReferenceExpression = ReferenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SequenceExpression.ts":
/*!*********************************************************!*\
  !*** ./lib/freemarker/expression/SequenceExpression.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SequenceExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SequenceExpression {
    constructor(elements) {
        this.elements = elements;
    }
    evaluate(data) {
        return Value_1.Literal.of(this.elements.map(el => el.evaluate(data).retrieve()));
    }
}
exports.SequenceExpression = SequenceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SliceExpression.ts":
/*!******************************************************!*\
  !*** ./lib/freemarker/expression/SliceExpression.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SliceExpression = void 0;
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
const RangeStartingExpression_1 = __webpack_require__(/*! ./RangeStartingExpression */ "./lib/freemarker/expression/RangeStartingExpression.ts");
const RangeLengthIncrementExpression_1 = __webpack_require__(/*! ./RangeLengthIncrementExpression */ "./lib/freemarker/expression/RangeLengthIncrementExpression.ts");
const RangeLengthDecrementExpression_1 = __webpack_require__(/*! ./RangeLengthDecrementExpression */ "./lib/freemarker/expression/RangeLengthDecrementExpression.ts");
const isHash_1 = __webpack_require__(/*! ../../utilities/isHash */ "./lib/utilities/isHash.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
class SliceExpression extends BinaryExpression_1.BinaryExpression {
    evaluate(data) {
        const subject = this.lhs.evaluate(data).retrieve();
        const arg = this.rhs.evaluate(data).retrieve();
        const lenient = this.rhs instanceof RangeLengthIncrementExpression_1.RangeLengthIncrementExpression || this.rhs instanceof RangeLengthDecrementExpression_1.RangeLengthDecrementExpression;
        if (Array.isArray(subject)) {
            if (this.rhs instanceof RangeStartingExpression_1.RangeStartingExpression) {
                return Value_1.Literal.of(subject.slice(arg));
            }
            else if (Array.isArray(arg)) {
                const result = [];
                for (const index of arg) {
                    if (index >= 0 && index < subject.length) {
                        result.push(subject[index]);
                    }
                    else if (!lenient) {
                        throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid index for slice`);
                    }
                }
                return Value_1.Literal.of(result);
            }
            else if (typeof arg === "number") {
                return Value_1.Literal.of(subject[arg]);
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice`);
            }
        }
        else if ((0, isHash_1.isHash)(subject)) {
            if (typeof arg === "string") {
                return Value_1.Literal.of(subject[arg]);
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice when applied to hash`);
            }
        }
        else if (typeof subject === "string") {
            if (this.rhs instanceof RangeStartingExpression_1.RangeStartingExpression) {
                return Value_1.Literal.of(subject.slice(arg));
            }
            else if (Array.isArray(arg)) {
                const result = [];
                for (const index of arg) {
                    if (index >= 0 && index < subject.length) {
                        result.push(subject.charAt(index));
                    }
                    else if (!lenient) {
                        throw new TemplateError_1.TemplateError(this.row, this.column, `Invalid index for slice`);
                    }
                }
                return Value_1.Literal.of(result.join(""));
            }
            else if (typeof arg === "number") {
                return Value_1.Literal.of(subject.charAt(arg));
            }
            else {
                throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported arg of slice`);
            }
        }
        else {
            throw new TemplateError_1.TemplateError(this.row, this.column, `Unsupported subject of slice`);
        }
    }
    getOperator() {
        return 'slice';
    }
}
exports.SliceExpression = SliceExpression;


/***/ }),

/***/ "./lib/freemarker/expression/StringExpression.ts":
/*!*******************************************************!*\
  !*** ./lib/freemarker/expression/StringExpression.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StringExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const expression_engine_1 = __webpack_require__(/*! ../expression-engine */ "./lib/freemarker/expression-engine.ts");
var Stage;
(function (Stage) {
    Stage[Stage["OPEN"] = 0] = "OPEN";
    Stage[Stage["INTERPOLATION"] = 1] = "INTERPOLATION";
})(Stage || (Stage = {}));
class StringExpression {
    constructor(str, row, column) {
        this.str = str;
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        const reader = new StringBuffer_1.StringBuffer(this.str, this.row, this.column);
        let result = new StringBuffer_1.StringBuffer();
        let writer = new StringBuffer_1.StringBuffer();
        let column, row;
        let stage = Stage.OPEN;
        while (reader.hasNext()) {
            let character = reader.next();
            if (stage === Stage.OPEN) {
                writer.append(character.getString());
                if (writer.endsWith('${')) {
                    row = character.getRow();
                    column = character.getColumn();
                    const text = writer.toString();
                    result.append(text.substring(0, text.length - 2));
                    stage = Stage.INTERPOLATION;
                    writer = new StringBuffer_1.StringBuffer();
                }
            }
            else if (stage === Stage.INTERPOLATION) {
                if (character.getString() === '}') {
                    const text = writer.toString();
                    const str = new expression_engine_1.ExpressionEngine().build(text, row, column).evaluate(data).retrieve();
                    result.append(String(str));
                    stage = Stage.OPEN;
                    writer = new StringBuffer_1.StringBuffer();
                }
                else {
                    writer.append(character.getString());
                }
            }
        }
        result.append(writer.toString());
        return Value_1.Literal.of(result.toString());
    }
}
exports.StringExpression = StringExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SubstractAndAssignExpression.ts":
/*!*******************************************************************!*\
  !*** ./lib/freemarker/expression/SubstractAndAssignExpression.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SubtractAndAssignExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SubtractAndAssignExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '-=';
    }
    evaluate(data) {
        const current = this.lhs.evaluate(data);
        current.assign(current.retrieve() - this.rhs.evaluate(data).retrieve());
        return Value_1.Literal.of(undefined);
    }
}
exports.SubtractAndAssignExpression = SubtractAndAssignExpression;


/***/ }),

/***/ "./lib/freemarker/expression/SubstractionExpression.ts":
/*!*************************************************************!*\
  !*** ./lib/freemarker/expression/SubstractionExpression.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SubtractionExpression = void 0;
const BinaryExpression_1 = __webpack_require__(/*! ./BinaryExpression */ "./lib/freemarker/expression/BinaryExpression.ts");
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class SubtractionExpression extends BinaryExpression_1.BinaryExpression {
    getOperator() {
        return '-';
    }
    evaluate(data) {
        return Value_1.Literal.of(this.lhs.evaluate(data).retrieve() - this.rhs.evaluate(data).retrieve());
    }
}
exports.SubtractionExpression = SubtractionExpression;


/***/ }),

/***/ "./lib/freemarker/expression/TrueExpression.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/expression/TrueExpression.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrueExpression = void 0;
const Value_1 = __webpack_require__(/*! ./Value */ "./lib/freemarker/expression/Value.ts");
class TrueExpression {
    constructor(row, column) {
        this.row = row;
        this.column = column;
    }
    evaluate(data) {
        return Value_1.Literal.of(true);
    }
}
exports.TrueExpression = TrueExpression;


/***/ }),

/***/ "./lib/freemarker/expression/Value.ts":
/*!********************************************!*\
  !*** ./lib/freemarker/expression/Value.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Reference = exports.Literal = void 0;
class Literal {
    constructor(value) {
        this.value = value;
    }
    assign(val) {
        throw new Error("Invalid assignment target");
    }
    retrieve() {
        return this.value;
    }
    static of(value) {
        return new Literal(value);
    }
}
exports.Literal = Literal;
class Reference {
    constructor(name, data) {
        this.name = name;
        this.data = data;
    }
    assign(val) {
        this.data[this.name] = val;
    }
    retrieve() {
        return this.data[this.name];
    }
    getName() {
        return this.name;
    }
    static of(name, data) {
        return new Reference(name, data);
    }
}
exports.Reference = Reference;


/***/ }),

/***/ "./lib/freemarker/expression/tokenize.ts":
/*!***********************************************!*\
  !*** ./lib/freemarker/expression/tokenize.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.tokenize = exports.Token = exports.TokenType = void 0;
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
const isAlphabetic_1 = __webpack_require__(/*! ../../utilities/isAlphabetic */ "./lib/utilities/isAlphabetic.ts");
const isAlphanumeric_1 = __webpack_require__(/*! ../../utilities/isAlphanumeric */ "./lib/utilities/isAlphanumeric.ts");
const isNumeric_1 = __webpack_require__(/*! ../../utilities/isNumeric */ "./lib/utilities/isNumeric.ts");
const TemplateError_1 = __webpack_require__(/*! ../TemplateError */ "./lib/freemarker/TemplateError.ts");
exports.TokenType = {
    EQUAL: 'EQUAL',
    NOT_EQUAL: 'NOT_EQUAL',
    LESS_THAN: 'LESS_THAN',
    LESS_THAN_OR_EQUAL: 'LESS_THAN_OR_EQUAL',
    GREATER_THAN: 'GREATER_THAN',
    GREATER_THAN_OR_EQUAL: 'GREATER_THAN_OR_EQUAL',
    OR: 'OR',
    AND: 'AND',
    BANG: 'BANG',
    REFERENCE: 'REFERENCE',
    BUILTIN: 'BUILTIN',
    GLOBAL_VARIABLE: 'GLOBAL_VARIABLE',
    TRUE: 'TRUE',
    FALSE: 'FALSE',
    STRING: 'STRING',
    NUMBER: 'NUMBER',
    OPEN_PARENTHESIS: 'OPEN_PARENTHESIS',
    CLOSE_PARENTHESIS: 'CLOSE_PARENTHESIS',
    OPEN_SEQUENCE: 'OPEN_SEQUENCE',
    CLOSE_SEQUENCE: 'CLOSE_SEQUENCE',
    OPEN_SLICE: 'OPEN_SLICE',
    OPEN_HASH: 'OPEN_HASH',
    CLOSE_HASH: 'CLOSE_HASH',
    COMMA: 'COMMA',
    COLON: 'COLON',
    ASSIGN: 'ASSIGN',
    ADD_AND_ASSIGN: 'ADD_AND_ASSIGN',
    SUBTRACT_AND_ASSIGN: 'SUBTRACT_AND_ASSIGN',
    MULTIPLY_AND_ASSIGN: 'MULTIPLY_AND_ASSIGN',
    DIVIDE_AND_ASSIGN: 'DIVIDE_AND_ASSIGN',
    MODULUS_AND_ASSIGN: 'MODULUS_AND_ASSIGN',
    PLUS: 'PLUS',
    MINUS: 'MINUS',
    MULTIPLY: 'MULTIPLY',
    DIVIDE: 'DIVIDE',
    MODULUS: 'MODULUS',
    RANGE_INCLUSIVE: 'RANGE_INCLUSIVE',
    RANGE_EXCLUSIVE: 'RANGE_EXCLUSIVE',
    RANGE_LENGTH_INC: 'RANGE_LENGTH_INC',
    RANGE_LENGTH_DEC: 'RANGE_LENGTH_DEC',
    DEREFERENCE: 'DEREFERENCE',
    CALL_BUILTIN: 'CALL_BUILTIN',
    CALL_METHOD: 'CALL_METHOD',
    IS_DEFINED: 'IS_DEFINED',
    LAMBDA: 'LAMBDA',
    PLUS_PLUS: 'PLUS_PLUS',
    MINUS_MINUS: 'MINUS_MINUS',
};
class Token {
    constructor(type, token, row, column) {
        this.type = type;
        this.token = token;
        this.row = row;
        this.column = column;
    }
    getType() {
        return this.type;
    }
    getToken() {
        return this.token;
    }
    getRow() {
        return this.row;
    }
    getColumn() {
        return this.column;
    }
}
exports.Token = Token;
function tokenize(expression, row = 0, column = 0) {
    const reader = new StringBuffer_1.StringBuffer(expression, row, column);
    let stage = 0 /* Stage.OPEN */;
    let writer = new StringBuffer_1.StringBuffer();
    const results = [];
    function appendToken(row, column) {
        function take(partial, type) {
            results.push(new Token(type, partial, row, column - partial.length));
            return token.substring(partial.length);
        }
        let token = writer.toString();
        if (stage === 5 /* Stage.NUMBER */) {
            if (isNaN(Number(token))) {
                throw new TemplateError_1.TemplateError(row, column, `Invalid number`);
            }
            results.push(new Token(exports.TokenType.NUMBER, token, row, column - token.length));
            return;
        }
        while (token.length) {
            if (token.startsWith('..*-')) {
                token = take('..*-', exports.TokenType.RANGE_LENGTH_DEC);
            }
            else if (token.startsWith('..*+')) {
                token = take('..*+', exports.TokenType.RANGE_LENGTH_INC);
            }
            else if (token.startsWith('..*')) {
                token = take('..*', exports.TokenType.RANGE_LENGTH_INC);
            }
            else if (token.startsWith('..<')) {
                token = take('..<', exports.TokenType.RANGE_EXCLUSIVE);
            }
            else if (token.startsWith('..!')) {
                token = take('..<', exports.TokenType.RANGE_EXCLUSIVE);
            }
            else if (token.startsWith('==')) {
                token = take('==', exports.TokenType.EQUAL);
            }
            else if (token.startsWith('+=')) {
                token = take('+=', exports.TokenType.ADD_AND_ASSIGN);
            }
            else if (token.startsWith('++')) {
                token = take('++', exports.TokenType.PLUS_PLUS);
            }
            else if (token.startsWith('-=')) {
                token = take('-=', exports.TokenType.SUBTRACT_AND_ASSIGN);
            }
            else if (token.startsWith('--')) {
                token = take('--', exports.TokenType.MINUS_MINUS);
            }
            else if (token.startsWith('/=')) {
                token = take('/=', exports.TokenType.DIVIDE_AND_ASSIGN);
            }
            else if (token.startsWith('%=')) {
                token = take('%=', exports.TokenType.MODULUS_AND_ASSIGN);
            }
            else if (token.startsWith('*=')) {
                token = take('*=', exports.TokenType.MULTIPLY_AND_ASSIGN);
            }
            else if (token.startsWith('->')) {
                token = take('->', exports.TokenType.LAMBDA);
            }
            else if (token.startsWith('!=')) {
                token = take('!=', exports.TokenType.NOT_EQUAL);
            }
            else if (token.startsWith('<=')) {
                token = take('<=', exports.TokenType.LESS_THAN_OR_EQUAL);
            }
            else if (token.startsWith('&gt;')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('&lt;')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('lt')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('lte')) {
                token = take('<=', exports.TokenType.LESS_THAN_OR_EQUAL);
            }
            else if (token.startsWith('gt')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('gte')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('>=')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('&gt;')) {
                token = take('>=', exports.TokenType.GREATER_THAN_OR_EQUAL);
            }
            else if (token.startsWith('..')) {
                token = take('..', exports.TokenType.RANGE_INCLUSIVE);
            }
            else if (token.startsWith('??')) {
                token = take('??', exports.TokenType.IS_DEFINED);
            }
            else if (token.startsWith('||')) {
                token = take('||', exports.TokenType.OR);
            }
            else if (token.startsWith('&&')) {
                token = take('&&', exports.TokenType.AND);
            }
            else if (token.startsWith('&amp;&amp;')) {
                token = take('&&', exports.TokenType.AND);
            }
            else if (token.startsWith('true')) {
                token = take('true', exports.TokenType.TRUE);
            }
            else if (token.startsWith('false')) {
                token = take('false', exports.TokenType.FALSE);
            }
            else if (token.startsWith('=')) {
                token = take('=', exports.TokenType.ASSIGN);
            }
            else if (token.startsWith('!')) {
                token = take('!', exports.TokenType.BANG);
            }
            else if (token.startsWith('+')) {
                token = take('+', exports.TokenType.PLUS);
            }
            else if (token.startsWith('-')) {
                token = take('-', exports.TokenType.MINUS);
            }
            else if (token.startsWith('/')) {
                token = take('/', exports.TokenType.DIVIDE);
            }
            else if (token.startsWith('*')) {
                token = take('*', exports.TokenType.MULTIPLY);
            }
            else if (token.startsWith('%')) {
                token = take('%', exports.TokenType.MODULUS);
            }
            else if (token.startsWith('>')) {
                token = take('>', exports.TokenType.GREATER_THAN);
            }
            else if (token.startsWith('<')) {
                token = take('<', exports.TokenType.LESS_THAN);
            }
            else if (token.startsWith('?')) {
                token = take('?', exports.TokenType.CALL_BUILTIN);
            }
            else {
                if (results.length && results[results.length - 1].getType() === exports.TokenType.CALL_BUILTIN) {
                    results.push(new Token(exports.TokenType.BUILTIN, token, row, column - token.length));
                }
                else {
                    results.push(new Token(exports.TokenType.REFERENCE, token, row, column - token.length));
                }
                break;
            }
        }
    }
    function resetToken() {
        stage = 0 /* Stage.OPEN */;
        writer = new StringBuffer_1.StringBuffer();
    }
    let stringDelimiter = null;
    let escape = false;
    let fullStop = false;
    let lastFullStop = false;
    while (reader.hasNext()) {
        let character = reader.next();
        if (stage === 3 /* Stage.STRING */) {
            if (escape) {
                if (character.getString() == '"') {
                    writer.append('"');
                }
                else if (character.getString() == '\'') {
                    writer.append('\'');
                }
                else if (character.getString() === '{') {
                    writer.append('{');
                }
                else if (character.getString() === '=') {
                    writer.append('=');
                }
                else if (character.getString() === '\\') {
                    writer.append('\\');
                }
                else if (character.getString() === 'n') {
                    writer.append("\n");
                }
                else if (character.getString() === 'r') {
                    writer.append("\r");
                }
                else if (character.getString() === 't') {
                    writer.append("\t");
                }
                else if (character.getString() === 'b') {
                    writer.append("\b");
                }
                else if (character.getString() === 'f') {
                    writer.append("\f");
                }
                else if (character.getString() === 'l') {
                    writer.append("<");
                }
                else if (character.getString() === 'g') {
                    writer.append(">");
                }
                else if (character.getString() === 'a') {
                    writer.append("&");
                }
                else if (character.getString() === 'x') {
                    //do not escape special strings
                    writer.append("\\x");
                }
                else {
                    throw new TemplateError_1.TemplateError(character.getRow(), character.getColumn(), `Unsupported escape sequence '\\${character.getString()}'`);
                }
                escape = false;
            }
            else if (character.getString() === '\\') {
                escape = true;
            }
            else if (character.getString() === stringDelimiter) {
                const string = writer.toString();
                results.push(new Token(exports.TokenType.STRING, string, character.getRow(), character.getColumn() - string.length - 1));
                resetToken();
            }
            else {
                writer.append(character.getString());
            }
        }
        else if (stage === 4 /* Stage.RAW_STRING */) {
            if (character.getString() === stringDelimiter) {
                const string = writer.toString();
                results.push(new Token(exports.TokenType.STRING, string, character.getRow(), character.getColumn() - string.length - 2));
                resetToken();
            }
            else {
                writer.append(character.getString());
            }
        }
        else if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
            appendToken(character.getRow(), character.getColumn());
            resetToken();
        }
        else if (character.getString() === '(') {
            appendToken(character.getRow(), character.getColumn());
            if (stage === 2 /* Stage.REFERENCE */) {
                results.push(new Token(exports.TokenType.CALL_METHOD, "(", character.getRow(), character.getColumn()));
            }
            else {
                results.push(new Token(exports.TokenType.OPEN_PARENTHESIS, "(", character.getRow(), character.getColumn()));
            }
            resetToken();
        }
        else if (character.getString() === '[') {
            appendToken(character.getRow(), character.getColumn());
            if (stage === 2 /* Stage.REFERENCE */) {
                results.push(new Token(exports.TokenType.OPEN_SLICE, "[", character.getRow(), character.getColumn()));
            }
            else {
                results.push(new Token(exports.TokenType.OPEN_SEQUENCE, "[", character.getRow(), character.getColumn()));
            }
            resetToken();
        }
        else if (character.getString() === '{') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.OPEN_HASH, "{", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ',') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.COMMA, ",", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ':') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.COLON, ":", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ')') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_PARENTHESIS, ")", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === ']') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_SEQUENCE, "]", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (character.getString() === '}') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.CLOSE_HASH, "}", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if (stage === 2 /* Stage.REFERENCE */) {
            if (character.getString() === '.') {
                appendToken(character.getRow(), character.getColumn());
                results.push(new Token(exports.TokenType.DEREFERENCE, ".", character.getRow(), character.getColumn()));
                resetToken();
            }
            else if (character.getString() === '"' && writer.toString() === 'r') {
                stage = 4 /* Stage.RAW_STRING */;
                stringDelimiter = '"';
                writer = new StringBuffer_1.StringBuffer();
            }
            else if (character.getString() === '\'' && writer.toString() === 'r') {
                stage = 4 /* Stage.RAW_STRING */;
                stringDelimiter = '\'';
                writer = new StringBuffer_1.StringBuffer();
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(character.getString())) {
                writer.append(character.getString());
            }
            else if (character.getString() === '_') {
                writer.append(character.getString());
            }
            else {
                appendToken(character.getRow(), character.getColumn());
                //encountered weird character - operator.
                stage = 1 /* Stage.OPERATOR */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
        }
        else if (character.getString() === '"') {
            appendToken(character.getRow(), character.getColumn());
            stringDelimiter = '"';
            stage = 3 /* Stage.STRING */;
            writer = new StringBuffer_1.StringBuffer();
        }
        else if (character.getString() === '\'') {
            appendToken(character.getRow(), character.getColumn());
            stringDelimiter = '\'';
            stage = 3 /* Stage.STRING */;
            writer = new StringBuffer_1.StringBuffer();
        }
        else if (stage === 1 /* Stage.OPERATOR */) {
            if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 2 /* Stage.REFERENCE */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else if ((0, isNumeric_1.isNumeric)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 5 /* Stage.NUMBER */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else {
                writer.append(character.getString());
            }
        }
        else if (stage === 5 /* Stage.NUMBER */) {
            if (lastFullStop) {
                if (character.getString() === '.') {
                    appendToken(character.getRow(), character.getColumn() - 1);
                    stage = 1 /* Stage.OPERATOR */;
                    fullStop = false;
                    lastFullStop = false;
                    writer = new StringBuffer_1.StringBuffer();
                    writer.append('.');
                    writer.append(character.getString());
                }
                else {
                    lastFullStop = false;
                    writer.append('.');
                    writer.append(character.getString());
                }
            }
            else if (character.getString() === '.') {
                if (lastFullStop) {
                    //double fullStop - we have a range operator.
                }
                if (fullStop) {
                    throw new TemplateError_1.TemplateError(character.getRow(), character.getColumn(), `Invalid decimal point, decimal point already processed`);
                }
                fullStop = true;
                lastFullStop = true;
            }
            else if ((0, isNumeric_1.isNumeric)(character.getString())) {
                lastFullStop = false;
                writer.append(character.getString());
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
                appendToken(character.getRow(), character.getColumn());
                stage = 2 /* Stage.REFERENCE */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
            else {
                appendToken(character.getRow(), character.getColumn());
                stage = 1 /* Stage.OPERATOR */;
                writer = new StringBuffer_1.StringBuffer();
                writer.append(character.getString());
            }
        }
        else if (character.getString() === '.') {
            appendToken(character.getRow(), character.getColumn());
            results.push(new Token(exports.TokenType.DEREFERENCE, ".", character.getRow(), character.getColumn()));
            resetToken();
        }
        else if ((0, isAlphabetic_1.isAlphabetic)(character.getString())) {
            // reference is a special mode where alphanumerics for a token, and anything else terminates the token.
            stage = 2 /* Stage.REFERENCE */;
            writer.append(character.getString());
        }
        else if ((0, isNumeric_1.isNumeric)(character.getString())) {
            // number is a special mode where fullstop means something specific, a decimal point. Alphabetic characters are invalid.
            stage = 5 /* Stage.NUMBER */;
            fullStop = false;
            lastFullStop = false;
            writer.append(character.getString());
        }
        else if (character.getString() === '.') {
            appendToken(character.getRow(), character.getColumn());
            writer = new StringBuffer_1.StringBuffer();
            writer.append(".");
            stage = 2 /* Stage.REFERENCE */;
        }
        else {
            stage = 1 /* Stage.OPERATOR */;
            writer.append(character.getString());
        }
    }
    if (stage === 3 /* Stage.STRING */ || stage === 4 /* Stage.RAW_STRING */) {
        throw new TemplateError_1.TemplateError(row, column, `Unclosed string`);
    }
    appendToken(reader.getRow(), reader.getColumn());
    return results;
}
exports.tokenize = tokenize;


/***/ }),

/***/ "./lib/freemarker/template/LexicalToken.ts":
/*!*************************************************!*\
  !*** ./lib/freemarker/template/LexicalToken.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LexicalToken = void 0;
class LexicalToken {
    constructor(type, column, row, text, params, paramsRow, paramsColumn) {
        this.type = type;
        this.column = column;
        this.row = row;
        this.text = text;
        this.params = params;
        this.paramsRow = paramsRow;
        this.paramsColumn = paramsColumn;
    }
    getType() {
        return this.type;
    }
    getRow() {
        return this.row;
    }
    getColumn() {
        return this.column;
    }
    getText() {
        return this.text;
    }
    getParams() {
        return this.params;
    }
    getParamsRow() {
        return this.paramsRow;
    }
    getParamsColumn() {
        return this.paramsColumn;
    }
}
exports.LexicalToken = LexicalToken;


/***/ }),

/***/ "./lib/freemarker/template/LexicalTokenType.ts":
/*!*****************************************************!*\
  !*** ./lib/freemarker/template/LexicalTokenType.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LexicalTokenType = void 0;
exports.LexicalTokenType = {
    OPEN_DIRECTIVE: 'OPEN_DIRECTIVE',
    CLOSE_DIRECTIVE: 'CLOSE_DIRECTIVE',
    TEXT: 'TEXT',
    INTERPOLATION: 'INTERPOLATION',
};


/***/ }),

/***/ "./lib/freemarker/template/lexer.ts":
/*!******************************************!*\
  !*** ./lib/freemarker/template/lexer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parse = void 0;
const LexicalToken_1 = __webpack_require__(/*! ./LexicalToken */ "./lib/freemarker/template/LexicalToken.ts");
const StringBuffer_1 = __webpack_require__(/*! ../../utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const LexicalTokenType_1 = __webpack_require__(/*! ./LexicalTokenType */ "./lib/freemarker/template/LexicalTokenType.ts");
const isWhitespace_1 = __webpack_require__(/*! ../../utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
var InterpolationStage;
(function (InterpolationStage) {
    InterpolationStage[InterpolationStage["OPEN"] = 0] = "OPEN";
    InterpolationStage[InterpolationStage["STRING"] = 1] = "STRING";
    InterpolationStage[InterpolationStage["RAW_STRING"] = 2] = "RAW_STRING";
})(InterpolationStage || (InterpolationStage = {}));
function parse(template) {
    const results = [];
    let writer = new StringBuffer_1.StringBuffer();
    let startColumn = 0, startRow = 0;
    const reader = new StringBuffer_1.StringBuffer(template);
    while (reader.hasNext()) {
        let character = reader.next();
        writer.append(character.getString());
        if (writer.endsWith('</#')) {
            const text = writer.toString();
            if (text.length - 3) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 3), undefined));
                startColumn = character.getColumn() - 2;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            while (reader.hasNext()) {
                character = reader.next();
                if ((0, isWhitespace_1.isWhitespace)(character.getString()) || character.getString() === '>') {
                    break;
                }
                writer.append(character.getString());
            }
            const directive = writer.toString();
            writer = new StringBuffer_1.StringBuffer();
            if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                while (reader.hasNext()) {
                    character = reader.next();
                    if (character.getString() === '>') {
                        break;
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.CLOSE_DIRECTIVE, startColumn, startRow, directive, writer.toString()));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
        else if (writer.endsWith('<#')) {
            const text = writer.toString();
            if (text.length - 2) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 2)));
                startColumn = character.getColumn() - 1;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            while (reader.hasNext()) {
                character = reader.next();
                if ((0, isWhitespace_1.isWhitespace)(character.getString()) || character.getString() === '>') {
                    break;
                }
                writer.append(character.getString());
            }
            const directive = writer.toString();
            writer = new StringBuffer_1.StringBuffer();
            let paramsRow, paramsColumn;
            if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                let leading = true;
                paramsRow = character.getRow();
                paramsColumn = character.getColumn();
                while (reader.hasNext()) {
                    character = reader.next();
                    if (leading) {
                        if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                            continue;
                        }
                        paramsRow = character.getRow();
                        paramsColumn = character.getColumn();
                    }
                    leading = false;
                    if (character.getString() === '>') {
                        break;
                    }
                    else if (character.getString() === '"') {
                        writer.append(character.getString());
                        while (reader.hasNext()) {
                            character = reader.next();
                            if (character.getString() === '\\') {
                                writer.append(character.getString());
                                if (reader.hasNext()) {
                                    character = reader.next();
                                }
                            }
                            else if (character.getString() === '"') {
                                break;
                            }
                            writer.append(character.getString());
                        }
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.OPEN_DIRECTIVE, startColumn, startRow, directive, writer.toString(), paramsRow, paramsColumn));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
        else if (writer.endsWith('${')) {
            const text = writer.toString();
            if (text.length - 2) {
                results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text.substring(0, text.length - 2), undefined));
                startColumn = character.getColumn() - 1;
                startRow = character.getRow();
            }
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() - 1;
            startRow = character.getRow();
            let paramsRow, paramsColumn, leading = true, isRaw = false;
            let stage = InterpolationStage.OPEN;
            while (reader.hasNext()) {
                character = reader.next();
                if (leading) {
                    if ((0, isWhitespace_1.isWhitespace)(character.getString())) {
                        continue;
                    }
                    leading = false;
                    paramsRow = character.getRow();
                    paramsColumn = character.getColumn();
                }
                if (stage === InterpolationStage.OPEN) {
                    if (character.getString() === '"') {
                        if (isRaw) {
                            stage = InterpolationStage.RAW_STRING;
                        }
                        else {
                            stage = InterpolationStage.STRING;
                        }
                        isRaw = false;
                    }
                    else if (character.getString() === "r") {
                        isRaw = true;
                    }
                    else if (character.getString() === "}") {
                        break;
                    }
                    else {
                        isRaw = false;
                    }
                    writer.append(character.getString());
                }
                else if (stage === InterpolationStage.RAW_STRING) {
                    if (character.getString() === '"') {
                        stage = InterpolationStage.OPEN;
                    }
                    writer.append(character.getString());
                }
                else if (stage === InterpolationStage.STRING) {
                    if (character.getString() === '\\') {
                        if (reader.hasNext()) {
                            character = reader.next();
                            writer.append(character.getString());
                        }
                    }
                    else if (character.getString() === '"') {
                        stage = InterpolationStage.OPEN;
                    }
                    writer.append(character.getString());
                }
            }
            results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.INTERPOLATION, startColumn, startRow, '', writer.toString(), paramsRow, paramsColumn));
            writer = new StringBuffer_1.StringBuffer();
            startColumn = character.getColumn() + 1;
            startRow = character.getRow();
        }
    }
    const text = writer.toString();
    if (text.length) {
        results.push(new LexicalToken_1.LexicalToken(LexicalTokenType_1.LexicalTokenType.TEXT, startColumn, startRow, text, undefined));
    }
    return results;
}
exports.parse = parse;


/***/ }),

/***/ "./lib/index.ts":
/*!**********************!*\
  !*** ./lib/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
//#! /usr/bin/env node

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const parser_1 = __webpack_require__(/*! ./parser */ "./lib/parser.ts");
const path = __importStar(__webpack_require__(/*! node:path */ "node:path"));
const fs = __importStar(__webpack_require__(/*! fs */ "fs"));
const properties_1 = __importDefault(__webpack_require__(/*! ./properties */ "./lib/properties.ts"));
const freemarker_1 = __webpack_require__(/*! ./freemarker */ "./lib/freemarker.ts");
const Store_1 = __importDefault(__webpack_require__(/*! ./store/Store */ "./lib/store/Store.ts"));
const html_format_1 = __importDefault(__webpack_require__(/*! html-format */ "./node_modules/html-format/index.js"));
const RenderingEngine_1 = __importDefault(__webpack_require__(/*! ./RenderingEngine */ "./lib/RenderingEngine.ts"));
const FreemarkerError_1 = __webpack_require__(/*! ./freemarker/FreemarkerError */ "./lib/freemarker/FreemarkerError.ts");
const commander = __webpack_require__(/*! commander */ "./node_modules/commander/index.js");
const options = commander
    .version('1.0.0', '-v, --version')
    .usage('[OPTIONS]...')
    .option('-d, --dir <value>', 'Specifies location of the materials.', './')
    .option('-o, --output <value>', 'Specifies location of the output.', './html')
    .option('-s, --page <value>', 'Specifies a single page to process.')
    .parse(process.argv)
    .opts();
if (!fs.existsSync(path.join(process.env.INIT_CWD, options.output))) {
    fs.mkdirSync(path.join(process.env.INIT_CWD, options.output));
}
const classMappingsData = fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, 'class-mappings.properties'), 'utf8');
const classMappings = new properties_1.default(classMappingsData);
const plantainSubstitutions = JSON.parse(fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, 'plantain-substitutions.json'), 'utf8'));
function processDirectory(dir, suffix, baseTemplate) {
    fs.readdir(path.join(process.env.INIT_CWD, options.dir, dir), function (err, files) {
        if (err) {
            return console.log('Unable to scan directory: ' + err);
        }
        files.forEach(function (file) {
            if (options.page && file !== options.page) {
                return;
            }
            Store_1.default.clear();
            console.log('processing ' + file);
            const substitutions = plantainSubstitutions[file] || {};
            const dom = (0, parser_1.parse)(fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, dir, file), 'utf8'));
            const renderingEngine = new RenderingEngine_1.default(file, classMappings, substitutions, options.dir);
            const body = renderingEngine.renderElement(dom.root);
            const mainTemplate = fs.readFileSync(path.join(process.env.INIT_CWD, options.dir, baseTemplate), 'utf8');
            try {
                const html = new freemarker_1.TemplateEngine().render(mainTemplate, {
                    body: body,
                    title: dom.root.attributes.title,
                    authenticated: false
                });
                fs.writeFileSync(path.join(process.env.INIT_CWD, options.output, file.replaceAll(suffix, ".html")), (0, html_format_1.default)(html));
            }
            catch (err) {
                throw new FreemarkerError_1.FreemarkerError(`Error processing ftl template 'main.ftl'`, err);
            }
        });
    });
}
processDirectory('pages', ".page.xml", "main.ftl");
processDirectory('emails', ".email.xml", "email.ftl");


/***/ }),

/***/ "./lib/parser.ts":
/*!***********************!*\
  !*** ./lib/parser.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deepCopyNode = exports.descapeString = exports.escapeString = exports.serializeNodes = exports.serializeNode = exports.serializeDocument = exports.throwError = exports.parse = exports.Text = exports.Element = exports.isEmpty = exports.isText = exports.isElement = exports.Document = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
const isWhitespace_1 = __webpack_require__(/*! ./utilities/isWhitespace */ "./lib/utilities/isWhitespace.ts");
const isAlphabetic_1 = __webpack_require__(/*! ./utilities/isAlphabetic */ "./lib/utilities/isAlphabetic.ts");
const isAlphanumeric_1 = __webpack_require__(/*! ./utilities/isAlphanumeric */ "./lib/utilities/isAlphanumeric.ts");
class Document {
    constructor(processing, root) {
        this.processing = processing;
        this.root = root;
    }
}
exports.Document = Document;
function isElement(subject) {
    return subject.name !== undefined;
}
exports.isElement = isElement;
function isText(subject) {
    return subject.text !== undefined;
}
exports.isText = isText;
function isEmpty(nodes) {
    if (nodes.length === 0) {
        return true;
    }
    if (nodes.length === 1) {
        const first = nodes[0];
        if (first instanceof Text) {
            if (first.text.trim().length === 0) {
                return true;
            }
        }
    }
    return false;
}
exports.isEmpty = isEmpty;
class Element {
    constructor(name, attributes, children = []) {
        this.name = '';
        this.attributes = {};
        this.children = [];
        if (name) {
            this.name = name;
        }
        if (attributes) {
            this.attributes = attributes;
        }
        if (children) {
            this.children = children;
        }
    }
}
exports.Element = Element;
class Text {
    constructor(text) {
        this.text = '';
        this.text = text;
    }
}
exports.Text = Text;
const Stage = {
    OPEN: 'OPEN',
    TAG: 'TAG',
    CLOSING_TAG: 'CLOSING_TAG',
    CLOSING_TAG_OPEN: 'CLOSING_TAG_OPEN',
    PROCESSING_TAG: 'PROCESSING_TAG',
    PROCESSING_TAG_NAME: 'PROCESSING_TAG_NAME',
    PROCESSING_TAG_OPEN: 'PROCESSING_TAG_OPEN',
    PROCESSING_TAG_ATTRIBUTE_NAME: 'PROCESSING_TAG_ATTRIBUTE_NAME',
    PROCESSING_TAG_ATTRIBUTE_EQUALS: 'PROCESSING_TAG_ATTRIBUTE_EQUALS',
    PROCESSING_TAG_ATTRIBUTE_VALUE: 'PROCESSING_TAG_ATTRIBUTE_VALUE',
    PROCESSING_TAG_CLOSING: 'PROCESSING_TAG_CLOSING',
    ELEMENT_NAME: 'ELEMENT_NAME',
    ELEMENT_OPEN: 'ELEMENT_OPEN',
    ELEMENT_ATTRIBUTE_NAME: 'ELEMENT_ATTRIBUTE_NAME',
    ELEMENT_ATTRIBUTE_EQUALS: 'ELEMENT_ATTRIBUTE_EQUALS',
    ELEMENT_ATTRIBUTE_VALUE: 'ELEMENT_ATTRIBUTE_VALUE',
    ELEMENT_CONTENT: 'ELEMENT_CONTENT',
    ELEMENT_AUTO_CLOSING: 'ELEMENT_AUTO_CLOSING',
    COMMENT: 'COMMENT',
};
function parse(xml) {
    const reader = new StringBuffer_1.StringBuffer(xml);
    let attributeName = undefined;
    let processing = {};
    let processingTagName = undefined;
    let processingAttributes = {};
    let stack = [];
    let current = undefined;
    let stage = Stage.OPEN;
    let writer = new StringBuffer_1.StringBuffer();
    let escape = false;
    while (reader.hasNext()) {
        let character = reader.next();
        let c = character.getString();
        if (c.charCodeAt(0) === 10) {
            continue;
        }
        if (stage === Stage.OPEN) {
            if (c === '<') {
                stage = Stage.TAG;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.COMMENT) {
            if (c === '>') {
                stage = Stage.ELEMENT_CONTENT;
            }
            else {
                //do nothing
            }
        }
        else if (stage === Stage.TAG) {
            if (c === '/') {
                stage = Stage.CLOSING_TAG;
            }
            else if (c === '?') {
                stage = Stage.PROCESSING_TAG;
            }
            else if (c === '!') {
                stage = Stage.COMMENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                const child = new Element();
                if (current) {
                    current.children.push(child);
                }
                current = child;
                stack.push(current);
                stage = Stage.ELEMENT_NAME;
                writer.append(c);
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG) {
            if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                stage = Stage.PROCESSING_TAG_NAME;
                writer.append(c);
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                stage = Stage.PROCESSING_TAG_OPEN;
                processingTagName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                processingAttributes = {};
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_OPEN) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_NAME;
                writer.append(c);
            }
            else if (c === '?') {
                stage = Stage.PROCESSING_TAG_CLOSING;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                throwError(c, character.getRow(), character.getColumn());
            }
            else if (c === '=') {
                attributeName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_EQUALS;
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_EQUALS) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '"') {
                stage = Stage.PROCESSING_TAG_ATTRIBUTE_VALUE;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.PROCESSING_TAG_ATTRIBUTE_VALUE) {
            if (!escape && c === '\\') {
                escape = true;
            }
            else if (!escape && c === '"') {
                processingAttributes[attributeName] = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.PROCESSING_TAG_OPEN;
            }
            else {
                writer.append(c);
                escape = false;
            }
        }
        else if (stage === Stage.PROCESSING_TAG_CLOSING) {
            if (c === '>') {
                processing[processingTagName] = processingAttributes;
                stage = Stage.OPEN;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_NAME) {
            if (c === '/') {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_AUTO_CLOSING;
            }
            else if (c === '>') {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
                current.name = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_OPEN;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_OPEN) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '>') {
                stage = Stage.ELEMENT_CONTENT;
            }
            else if (c === '/') {
                stage = Stage.ELEMENT_AUTO_CLOSING;
            }
            else if ((0, isAlphabetic_1.isAlphabetic)(c)) {
                writer.append(c);
                stage = Stage.ELEMENT_ATTRIBUTE_NAME;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_NAME) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
                throwError(c, character.getRow(), character.getColumn());
            }
            else if (c === '=') {
                attributeName = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_ATTRIBUTE_EQUALS;
            }
            else if ((0, isAlphanumeric_1.isAlphanumeric)(c)) {
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_EQUALS) {
            if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else if (c === '"') {
                stage = Stage.ELEMENT_ATTRIBUTE_VALUE;
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_ATTRIBUTE_VALUE) {
            if (!escape && c === '\\') {
                escape = true;
            }
            else if (!escape && c === '"') {
                current.attributes[attributeName] = descapeString(writer.toString());
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.ELEMENT_OPEN;
            }
            else {
                escape = false;
                writer.append(c);
            }
        }
        else if (stage === Stage.ELEMENT_CONTENT) {
            if (c === '<') {
                const text = writer.toString();
                if (text.length !== 0) {
                    if (current.children.length > 0 && isText(current.children[current.children.length - 1])) {
                        //this only happens if we have a comment.  We need to merge the current context into the previous text.
                        const text = current.children[current.children.length - 1];
                        text.text = text.text + descapeString(writer.toString());
                    }
                    else {
                        current.children.push(new Text(descapeString(writer.toString())));
                    }
                }
                writer = new StringBuffer_1.StringBuffer();
                stage = Stage.TAG;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.CLOSING_TAG) {
            if (c === '>') {
                const closeTag = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                if (closeTag !== current.name) {
                    throw new Error(`close tag (${closeTag}) doesn't match start tag ${current.name}`);
                }
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
                stage = Stage.CLOSING_TAG_OPEN;
            }
            else {
                writer.append(c);
            }
        }
        else if (stage === Stage.CLOSING_TAG_OPEN) {
            if (c === '>') {
                const closeTag = writer.toString();
                writer = new StringBuffer_1.StringBuffer();
                if (closeTag !== current.name) {
                    throw new Error(`close tag (${closeTag}) doesn't match start tag ${current.name}`);
                }
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
        else if (stage === Stage.ELEMENT_AUTO_CLOSING) {
            if (c === '>') {
                stack.pop();
                if (stack.length !== 0) {
                    current = stack[stack.length - 1];
                }
                stage = Stage.ELEMENT_CONTENT;
            }
            else if ((0, isWhitespace_1.isWhitespace)(c)) {
            }
            else {
                throwError(c, character.getRow(), character.getColumn());
            }
        }
    }
    if (current === undefined) {
        current = new Text(writer.toString());
    }
    return new Document(processing, current);
}
exports.parse = parse;
function throwError(c, row, column) {
    throw new Error(`Character (${c}) not allowed at position ${row}:${column}.`);
}
exports.throwError = throwError;
function serializeDocument(document) {
    const processing = Object.entries(document.processing)
        .map(([key, value]) => {
        const writer = new StringBuffer_1.StringBuffer();
        writer.append("<?");
        writer.append(key);
        writer.append(" ");
        writer.append(Object.entries(value)
            .map(([key2, value2]) => `${key2}="${escapeString(value2)}"`).join(' '));
        writer.append(" ");
        writer.append("?>");
        return writer.toString();
    }).join(' ');
    return `${processing}${serializeNode(document.root)}`;
}
exports.serializeDocument = serializeDocument;
function serializeNode(node) {
    if (node instanceof Text) {
        return escapeString(node.text);
    }
    else if (node instanceof Element) {
        const attributes = Object.entries(node.attributes).map(([key, value]) => {
            return `${key}="${escapeString(value)}"`;
        }).join(' ');
        const body = serializeNodes(node.children);
        if (body === '') {
            return `<${node.name} ${attributes}/>`;
        }
        return `<${node.name} ${attributes}>${body}</${node.name}>`;
    }
    else {
        throw new Error("Should never happen");
    }
}
exports.serializeNode = serializeNode;
function serializeNodes(nodes) {
    return nodes.map(node => serializeNode(node)).join('');
}
exports.serializeNodes = serializeNodes;
function escapeString(input) {
    return input
        .replace(/&/g, '&amp;')
        .replace(/"/g, '&quot;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/'/g, '&apos;');
}
exports.escapeString = escapeString;
function descapeString(input) {
    return input
        .replace(/&amp;/g, '&')
        .replace(/&quot;/g, '"')
        .replace(/&lt;/g, '<')
        .replace(/&gt;/g, '>')
        .replace(/&apos;/g, '\'');
}
exports.descapeString = descapeString;
function deepCopyNode(node) {
    function copy(node) {
        if (isElement(node)) {
            const children = node.children.map(copy);
            return new Element(node.name, Object.assign({}, node.attributes), children);
        }
        else if (isText(node)) {
            return new Text(node.text);
        }
        else {
            throw new Error("Never happen");
        }
    }
    return copy(node);
}
exports.deepCopyNode = deepCopyNode;
// export = {
//     deepCopyNode,
//     escapeString,
//     serializeNodes,
//     serializeDocument,
//     parse,
//     Text,
//     Element: Element,
//     Document,
//     isAlphabetic,
//     isAlphanumeric,
//     isWhitespace,
//     isEmpty,
//     StringBuffer
// };
//
// console.log(module)


/***/ }),

/***/ "./lib/properties.ts":
/*!***************************!*\
  !*** ./lib/properties.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Properties {
    constructor(data) {
        this.data = {};
        data.split("\n").forEach(line => {
            const index = line.indexOf("=");
            if (index > -1) {
                const key = line.substring(0, index);
                this.data[key] = line.substring(index + 1);
            }
        });
    }
    get(key) {
        return this.data[key];
    }
}
exports["default"] = Properties;


/***/ }),

/***/ "./lib/store/Message.ts":
/*!******************************!*\
  !*** ./lib/store/Message.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Message {
    constructor(id, dateTime, wipId, kaseId, wizardId, workflowId, group, queue, principal, sessionId, timeStamp) {
        this.id = id;
        this.dateTime = dateTime;
        this.wipId = wipId;
        this.kaseId = kaseId;
        this.wizardId = wizardId;
        this.workflowId = workflowId;
        this.group = group;
        this.queue = queue;
        this.principal = principal;
        this.sessionId = sessionId;
        this.timeStamp = timeStamp;
    }
    getId() {
        return this.id;
    }
    getDateTime() {
        return this.dateTime;
    }
    getWipId() {
        return this.wipId;
    }
    getKaseId() {
        return this.kaseId;
    }
    getWizardId() {
        return this.wizardId;
    }
    getWorkflowId() {
        return this.workflowId;
    }
    getGroup() {
        return this.group;
    }
    getQueue() {
        return this.queue;
    }
    getPrincipal() {
        return this.principal;
    }
    getSessionId() {
        return this.sessionId;
    }
    getTimeStamp() {
        return this.timeStamp;
    }
}
exports["default"] = Message;


/***/ }),

/***/ "./lib/store/Page.ts":
/*!***************************!*\
  !*** ./lib/store/Page.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Page {
    constructor(name, version, group, title, description) {
        this.name = name;
        this.version = version;
        this.group = group;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getGroup() {
        return this.group;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Page;


/***/ }),

/***/ "./lib/store/Queue.ts":
/*!****************************!*\
  !*** ./lib/store/Queue.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Queue {
    constructor(name, title, description) {
        this.name = name;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Queue;


/***/ }),

/***/ "./lib/store/Store.ts":
/*!****************************!*\
  !*** ./lib/store/Store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Store {
    constructor(users = [], groups = [], messages = [], wizards = [], workflows = [], pages = [], queues = []) {
        this.users = users;
        this.groups = groups;
        this.messages = messages;
        this.wizards = wizards;
        this.workflows = workflows;
        this.pages = pages;
        this.queues = queues;
        this.testContext = false;
    }
    getUsers() {
        return this.users;
    }
    getGroups() {
        return this.groups;
    }
    getMessages() {
        return this.messages;
    }
    getWizards() {
        return this.wizards;
    }
    getWorkflows() {
        return this.workflows;
    }
    getPages() {
        return this.pages;
    }
    getQueues() {
        return this.queues;
    }
    setTestContext() {
        this.testContext = true;
    }
    isTestContext() {
        return this.testContext;
    }
    clear() {
        this.users = [];
        this.groups = [];
        this.messages = [];
        this.wizards = [];
        this.workflows = [];
        this.pages = [];
        this.testContext = false;
    }
    addUser(user) {
        this.users.push(user);
    }
    addMessage(message) {
        this.messages.push(message);
    }
    addWizard(wizard) {
        this.wizards.push(wizard);
    }
    addWorkflow(workflow) {
        this.workflows.push(workflow);
    }
    addPage(page) {
        this.pages.push(page);
    }
    addQueue(queue) {
        this.queues.push(queue);
    }
}
const INSTANCE = new Store();
exports["default"] = INSTANCE;
/*
 private final HashMap<DocumentGroupId, PageView> pages = new HashMap<>();
    private final HashMap<DocumentId, Wizard> wizards = new HashMap<>();
    private final HashMap<DocumentGroupId, Workflow> workflows = new HashMap<>();
    private final HashMap<MessageId, Message> messages = new HashMap<>();
    private final HashMap<String, Kase> kases = new HashMap<>();
    private final HashMap<UUID, WizardInProgress> wips = new HashMap<>();
 */ 


/***/ }),

/***/ "./lib/store/User.ts":
/*!***************************!*\
  !*** ./lib/store/User.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class User {
    constructor(username, title, firstName, lastName, email, contactNumber, dateOfBirth, timezone, groups, userData) {
        this.username = username;
        this.title = title;
        this.firstName = firstName;
        this.lastName = lastName;
        this.email = email;
        this.contactNumber = contactNumber;
        this.dateOfBirth = dateOfBirth;
        this.timezone = timezone;
        this.groups = groups;
        this.userData = userData;
    }
    getUsername() {
        return this.username;
    }
    getTitle() {
        return this.title;
    }
    getFirstName() {
        return this.firstName;
    }
    getLastName() {
        return this.lastName;
    }
    getEmail() {
        return this.email;
    }
    getContactNumber() {
        return this.contactNumber;
    }
    getDateOfBirth() {
        return this.dateOfBirth;
    }
    getTimezone() {
        return this.timezone;
    }
    getGroups() {
        return this.groups;
    }
    getUserData() {
        return this.username;
    }
}
exports["default"] = User;


/***/ }),

/***/ "./lib/store/Wizard.ts":
/*!*****************************!*\
  !*** ./lib/store/Wizard.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Wizard {
    constructor(name, version, title, description, active, released) {
        this.name = name;
        this.version = version;
        this.title = title;
        this.description = description;
        this.active = active;
        this.released = released;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
    getActive() {
        return this.active;
    }
    getReleased() {
        return this.released;
    }
}
exports["default"] = Wizard;


/***/ }),

/***/ "./lib/store/Workflow.ts":
/*!*******************************!*\
  !*** ./lib/store/Workflow.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
class Workflow {
    constructor(name, version, group, title, description) {
        this.name = name;
        this.version = version;
        this.group = group;
        this.title = title;
        this.description = description;
    }
    getName() {
        return this.name;
    }
    getVersion() {
        return this.version;
    }
    getGroup() {
        return this.group;
    }
    getTitle() {
        return this.title;
    }
    getDescription() {
        return this.description;
    }
}
exports["default"] = Workflow;


/***/ }),

/***/ "./lib/text-style-support.ts":
/*!***********************************!*\
  !*** ./lib/text-style-support.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.textStyleSupport = void 0;
const StringBuffer_1 = __webpack_require__(/*! ./utilities/StringBuffer */ "./lib/utilities/StringBuffer.ts");
function textStyleSupport(data, classManager, attributes, classMappings) {
    const styles = {};
    if (attributes.textAlign) {
        styles['text-align'] = attributes.textAign.toLowerCase();
    }
    if (attributes.fontSize) {
        styles['font-size'] = attributes.fontSize;
    }
    if (attributes.textDecoration) {
        styles['text-decoration'] = attributes.textDecoration.toLowerCase();
    }
    if (attributes.fontStyle) {
        styles['font-style'] = attributes.fontStyle.toLowerCase();
    }
    if (attributes.fontWeight) {
        styles['font-weight'] = attributes.fontWeight.toLowerCase();
    }
    if (attributes.font) {
        styles['font'] = classMappings.get('font-' + attributes.font.toLowerCase().replaceAll("_", "-"));
    }
    if (attributes.fontFlavour) {
        classManager.append(attributes.fontFlavour, 'text-', '');
    }
    if (attributes.backgroundFlavour) {
        classManager.append(attributes.backgroundFlavour, 'bg-', '');
    }
    const buffer = new StringBuffer_1.StringBuffer();
    for (const [key, value] of Object.entries(styles)) {
        buffer.append(`${key}: ${value};`);
    }
    data.textualStyles = buffer.toString();
}
exports.textStyleSupport = textStyleSupport;


/***/ }),

/***/ "./lib/utilities/StringBuffer.ts":
/*!***************************************!*\
  !*** ./lib/utilities/StringBuffer.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Character = exports.StringBuffer = void 0;
class StringBuffer {
    constructor(input = undefined, row = 0, column = 0) {
        this.buffer = input ? input.split('') : [];
        this.index = 0;
        this.column = column;
        this.row = row;
    }
    append(c) {
        this.buffer.push(c);
    }
    endsWith(c) {
        if (c.length > this.buffer.length) {
            return false;
        }
        return this.buffer.slice(this.buffer.length - c.length).join("") === c;
    }
    next() {
        const result = this.buffer[this.index];
        const column = this.column;
        const row = this.row;
        this.index++;
        if (result === '\n') {
            this.row++;
            this.column = 0;
        }
        else {
            this.column++;
        }
        return new Character(result, column, row);
    }
    hasNext() {
        return this.index < this.buffer.length;
    }
    toString() {
        return this.buffer.join('');
    }
    getColumn() {
        return this.column;
    }
    getRow() {
        return this.row;
    }
}
exports.StringBuffer = StringBuffer;
class Character {
    constructor(c, column, row) {
        this.c = c;
        this.column = column;
        this.row = row;
    }
    getString() {
        return this.c;
    }
    getColumn() {
        return this.column;
    }
    getRow() {
        return this.row;
    }
}
exports.Character = Character;


/***/ }),

/***/ "./lib/utilities/generate-id.ts":
/*!**************************************!*\
  !*** ./lib/utilities/generate-id.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
const CHARACTERS = "abcdefghiklmnopqrstuvwxwzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");
function generateId() {
    const result = [];
    for (let i = 0; i < 10; i++) {
        result.push(CHARACTERS[Math.floor(Math.random() * 100) % CHARACTERS.length]);
    }
    return result.join("");
}
exports["default"] = generateId;


/***/ }),

/***/ "./lib/utilities/isAlphabetic.ts":
/*!***************************************!*\
  !*** ./lib/utilities/isAlphabetic.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isAlphabetic = void 0;
function isAlphabetic(c) {
    return /^[a-zA-Z]+$/i.test(c);
}
exports.isAlphabetic = isAlphabetic;


/***/ }),

/***/ "./lib/utilities/isAlphanumeric.ts":
/*!*****************************************!*\
  !*** ./lib/utilities/isAlphanumeric.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isAlphanumeric = void 0;
function isAlphanumeric(c) {
    return /^[a-zA-Z0-9]+$/i.test(c);
}
exports.isAlphanumeric = isAlphanumeric;


/***/ }),

/***/ "./lib/utilities/isDate.ts":
/*!*********************************!*\
  !*** ./lib/utilities/isDate.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isDate = void 0;
function isDate(obj) {
    if (obj === null)
        return false;
    if (typeof obj !== "object")
        return false;
    return obj.constructor === Date;
}
exports.isDate = isDate;


/***/ }),

/***/ "./lib/utilities/isHash.ts":
/*!*********************************!*\
  !*** ./lib/utilities/isHash.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isHash = void 0;
function isHash(obj) {
    if (obj === null)
        return false;
    if (Array.isArray(obj))
        return false;
    return typeof obj === "object";
}
exports.isHash = isHash;


/***/ }),

/***/ "./lib/utilities/isNumeric.ts":
/*!************************************!*\
  !*** ./lib/utilities/isNumeric.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isNumeric = void 0;
function isNumeric(c) {
    return /^[0-9]+$/i.test(c);
}
exports.isNumeric = isNumeric;


/***/ }),

/***/ "./lib/utilities/isWhitespace.ts":
/*!***************************************!*\
  !*** ./lib/utilities/isWhitespace.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isWhitespace = void 0;
function isWhitespace(c) {
    return /\s/.test(c);
}
exports.isWhitespace = isWhitespace;


/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "./node_modules/commander/index.js":
/*!*****************************************!*\
  !*** ./node_modules/commander/index.js ***!
  \*****************************************/
/***/ ((module, exports, __webpack_require__) => {

/**
 * Module dependencies.
 */

const EventEmitter = (__webpack_require__(/*! events */ "events").EventEmitter);
const childProcess = __webpack_require__(/*! child_process */ "child_process");
const path = __webpack_require__(/*! path */ "path");
const fs = __webpack_require__(/*! fs */ "fs");

// @ts-check

// Although this is a class, methods are static in style to allow override using subclass or just functions.
class Help {
  constructor() {
    this.helpWidth = undefined;
    this.sortSubcommands = false;
    this.sortOptions = false;
  }

  /**
   * Get an array of the visible subcommands. Includes a placeholder for the implicit help command, if there is one.
   *
   * @param {Command} cmd
   * @returns {Command[]}
   */

  visibleCommands(cmd) {
    const visibleCommands = cmd.commands.filter(cmd => !cmd._hidden);
    if (cmd._hasImplicitHelpCommand()) {
      // Create a command matching the implicit help command.
      const args = cmd._helpCommandnameAndArgs.split(/ +/);
      const helpCommand = cmd.createCommand(args.shift())
        .helpOption(false);
      helpCommand.description(cmd._helpCommandDescription);
      helpCommand._parseExpectedArgs(args);
      visibleCommands.push(helpCommand);
    }
    if (this.sortSubcommands) {
      visibleCommands.sort((a, b) => {
        return a.name().localeCompare(b.name());
      });
    }
    return visibleCommands;
  }

  /**
   * Get an array of the visible options. Includes a placeholder for the implicit help option, if there is one.
   *
   * @param {Command} cmd
   * @returns {Option[]}
   */

  visibleOptions(cmd) {
    const visibleOptions = cmd.options.filter((option) => !option.hidden);
    // Implicit help
    const showShortHelpFlag = cmd._hasHelpOption && cmd._helpShortFlag && !cmd._findOption(cmd._helpShortFlag);
    const showLongHelpFlag = cmd._hasHelpOption && !cmd._findOption(cmd._helpLongFlag);
    if (showShortHelpFlag || showLongHelpFlag) {
      let helpOption;
      if (!showShortHelpFlag) {
        helpOption = cmd.createOption(cmd._helpLongFlag, cmd._helpDescription);
      } else if (!showLongHelpFlag) {
        helpOption = cmd.createOption(cmd._helpShortFlag, cmd._helpDescription);
      } else {
        helpOption = cmd.createOption(cmd._helpFlags, cmd._helpDescription);
      }
      visibleOptions.push(helpOption);
    }
    if (this.sortOptions) {
      const getSortKey = (option) => {
        // WYSIWYG for order displayed in help with short before long, no special handling for negated.
        return option.short ? option.short.replace(/^-/, '') : option.long.replace(/^--/, '');
      };
      visibleOptions.sort((a, b) => {
        return getSortKey(a).localeCompare(getSortKey(b));
      });
    }
    return visibleOptions;
  }

  /**
   * Get an array of the arguments which have descriptions.
   *
   * @param {Command} cmd
   * @returns {{ term: string, description:string }[]}
   */

  visibleArguments(cmd) {
    if (cmd._argsDescription && cmd._args.length) {
      return cmd._args.map((argument) => {
        return { term: argument.name, description: cmd._argsDescription[argument.name] || '' };
      }, 0);
    }
    return [];
  }

  /**
   * Get the command term to show in the list of subcommands.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  subcommandTerm(cmd) {
    // Legacy. Ignores custom usage string, and nested commands.
    const args = cmd._args.map(arg => humanReadableArgName(arg)).join(' ');
    return cmd._name +
      (cmd._aliases[0] ? '|' + cmd._aliases[0] : '') +
      (cmd.options.length ? ' [options]' : '') + // simplistic check for non-help option
      (args ? ' ' + args : '');
  }

  /**
   * Get the option term to show in the list of options.
   *
   * @param {Option} option
   * @returns {string}
   */

  optionTerm(option) {
    return option.flags;
  }

  /**
   * Get the longest command term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestSubcommandTermLength(cmd, helper) {
    return helper.visibleCommands(cmd).reduce((max, command) => {
      return Math.max(max, helper.subcommandTerm(command).length);
    }, 0);
  };

  /**
   * Get the longest option term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestOptionTermLength(cmd, helper) {
    return helper.visibleOptions(cmd).reduce((max, option) => {
      return Math.max(max, helper.optionTerm(option).length);
    }, 0);
  };

  /**
   * Get the longest argument term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  longestArgumentTermLength(cmd, helper) {
    return helper.visibleArguments(cmd).reduce((max, argument) => {
      return Math.max(max, argument.term.length);
    }, 0);
  };

  /**
   * Get the command usage to be displayed at the top of the built-in help.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  commandUsage(cmd) {
    // Usage
    let cmdName = cmd._name;
    if (cmd._aliases[0]) {
      cmdName = cmdName + '|' + cmd._aliases[0];
    }
    let parentCmdNames = '';
    for (let parentCmd = cmd.parent; parentCmd; parentCmd = parentCmd.parent) {
      parentCmdNames = parentCmd.name() + ' ' + parentCmdNames;
    }
    return parentCmdNames + cmdName + ' ' + cmd.usage();
  }

  /**
   * Get the description for the command.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  commandDescription(cmd) {
    // @ts-ignore: overloaded return type
    return cmd.description();
  }

  /**
   * Get the command description to show in the list of subcommands.
   *
   * @param {Command} cmd
   * @returns {string}
   */

  subcommandDescription(cmd) {
    // @ts-ignore: overloaded return type
    return cmd.description();
  }

  /**
   * Get the option description to show in the list of options.
   *
   * @param {Option} option
   * @return {string}
   */

  optionDescription(option) {
    if (option.negate) {
      return option.description;
    }
    const extraInfo = [];
    if (option.argChoices) {
      extraInfo.push(
        // use stringify to match the display of the default value
        `choices: ${option.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`);
    }
    if (option.defaultValue !== undefined) {
      extraInfo.push(`default: ${option.defaultValueDescription || JSON.stringify(option.defaultValue)}`);
    }
    if (extraInfo.length > 0) {
      return `${option.description} (${extraInfo.join(', ')})`;
    }
    return option.description;
  };

  /**
   * Generate the built-in help text.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {string}
   */

  formatHelp(cmd, helper) {
    const termWidth = helper.padWidth(cmd, helper);
    const helpWidth = helper.helpWidth || 80;
    const itemIndentWidth = 2;
    const itemSeparatorWidth = 2; // between term and description
    function formatItem(term, description) {
      if (description) {
        const fullText = `${term.padEnd(termWidth + itemSeparatorWidth)}${description}`;
        return helper.wrap(fullText, helpWidth - itemIndentWidth, termWidth + itemSeparatorWidth);
      }
      return term;
    };
    function formatList(textArray) {
      return textArray.join('\n').replace(/^/gm, ' '.repeat(itemIndentWidth));
    }

    // Usage
    let output = [`Usage: ${helper.commandUsage(cmd)}`, ''];

    // Description
    const commandDescription = helper.commandDescription(cmd);
    if (commandDescription.length > 0) {
      output = output.concat([commandDescription, '']);
    }

    // Arguments
    const argumentList = helper.visibleArguments(cmd).map((argument) => {
      return formatItem(argument.term, argument.description);
    });
    if (argumentList.length > 0) {
      output = output.concat(['Arguments:', formatList(argumentList), '']);
    }

    // Options
    const optionList = helper.visibleOptions(cmd).map((option) => {
      return formatItem(helper.optionTerm(option), helper.optionDescription(option));
    });
    if (optionList.length > 0) {
      output = output.concat(['Options:', formatList(optionList), '']);
    }

    // Commands
    const commandList = helper.visibleCommands(cmd).map((cmd) => {
      return formatItem(helper.subcommandTerm(cmd), helper.subcommandDescription(cmd));
    });
    if (commandList.length > 0) {
      output = output.concat(['Commands:', formatList(commandList), '']);
    }

    return output.join('\n');
  }

  /**
   * Calculate the pad width from the maximum term length.
   *
   * @param {Command} cmd
   * @param {Help} helper
   * @returns {number}
   */

  padWidth(cmd, helper) {
    return Math.max(
      helper.longestOptionTermLength(cmd, helper),
      helper.longestSubcommandTermLength(cmd, helper),
      helper.longestArgumentTermLength(cmd, helper)
    );
  };

  /**
   * Wrap the given string to width characters per line, with lines after the first indented.
   * Do not wrap if insufficient room for wrapping (minColumnWidth), or string is manually formatted.
   *
   * @param {string} str
   * @param {number} width
   * @param {number} indent
   * @param {number} [minColumnWidth=40]
   * @return {string}
   *
   */

  wrap(str, width, indent, minColumnWidth = 40) {
    // Detect manually wrapped and indented strings by searching for line breaks
    // followed by multiple spaces/tabs.
    if (str.match(/[\n]\s+/)) return str;
    // Do not wrap if not enough room for a wrapped column of text (as could end up with a word per line).
    const columnWidth = width - indent;
    if (columnWidth < minColumnWidth) return str;

    const leadingStr = str.substr(0, indent);
    const columnText = str.substr(indent);

    const indentString = ' '.repeat(indent);
    const regex = new RegExp('.{1,' + (columnWidth - 1) + '}([\\s\u200B]|$)|[^\\s\u200B]+?([\\s\u200B]|$)', 'g');
    const lines = columnText.match(regex) || [];
    return leadingStr + lines.map((line, i) => {
      if (line.slice(-1) === '\n') {
        line = line.slice(0, line.length - 1);
      }
      return ((i > 0) ? indentString : '') + line.trimRight();
    }).join('\n');
  }
}

class Option {
  /**
   * Initialize a new `Option` with the given `flags` and `description`.
   *
   * @param {string} flags
   * @param {string} [description]
   */

  constructor(flags, description) {
    this.flags = flags;
    this.description = description || '';

    this.required = flags.includes('<'); // A value must be supplied when the option is specified.
    this.optional = flags.includes('['); // A value is optional when the option is specified.
    // variadic test ignores <value,...> et al which might be used to describe custom splitting of single argument
    this.variadic = /\w\.\.\.[>\]]$/.test(flags); // The option can take multiple values.
    this.mandatory = false; // The option must have a value after parsing, which usually means it must be specified on command line.
    const optionFlags = _parseOptionFlags(flags);
    this.short = optionFlags.shortFlag;
    this.long = optionFlags.longFlag;
    this.negate = false;
    if (this.long) {
      this.negate = this.long.startsWith('--no-');
    }
    this.defaultValue = undefined;
    this.defaultValueDescription = undefined;
    this.parseArg = undefined;
    this.hidden = false;
    this.argChoices = undefined;
  }

  /**
   * Set the default value, and optionally supply the description to be displayed in the help.
   *
   * @param {any} value
   * @param {string} [description]
   * @return {Option}
   */

  default(value, description) {
    this.defaultValue = value;
    this.defaultValueDescription = description;
    return this;
  };

  /**
   * Set the custom handler for processing CLI option arguments into option values.
   *
   * @param {Function} [fn]
   * @return {Option}
   */

  argParser(fn) {
    this.parseArg = fn;
    return this;
  };

  /**
   * Whether the option is mandatory and must have a value after parsing.
   *
   * @param {boolean} [mandatory=true]
   * @return {Option}
   */

  makeOptionMandatory(mandatory = true) {
    this.mandatory = !!mandatory;
    return this;
  };

  /**
   * Hide option in help.
   *
   * @param {boolean} [hide=true]
   * @return {Option}
   */

  hideHelp(hide = true) {
    this.hidden = !!hide;
    return this;
  };

  /**
   * @api private
   */

  _concatValue(value, previous) {
    if (previous === this.defaultValue || !Array.isArray(previous)) {
      return [value];
    }

    return previous.concat(value);
  }

  /**
   * Only allow option value to be one of choices.
   *
   * @param {string[]} values
   * @return {Option}
   */

  choices(values) {
    this.argChoices = values;
    this.parseArg = (arg, previous) => {
      if (!values.includes(arg)) {
        throw new InvalidOptionArgumentError(`Allowed choices are ${values.join(', ')}.`);
      }
      if (this.variadic) {
        return this._concatValue(arg, previous);
      }
      return arg;
    };
    return this;
  };

  /**
   * Return option name.
   *
   * @return {string}
   */

  name() {
    if (this.long) {
      return this.long.replace(/^--/, '');
    }
    return this.short.replace(/^-/, '');
  };

  /**
   * Return option name, in a camelcase format that can be used
   * as a object attribute key.
   *
   * @return {string}
   * @api private
   */

  attributeName() {
    return camelcase(this.name().replace(/^no-/, ''));
  };

  /**
   * Check if `arg` matches the short or long flag.
   *
   * @param {string} arg
   * @return {boolean}
   * @api private
   */

  is(arg) {
    return this.short === arg || this.long === arg;
  };
}

/**
 * CommanderError class
 * @class
 */
class CommanderError extends Error {
  /**
   * Constructs the CommanderError class
   * @param {number} exitCode suggested exit code which could be used with process.exit
   * @param {string} code an id string representing the error
   * @param {string} message human-readable description of the error
   * @constructor
   */
  constructor(exitCode, code, message) {
    super(message);
    // properly capture stack trace in Node.js
    Error.captureStackTrace(this, this.constructor);
    this.name = this.constructor.name;
    this.code = code;
    this.exitCode = exitCode;
    this.nestedError = undefined;
  }
}

/**
 * InvalidOptionArgumentError class
 * @class
 */
class InvalidOptionArgumentError extends CommanderError {
  /**
   * Constructs the InvalidOptionArgumentError class
   * @param {string} [message] explanation of why argument is invalid
   * @constructor
   */
  constructor(message) {
    super(1, 'commander.invalidOptionArgument', message);
    // properly capture stack trace in Node.js
    Error.captureStackTrace(this, this.constructor);
    this.name = this.constructor.name;
  }
}

class Command extends EventEmitter {
  /**
   * Initialize a new `Command`.
   *
   * @param {string} [name]
   */

  constructor(name) {
    super();
    this.commands = [];
    this.options = [];
    this.parent = null;
    this._allowUnknownOption = false;
    this._allowExcessArguments = true;
    this._args = [];
    this.rawArgs = null;
    this._scriptPath = null;
    this._name = name || '';
    this._optionValues = {};
    this._storeOptionsAsProperties = false;
    this._actionResults = [];
    this._actionHandler = null;
    this._executableHandler = false;
    this._executableFile = null; // custom name for executable
    this._defaultCommandName = null;
    this._exitCallback = null;
    this._aliases = [];
    this._combineFlagAndOptionalValue = true;
    this._description = '';
    this._argsDescription = undefined;
    this._enablePositionalOptions = false;
    this._passThroughOptions = false;

    // see .configureOutput() for docs
    this._outputConfiguration = {
      writeOut: (str) => process.stdout.write(str),
      writeErr: (str) => process.stderr.write(str),
      getOutHelpWidth: () => process.stdout.isTTY ? process.stdout.columns : undefined,
      getErrHelpWidth: () => process.stderr.isTTY ? process.stderr.columns : undefined,
      outputError: (str, write) => write(str)
    };

    this._hidden = false;
    this._hasHelpOption = true;
    this._helpFlags = '-h, --help';
    this._helpDescription = 'display help for command';
    this._helpShortFlag = '-h';
    this._helpLongFlag = '--help';
    this._addImplicitHelpCommand = undefined; // Deliberately undefined, not decided whether true or false
    this._helpCommandName = 'help';
    this._helpCommandnameAndArgs = 'help [command]';
    this._helpCommandDescription = 'display help for command';
    this._helpConfiguration = {};
  }

  /**
   * Define a command.
   *
   * There are two styles of command: pay attention to where to put the description.
   *
   * Examples:
   *
   *      // Command implemented using action handler (description is supplied separately to `.command`)
   *      program
   *        .command('clone <source> [destination]')
   *        .description('clone a repository into a newly created directory')
   *        .action((source, destination) => {
   *          console.log('clone command called');
   *        });
   *
   *      // Command implemented using separate executable file (description is second parameter to `.command`)
   *      program
   *        .command('start <service>', 'start named service')
   *        .command('stop [service]', 'stop named service, or all if no name supplied');
   *
   * @param {string} nameAndArgs - command name and arguments, args are `<required>` or `[optional]` and last may also be `variadic...`
   * @param {Object|string} [actionOptsOrExecDesc] - configuration options (for action), or description (for executable)
   * @param {Object} [execOpts] - configuration options (for executable)
   * @return {Command} returns new command for action handler, or `this` for executable command
   */

  command(nameAndArgs, actionOptsOrExecDesc, execOpts) {
    let desc = actionOptsOrExecDesc;
    let opts = execOpts;
    if (typeof desc === 'object' && desc !== null) {
      opts = desc;
      desc = null;
    }
    opts = opts || {};
    const args = nameAndArgs.split(/ +/);
    const cmd = this.createCommand(args.shift());

    if (desc) {
      cmd.description(desc);
      cmd._executableHandler = true;
    }
    if (opts.isDefault) this._defaultCommandName = cmd._name;

    cmd._outputConfiguration = this._outputConfiguration;

    cmd._hidden = !!(opts.noHelp || opts.hidden); // noHelp is deprecated old name for hidden
    cmd._hasHelpOption = this._hasHelpOption;
    cmd._helpFlags = this._helpFlags;
    cmd._helpDescription = this._helpDescription;
    cmd._helpShortFlag = this._helpShortFlag;
    cmd._helpLongFlag = this._helpLongFlag;
    cmd._helpCommandName = this._helpCommandName;
    cmd._helpCommandnameAndArgs = this._helpCommandnameAndArgs;
    cmd._helpCommandDescription = this._helpCommandDescription;
    cmd._helpConfiguration = this._helpConfiguration;
    cmd._exitCallback = this._exitCallback;
    cmd._storeOptionsAsProperties = this._storeOptionsAsProperties;
    cmd._combineFlagAndOptionalValue = this._combineFlagAndOptionalValue;
    cmd._allowExcessArguments = this._allowExcessArguments;
    cmd._enablePositionalOptions = this._enablePositionalOptions;

    cmd._executableFile = opts.executableFile || null; // Custom name for executable file, set missing to null to match constructor
    this.commands.push(cmd);
    cmd._parseExpectedArgs(args);
    cmd.parent = this;

    if (desc) return this;
    return cmd;
  };

  /**
   * Factory routine to create a new unattached command.
   *
   * See .command() for creating an attached subcommand, which uses this routine to
   * create the command. You can override createCommand to customise subcommands.
   *
   * @param {string} [name]
   * @return {Command} new command
   */

  createCommand(name) {
    return new Command(name);
  };

  /**
   * You can customise the help with a subclass of Help by overriding createHelp,
   * or by overriding Help properties using configureHelp().
   *
   * @return {Help}
   */

  createHelp() {
    return Object.assign(new Help(), this.configureHelp());
  };

  /**
   * You can customise the help by overriding Help properties using configureHelp(),
   * or with a subclass of Help by overriding createHelp().
   *
   * @param {Object} [configuration] - configuration options
   * @return {Command|Object} `this` command for chaining, or stored configuration
   */

  configureHelp(configuration) {
    if (configuration === undefined) return this._helpConfiguration;

    this._helpConfiguration = configuration;
    return this;
  }

  /**
   * The default output goes to stdout and stderr. You can customise this for special
   * applications. You can also customise the display of errors by overriding outputError.
   *
   * The configuration properties are all functions:
   *
   *    // functions to change where being written, stdout and stderr
   *    writeOut(str)
   *    writeErr(str)
   *    // matching functions to specify width for wrapping help
   *    getOutHelpWidth()
   *    getErrHelpWidth()
   *    // functions based on what is being written out
   *    outputError(str, write) // used for displaying errors, and not used for displaying help
   *
   * @param {Object} [configuration] - configuration options
   * @return {Command|Object} `this` command for chaining, or stored configuration
   */

  configureOutput(configuration) {
    if (configuration === undefined) return this._outputConfiguration;

    Object.assign(this._outputConfiguration, configuration);
    return this;
  }

  /**
   * Add a prepared subcommand.
   *
   * See .command() for creating an attached subcommand which inherits settings from its parent.
   *
   * @param {Command} cmd - new subcommand
   * @param {Object} [opts] - configuration options
   * @return {Command} `this` command for chaining
   */

  addCommand(cmd, opts) {
    if (!cmd._name) throw new Error('Command passed to .addCommand() must have a name');

    // To keep things simple, block automatic name generation for deeply nested executables.
    // Fail fast and detect when adding rather than later when parsing.
    function checkExplicitNames(commandArray) {
      commandArray.forEach((cmd) => {
        if (cmd._executableHandler && !cmd._executableFile) {
          throw new Error(`Must specify executableFile for deeply nested executable: ${cmd.name()}`);
        }
        checkExplicitNames(cmd.commands);
      });
    }
    checkExplicitNames(cmd.commands);

    opts = opts || {};
    if (opts.isDefault) this._defaultCommandName = cmd._name;
    if (opts.noHelp || opts.hidden) cmd._hidden = true; // modifying passed command due to existing implementation

    this.commands.push(cmd);
    cmd.parent = this;
    return this;
  };

  /**
   * Define argument syntax for the command.
   */

  arguments(desc) {
    return this._parseExpectedArgs(desc.split(/ +/));
  };

  /**
   * Override default decision whether to add implicit help command.
   *
   *    addHelpCommand() // force on
   *    addHelpCommand(false); // force off
   *    addHelpCommand('help [cmd]', 'display help for [cmd]'); // force on with custom details
   *
   * @return {Command} `this` command for chaining
   */

  addHelpCommand(enableOrNameAndArgs, description) {
    if (enableOrNameAndArgs === false) {
      this._addImplicitHelpCommand = false;
    } else {
      this._addImplicitHelpCommand = true;
      if (typeof enableOrNameAndArgs === 'string') {
        this._helpCommandName = enableOrNameAndArgs.split(' ')[0];
        this._helpCommandnameAndArgs = enableOrNameAndArgs;
      }
      this._helpCommandDescription = description || this._helpCommandDescription;
    }
    return this;
  };

  /**
   * @return {boolean}
   * @api private
   */

  _hasImplicitHelpCommand() {
    if (this._addImplicitHelpCommand === undefined) {
      return this.commands.length && !this._actionHandler && !this._findCommand('help');
    }
    return this._addImplicitHelpCommand;
  };

  /**
   * Parse expected `args`.
   *
   * For example `["[type]"]` becomes `[{ required: false, name: 'type' }]`.
   *
   * @param {Array} args
   * @return {Command} `this` command for chaining
   * @api private
   */

  _parseExpectedArgs(args) {
    if (!args.length) return;
    args.forEach((arg) => {
      const argDetails = {
        required: false,
        name: '',
        variadic: false
      };

      switch (arg[0]) {
        case '<':
          argDetails.required = true;
          argDetails.name = arg.slice(1, -1);
          break;
        case '[':
          argDetails.name = arg.slice(1, -1);
          break;
      }

      if (argDetails.name.length > 3 && argDetails.name.slice(-3) === '...') {
        argDetails.variadic = true;
        argDetails.name = argDetails.name.slice(0, -3);
      }
      if (argDetails.name) {
        this._args.push(argDetails);
      }
    });
    this._args.forEach((arg, i) => {
      if (arg.variadic && i < this._args.length - 1) {
        throw new Error(`only the last argument can be variadic '${arg.name}'`);
      }
    });
    return this;
  };

  /**
   * Register callback to use as replacement for calling process.exit.
   *
   * @param {Function} [fn] optional callback which will be passed a CommanderError, defaults to throwing
   * @return {Command} `this` command for chaining
   */

  exitOverride(fn) {
    if (fn) {
      this._exitCallback = fn;
    } else {
      this._exitCallback = (err) => {
        if (err.code !== 'commander.executeSubCommandAsync') {
          throw err;
        } else {
          // Async callback from spawn events, not useful to throw.
        }
      };
    }
    return this;
  };

  /**
   * Call process.exit, and _exitCallback if defined.
   *
   * @param {number} exitCode exit code for using with process.exit
   * @param {string} code an id string representing the error
   * @param {string} message human-readable description of the error
   * @return never
   * @api private
   */

  _exit(exitCode, code, message) {
    if (this._exitCallback) {
      this._exitCallback(new CommanderError(exitCode, code, message));
      // Expecting this line is not reached.
    }
    process.exit(exitCode);
  };

  /**
   * Register callback `fn` for the command.
   *
   * Examples:
   *
   *      program
   *        .command('help')
   *        .description('display verbose help')
   *        .action(function() {
   *           // output help here
   *        });
   *
   * @param {Function} fn
   * @return {Command} `this` command for chaining
   */

  action(fn) {
    const listener = (args) => {
      // The .action callback takes an extra parameter which is the command or options.
      const expectedArgsCount = this._args.length;
      const actionArgs = args.slice(0, expectedArgsCount);
      if (this._storeOptionsAsProperties) {
        actionArgs[expectedArgsCount] = this; // backwards compatible "options"
      } else {
        actionArgs[expectedArgsCount] = this.opts();
      }
      actionArgs.push(this);

      const actionResult = fn.apply(this, actionArgs);
      // Remember result in case it is async. Assume parseAsync getting called on root.
      let rootCommand = this;
      while (rootCommand.parent) {
        rootCommand = rootCommand.parent;
      }
      rootCommand._actionResults.push(actionResult);
    };
    this._actionHandler = listener;
    return this;
  };

  /**
   * Factory routine to create a new unattached option.
   *
   * See .option() for creating an attached option, which uses this routine to
   * create the option. You can override createOption to return a custom option.
   *
   * @param {string} flags
   * @param {string} [description]
   * @return {Option} new option
   */

  createOption(flags, description) {
    return new Option(flags, description);
  };

  /**
   * Add an option.
   *
   * @param {Option} option
   * @return {Command} `this` command for chaining
   */
  addOption(option) {
    const oname = option.name();
    const name = option.attributeName();

    let defaultValue = option.defaultValue;

    // preassign default value for --no-*, [optional], <required>, or plain flag if boolean value
    if (option.negate || option.optional || option.required || typeof defaultValue === 'boolean') {
      // when --no-foo we make sure default is true, unless a --foo option is already defined
      if (option.negate) {
        const positiveLongFlag = option.long.replace(/^--no-/, '--');
        defaultValue = this._findOption(positiveLongFlag) ? this._getOptionValue(name) : true;
      }
      // preassign only if we have a default
      if (defaultValue !== undefined) {
        this._setOptionValue(name, defaultValue);
      }
    }

    // register the option
    this.options.push(option);

    // when it's passed assign the value
    // and conditionally invoke the callback
    this.on('option:' + oname, (val) => {
      const oldValue = this._getOptionValue(name);

      // custom processing
      if (val !== null && option.parseArg) {
        try {
          val = option.parseArg(val, oldValue === undefined ? defaultValue : oldValue);
        } catch (err) {
          if (err.code === 'commander.invalidOptionArgument') {
            const message = `error: option '${option.flags}' argument '${val}' is invalid. ${err.message}`;
            this._displayError(err.exitCode, err.code, message);
          }
          throw err;
        }
      } else if (val !== null && option.variadic) {
        val = option._concatValue(val, oldValue);
      }

      // unassigned or boolean value
      if (typeof oldValue === 'boolean' || typeof oldValue === 'undefined') {
        // if no value, negate false, and we have a default, then use it!
        if (val == null) {
          this._setOptionValue(name, option.negate
            ? false
            : defaultValue || true);
        } else {
          this._setOptionValue(name, val);
        }
      } else if (val !== null) {
        // reassign
        this._setOptionValue(name, option.negate ? false : val);
      }
    });

    return this;
  }

  /**
   * Internal implementation shared by .option() and .requiredOption()
   *
   * @api private
   */
  _optionEx(config, flags, description, fn, defaultValue) {
    const option = this.createOption(flags, description);
    option.makeOptionMandatory(!!config.mandatory);
    if (typeof fn === 'function') {
      option.default(defaultValue).argParser(fn);
    } else if (fn instanceof RegExp) {
      // deprecated
      const regex = fn;
      fn = (val, def) => {
        const m = regex.exec(val);
        return m ? m[0] : def;
      };
      option.default(defaultValue).argParser(fn);
    } else {
      option.default(fn);
    }

    return this.addOption(option);
  }

  /**
   * Define option with `flags`, `description` and optional
   * coercion `fn`.
   *
   * The `flags` string contains the short and/or long flags,
   * separated by comma, a pipe or space. The following are all valid
   * all will output this way when `--help` is used.
   *
   *    "-p, --pepper"
   *    "-p|--pepper"
   *    "-p --pepper"
   *
   * Examples:
   *
   *     // simple boolean defaulting to undefined
   *     program.option('-p, --pepper', 'add pepper');
   *
   *     program.pepper
   *     // => undefined
   *
   *     --pepper
   *     program.pepper
   *     // => true
   *
   *     // simple boolean defaulting to true (unless non-negated option is also defined)
   *     program.option('-C, --no-cheese', 'remove cheese');
   *
   *     program.cheese
   *     // => true
   *
   *     --no-cheese
   *     program.cheese
   *     // => false
   *
   *     // required argument
   *     program.option('-C, --chdir <path>', 'change the working directory');
   *
   *     --chdir /tmp
   *     program.chdir
   *     // => "/tmp"
   *
   *     // optional argument
   *     program.option('-c, --cheese [type]', 'add cheese [marble]');
   *
   * @param {string} flags
   * @param {string} [description]
   * @param {Function|*} [fn] - custom option processing function or default value
   * @param {*} [defaultValue]
   * @return {Command} `this` command for chaining
   */

  option(flags, description, fn, defaultValue) {
    return this._optionEx({}, flags, description, fn, defaultValue);
  };

  /**
  * Add a required option which must have a value after parsing. This usually means
  * the option must be specified on the command line. (Otherwise the same as .option().)
  *
  * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space.
  *
  * @param {string} flags
  * @param {string} [description]
  * @param {Function|*} [fn] - custom option processing function or default value
  * @param {*} [defaultValue]
  * @return {Command} `this` command for chaining
  */

  requiredOption(flags, description, fn, defaultValue) {
    return this._optionEx({ mandatory: true }, flags, description, fn, defaultValue);
  };

  /**
   * Alter parsing of short flags with optional values.
   *
   * Examples:
   *
   *    // for `.option('-f,--flag [value]'):
   *    .combineFlagAndOptionalValue(true)  // `-f80` is treated like `--flag=80`, this is the default behaviour
   *    .combineFlagAndOptionalValue(false) // `-fb` is treated like `-f -b`
   *
   * @param {Boolean} [combine=true] - if `true` or omitted, an optional value can be specified directly after the flag.
   */
  combineFlagAndOptionalValue(combine = true) {
    this._combineFlagAndOptionalValue = !!combine;
    return this;
  };

  /**
   * Allow unknown options on the command line.
   *
   * @param {Boolean} [allowUnknown=true] - if `true` or omitted, no error will be thrown
   * for unknown options.
   */
  allowUnknownOption(allowUnknown = true) {
    this._allowUnknownOption = !!allowUnknown;
    return this;
  };

  /**
   * Allow excess command-arguments on the command line. Pass false to make excess arguments an error.
   *
   * @param {Boolean} [allowExcess=true] - if `true` or omitted, no error will be thrown
   * for excess arguments.
   */
  allowExcessArguments(allowExcess = true) {
    this._allowExcessArguments = !!allowExcess;
    return this;
  };

  /**
   * Enable positional options. Positional means global options are specified before subcommands which lets
   * subcommands reuse the same option names, and also enables subcommands to turn on passThroughOptions.
   * The default behaviour is non-positional and global options may appear anywhere on the command line.
   *
   * @param {Boolean} [positional=true]
   */
  enablePositionalOptions(positional = true) {
    this._enablePositionalOptions = !!positional;
    return this;
  };

  /**
   * Pass through options that come after command-arguments rather than treat them as command-options,
   * so actual command-options come before command-arguments. Turning this on for a subcommand requires
   * positional options to have been enabled on the program (parent commands).
   * The default behaviour is non-positional and options may appear before or after command-arguments.
   *
   * @param {Boolean} [passThrough=true]
   * for unknown options.
   */
  passThroughOptions(passThrough = true) {
    this._passThroughOptions = !!passThrough;
    if (!!this.parent && passThrough && !this.parent._enablePositionalOptions) {
      throw new Error('passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)');
    }
    return this;
  };

  /**
    * Whether to store option values as properties on command object,
    * or store separately (specify false). In both cases the option values can be accessed using .opts().
    *
    * @param {boolean} [storeAsProperties=true]
    * @return {Command} `this` command for chaining
    */

  storeOptionsAsProperties(storeAsProperties = true) {
    this._storeOptionsAsProperties = !!storeAsProperties;
    if (this.options.length) {
      throw new Error('call .storeOptionsAsProperties() before adding options');
    }
    return this;
  };

  /**
   * Store option value
   *
   * @param {string} key
   * @param {Object} value
   * @api private
   */

  _setOptionValue(key, value) {
    if (this._storeOptionsAsProperties) {
      this[key] = value;
    } else {
      this._optionValues[key] = value;
    }
  };

  /**
   * Retrieve option value
   *
   * @param {string} key
   * @return {Object} value
   * @api private
   */

  _getOptionValue(key) {
    if (this._storeOptionsAsProperties) {
      return this[key];
    }
    return this._optionValues[key];
  };

  /**
   * Parse `argv`, setting options and invoking commands when defined.
   *
   * The default expectation is that the arguments are from node and have the application as argv[0]
   * and the script being run in argv[1], with user parameters after that.
   *
   * Examples:
   *
   *      program.parse(process.argv);
   *      program.parse(); // implicitly use process.argv and auto-detect node vs electron conventions
   *      program.parse(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]
   *
   * @param {string[]} [argv] - optional, defaults to process.argv
   * @param {Object} [parseOptions] - optionally specify style of options with from: node/user/electron
   * @param {string} [parseOptions.from] - where the args are from: 'node', 'user', 'electron'
   * @return {Command} `this` command for chaining
   */

  parse(argv, parseOptions) {
    if (argv !== undefined && !Array.isArray(argv)) {
      throw new Error('first parameter to parse must be array or undefined');
    }
    parseOptions = parseOptions || {};

    // Default to using process.argv
    if (argv === undefined) {
      argv = process.argv;
      // @ts-ignore: unknown property
      if (process.versions && process.versions.electron) {
        parseOptions.from = 'electron';
      }
    }
    this.rawArgs = argv.slice();

    // make it a little easier for callers by supporting various argv conventions
    let userArgs;
    switch (parseOptions.from) {
      case undefined:
      case 'node':
        this._scriptPath = argv[1];
        userArgs = argv.slice(2);
        break;
      case 'electron':
        // @ts-ignore: unknown property
        if (process.defaultApp) {
          this._scriptPath = argv[1];
          userArgs = argv.slice(2);
        } else {
          userArgs = argv.slice(1);
        }
        break;
      case 'user':
        userArgs = argv.slice(0);
        break;
      default:
        throw new Error(`unexpected parse option { from: '${parseOptions.from}' }`);
    }
    if (!this._scriptPath && __webpack_require__.c[__webpack_require__.s]) {
      this._scriptPath = __webpack_require__.c[__webpack_require__.s].filename;
    }

    // Guess name, used in usage in help.
    this._name = this._name || (this._scriptPath && path.basename(this._scriptPath, path.extname(this._scriptPath)));

    // Let's go!
    this._parseCommand([], userArgs);

    return this;
  };

  /**
   * Parse `argv`, setting options and invoking commands when defined.
   *
   * Use parseAsync instead of parse if any of your action handlers are async. Returns a Promise.
   *
   * The default expectation is that the arguments are from node and have the application as argv[0]
   * and the script being run in argv[1], with user parameters after that.
   *
   * Examples:
   *
   *      program.parseAsync(process.argv);
   *      program.parseAsync(); // implicitly use process.argv and auto-detect node vs electron conventions
   *      program.parseAsync(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]
   *
   * @param {string[]} [argv]
   * @param {Object} [parseOptions]
   * @param {string} parseOptions.from - where the args are from: 'node', 'user', 'electron'
   * @return {Promise}
   */

  parseAsync(argv, parseOptions) {
    this.parse(argv, parseOptions);
    return Promise.all(this._actionResults).then(() => this);
  };

  /**
   * Execute a sub-command executable.
   *
   * @api private
   */

  _executeSubCommand(subcommand, args) {
    args = args.slice();
    let launchWithNode = false; // Use node for source targets so do not need to get permissions correct, and on Windows.
    const sourceExt = ['.js', '.ts', '.tsx', '.mjs', '.cjs'];

    // Not checking for help first. Unlikely to have mandatory and executable, and can't robustly test for help flags in external command.
    this._checkForMissingMandatoryOptions();

    // Want the entry script as the reference for command name and directory for searching for other files.
    let scriptPath = this._scriptPath;
    // Fallback in case not set, due to how Command created or called.
    if (!scriptPath && __webpack_require__.c[__webpack_require__.s]) {
      scriptPath = __webpack_require__.c[__webpack_require__.s].filename;
    }

    let baseDir;
    try {
      const resolvedLink = fs.realpathSync(scriptPath);
      baseDir = path.dirname(resolvedLink);
    } catch (e) {
      baseDir = '.'; // dummy, probably not going to find executable!
    }

    // name of the subcommand, like `pm-install`
    let bin = path.basename(scriptPath, path.extname(scriptPath)) + '-' + subcommand._name;
    if (subcommand._executableFile) {
      bin = subcommand._executableFile;
    }

    const localBin = path.join(baseDir, bin);
    if (fs.existsSync(localBin)) {
      // prefer local `./<bin>` to bin in the $PATH
      bin = localBin;
    } else {
      // Look for source files.
      sourceExt.forEach((ext) => {
        if (fs.existsSync(`${localBin}${ext}`)) {
          bin = `${localBin}${ext}`;
        }
      });
    }
    launchWithNode = sourceExt.includes(path.extname(bin));

    let proc;
    if (process.platform !== 'win32') {
      if (launchWithNode) {
        args.unshift(bin);
        // add executable arguments to spawn
        args = incrementNodeInspectorPort(process.execArgv).concat(args);

        proc = childProcess.spawn(process.argv[0], args, { stdio: 'inherit' });
      } else {
        proc = childProcess.spawn(bin, args, { stdio: 'inherit' });
      }
    } else {
      args.unshift(bin);
      // add executable arguments to spawn
      args = incrementNodeInspectorPort(process.execArgv).concat(args);
      proc = childProcess.spawn(process.execPath, args, { stdio: 'inherit' });
    }

    const signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];
    signals.forEach((signal) => {
      // @ts-ignore
      process.on(signal, () => {
        if (proc.killed === false && proc.exitCode === null) {
          proc.kill(signal);
        }
      });
    });

    // By default terminate process when spawned process terminates.
    // Suppressing the exit if exitCallback defined is a bit messy and of limited use, but does allow process to stay running!
    const exitCallback = this._exitCallback;
    if (!exitCallback) {
      proc.on('close', process.exit.bind(process));
    } else {
      proc.on('close', () => {
        exitCallback(new CommanderError(process.exitCode || 0, 'commander.executeSubCommandAsync', '(close)'));
      });
    }
    proc.on('error', (err) => {
      // @ts-ignore
      if (err.code === 'ENOENT') {
        const executableMissing = `'${bin}' does not exist
 - if '${subcommand._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name`;
        throw new Error(executableMissing);
      // @ts-ignore
      } else if (err.code === 'EACCES') {
        throw new Error(`'${bin}' not executable`);
      }
      if (!exitCallback) {
        process.exit(1);
      } else {
        const wrappedError = new CommanderError(1, 'commander.executeSubCommandAsync', '(error)');
        wrappedError.nestedError = err;
        exitCallback(wrappedError);
      }
    });

    // Store the reference to the child process
    this.runningCommand = proc;
  };

  /**
   * @api private
   */
  _dispatchSubcommand(commandName, operands, unknown) {
    const subCommand = this._findCommand(commandName);
    if (!subCommand) this.help({ error: true });

    if (subCommand._executableHandler) {
      this._executeSubCommand(subCommand, operands.concat(unknown));
    } else {
      subCommand._parseCommand(operands, unknown);
    }
  };

  /**
   * Process arguments in context of this command.
   *
   * @api private
   */

  _parseCommand(operands, unknown) {
    const parsed = this.parseOptions(unknown);
    operands = operands.concat(parsed.operands);
    unknown = parsed.unknown;
    this.args = operands.concat(unknown);

    if (operands && this._findCommand(operands[0])) {
      this._dispatchSubcommand(operands[0], operands.slice(1), unknown);
    } else if (this._hasImplicitHelpCommand() && operands[0] === this._helpCommandName) {
      if (operands.length === 1) {
        this.help();
      } else {
        this._dispatchSubcommand(operands[1], [], [this._helpLongFlag]);
      }
    } else if (this._defaultCommandName) {
      outputHelpIfRequested(this, unknown); // Run the help for default command from parent rather than passing to default command
      this._dispatchSubcommand(this._defaultCommandName, operands, unknown);
    } else {
      if (this.commands.length && this.args.length === 0 && !this._actionHandler && !this._defaultCommandName) {
        // probably missing subcommand and no handler, user needs help
        this.help({ error: true });
      }

      outputHelpIfRequested(this, parsed.unknown);
      this._checkForMissingMandatoryOptions();

      // We do not always call this check to avoid masking a "better" error, like unknown command.
      const checkForUnknownOptions = () => {
        if (parsed.unknown.length > 0) {
          this.unknownOption(parsed.unknown[0]);
        }
      };

      const commandEvent = `command:${this.name()}`;
      if (this._actionHandler) {
        checkForUnknownOptions();
        // Check expected arguments and collect variadic together.
        const args = this.args.slice();
        this._args.forEach((arg, i) => {
          if (arg.required && args[i] == null) {
            this.missingArgument(arg.name);
          } else if (arg.variadic) {
            args[i] = args.splice(i);
            args.length = Math.min(i + 1, args.length);
          }
        });
        if (args.length > this._args.length) {
          this._excessArguments(args);
        }

        this._actionHandler(args);
        if (this.parent) this.parent.emit(commandEvent, operands, unknown); // legacy
      } else if (this.parent && this.parent.listenerCount(commandEvent)) {
        checkForUnknownOptions();
        this.parent.emit(commandEvent, operands, unknown); // legacy
      } else if (operands.length) {
        if (this._findCommand('*')) { // legacy default command
          this._dispatchSubcommand('*', operands, unknown);
        } else if (this.listenerCount('command:*')) {
          // skip option check, emit event for possible misspelling suggestion
          this.emit('command:*', operands, unknown);
        } else if (this.commands.length) {
          this.unknownCommand();
        } else {
          checkForUnknownOptions();
        }
      } else if (this.commands.length) {
        // This command has subcommands and nothing hooked up at this level, so display help.
        this.help({ error: true });
      } else {
        checkForUnknownOptions();
        // fall through for caller to handle after calling .parse()
      }
    }
  };

  /**
   * Find matching command.
   *
   * @api private
   */
  _findCommand(name) {
    if (!name) return undefined;
    return this.commands.find(cmd => cmd._name === name || cmd._aliases.includes(name));
  };

  /**
   * Return an option matching `arg` if any.
   *
   * @param {string} arg
   * @return {Option}
   * @api private
   */

  _findOption(arg) {
    return this.options.find(option => option.is(arg));
  };

  /**
   * Display an error message if a mandatory option does not have a value.
   * Lazy calling after checking for help flags from leaf subcommand.
   *
   * @api private
   */

  _checkForMissingMandatoryOptions() {
    // Walk up hierarchy so can call in subcommand after checking for displaying help.
    for (let cmd = this; cmd; cmd = cmd.parent) {
      cmd.options.forEach((anOption) => {
        if (anOption.mandatory && (cmd._getOptionValue(anOption.attributeName()) === undefined)) {
          cmd.missingMandatoryOptionValue(anOption);
        }
      });
    }
  };

  /**
   * Parse options from `argv` removing known options,
   * and return argv split into operands and unknown arguments.
   *
   * Examples:
   *
   *    argv => operands, unknown
   *    --known kkk op => [op], []
   *    op --known kkk => [op], []
   *    sub --unknown uuu op => [sub], [--unknown uuu op]
   *    sub -- --unknown uuu op => [sub --unknown uuu op], []
   *
   * @param {String[]} argv
   * @return {{operands: String[], unknown: String[]}}
   */

  parseOptions(argv) {
    const operands = []; // operands, not options or values
    const unknown = []; // first unknown option and remaining unknown args
    let dest = operands;
    const args = argv.slice();

    function maybeOption(arg) {
      return arg.length > 1 && arg[0] === '-';
    }

    // parse options
    let activeVariadicOption = null;
    while (args.length) {
      const arg = args.shift();

      // literal
      if (arg === '--') {
        if (dest === unknown) dest.push(arg);
        dest.push(...args);
        break;
      }

      if (activeVariadicOption && !maybeOption(arg)) {
        this.emit(`option:${activeVariadicOption.name()}`, arg);
        continue;
      }
      activeVariadicOption = null;

      if (maybeOption(arg)) {
        const option = this._findOption(arg);
        // recognised option, call listener to assign value with possible custom processing
        if (option) {
          if (option.required) {
            const value = args.shift();
            if (value === undefined) this.optionMissingArgument(option);
            this.emit(`option:${option.name()}`, value);
          } else if (option.optional) {
            let value = null;
            // historical behaviour is optional value is following arg unless an option
            if (args.length > 0 && !maybeOption(args[0])) {
              value = args.shift();
            }
            this.emit(`option:${option.name()}`, value);
          } else { // boolean flag
            this.emit(`option:${option.name()}`);
          }
          activeVariadicOption = option.variadic ? option : null;
          continue;
        }
      }

      // Look for combo options following single dash, eat first one if known.
      if (arg.length > 2 && arg[0] === '-' && arg[1] !== '-') {
        const option = this._findOption(`-${arg[1]}`);
        if (option) {
          if (option.required || (option.optional && this._combineFlagAndOptionalValue)) {
            // option with value following in same argument
            this.emit(`option:${option.name()}`, arg.slice(2));
          } else {
            // boolean option, emit and put back remainder of arg for further processing
            this.emit(`option:${option.name()}`);
            args.unshift(`-${arg.slice(2)}`);
          }
          continue;
        }
      }

      // Look for known long flag with value, like --foo=bar
      if (/^--[^=]+=/.test(arg)) {
        const index = arg.indexOf('=');
        const option = this._findOption(arg.slice(0, index));
        if (option && (option.required || option.optional)) {
          this.emit(`option:${option.name()}`, arg.slice(index + 1));
          continue;
        }
      }

      // Not a recognised option by this command.
      // Might be a command-argument, or subcommand option, or unknown option, or help command or option.

      // An unknown option means further arguments also classified as unknown so can be reprocessed by subcommands.
      if (maybeOption(arg)) {
        dest = unknown;
      }

      // If using positionalOptions, stop processing our options at subcommand.
      if ((this._enablePositionalOptions || this._passThroughOptions) && operands.length === 0 && unknown.length === 0) {
        if (this._findCommand(arg)) {
          operands.push(arg);
          if (args.length > 0) unknown.push(...args);
          break;
        } else if (arg === this._helpCommandName && this._hasImplicitHelpCommand()) {
          operands.push(arg);
          if (args.length > 0) operands.push(...args);
          break;
        } else if (this._defaultCommandName) {
          unknown.push(arg);
          if (args.length > 0) unknown.push(...args);
          break;
        }
      }

      // If using passThroughOptions, stop processing options at first command-argument.
      if (this._passThroughOptions) {
        dest.push(arg);
        if (args.length > 0) dest.push(...args);
        break;
      }

      // add arg
      dest.push(arg);
    }

    return { operands, unknown };
  };

  /**
   * Return an object containing options as key-value pairs
   *
   * @return {Object}
   */
  opts() {
    if (this._storeOptionsAsProperties) {
      // Preserve original behaviour so backwards compatible when still using properties
      const result = {};
      const len = this.options.length;

      for (let i = 0; i < len; i++) {
        const key = this.options[i].attributeName();
        result[key] = key === this._versionOptionName ? this._version : this[key];
      }
      return result;
    }

    return this._optionValues;
  };

  /**
   * Internal bottleneck for handling of parsing errors.
   *
   * @api private
   */
  _displayError(exitCode, code, message) {
    this._outputConfiguration.outputError(`${message}\n`, this._outputConfiguration.writeErr);
    this._exit(exitCode, code, message);
  }

  /**
   * Argument `name` is missing.
   *
   * @param {string} name
   * @api private
   */

  missingArgument(name) {
    const message = `error: missing required argument '${name}'`;
    this._displayError(1, 'commander.missingArgument', message);
  };

  /**
   * `Option` is missing an argument.
   *
   * @param {Option} option
   * @api private
   */

  optionMissingArgument(option) {
    const message = `error: option '${option.flags}' argument missing`;
    this._displayError(1, 'commander.optionMissingArgument', message);
  };

  /**
   * `Option` does not have a value, and is a mandatory option.
   *
   * @param {Option} option
   * @api private
   */

  missingMandatoryOptionValue(option) {
    const message = `error: required option '${option.flags}' not specified`;
    this._displayError(1, 'commander.missingMandatoryOptionValue', message);
  };

  /**
   * Unknown option `flag`.
   *
   * @param {string} flag
   * @api private
   */

  unknownOption(flag) {
    if (this._allowUnknownOption) return;
    const message = `error: unknown option '${flag}'`;
    this._displayError(1, 'commander.unknownOption', message);
  };

  /**
   * Excess arguments, more than expected.
   *
   * @param {string[]} receivedArgs
   * @api private
   */

  _excessArguments(receivedArgs) {
    if (this._allowExcessArguments) return;

    const expected = this._args.length;
    const s = (expected === 1) ? '' : 's';
    const forSubcommand = this.parent ? ` for '${this.name()}'` : '';
    const message = `error: too many arguments${forSubcommand}. Expected ${expected} argument${s} but got ${receivedArgs.length}.`;
    this._displayError(1, 'commander.excessArguments', message);
  };

  /**
   * Unknown command.
   *
   * @api private
   */

  unknownCommand() {
    const partCommands = [this.name()];
    for (let parentCmd = this.parent; parentCmd; parentCmd = parentCmd.parent) {
      partCommands.unshift(parentCmd.name());
    }
    const fullCommand = partCommands.join(' ');
    const message = `error: unknown command '${this.args[0]}'.` +
      (this._hasHelpOption ? ` See '${fullCommand} ${this._helpLongFlag}'.` : '');
    this._displayError(1, 'commander.unknownCommand', message);
  };

  /**
   * Set the program version to `str`.
   *
   * This method auto-registers the "-V, --version" flag
   * which will print the version number when passed.
   *
   * You can optionally supply the  flags and description to override the defaults.
   *
   * @param {string} str
   * @param {string} [flags]
   * @param {string} [description]
   * @return {this | string} `this` command for chaining, or version string if no arguments
   */

  version(str, flags, description) {
    if (str === undefined) return this._version;
    this._version = str;
    flags = flags || '-V, --version';
    description = description || 'output the version number';
    const versionOption = this.createOption(flags, description);
    this._versionOptionName = versionOption.attributeName();
    this.options.push(versionOption);
    this.on('option:' + versionOption.name(), () => {
      this._outputConfiguration.writeOut(`${str}\n`);
      this._exit(0, 'commander.version', str);
    });
    return this;
  };

  /**
   * Set the description to `str`.
   *
   * @param {string} [str]
   * @param {Object} [argsDescription]
   * @return {string|Command}
   */
  description(str, argsDescription) {
    if (str === undefined && argsDescription === undefined) return this._description;
    this._description = str;
    this._argsDescription = argsDescription;
    return this;
  };

  /**
   * Set an alias for the command.
   *
   * You may call more than once to add multiple aliases. Only the first alias is shown in the auto-generated help.
   *
   * @param {string} [alias]
   * @return {string|Command}
   */

  alias(alias) {
    if (alias === undefined) return this._aliases[0]; // just return first, for backwards compatibility

    let command = this;
    if (this.commands.length !== 0 && this.commands[this.commands.length - 1]._executableHandler) {
      // assume adding alias for last added executable subcommand, rather than this
      command = this.commands[this.commands.length - 1];
    }

    if (alias === command._name) throw new Error('Command alias can\'t be the same as its name');

    command._aliases.push(alias);
    return this;
  };

  /**
   * Set aliases for the command.
   *
   * Only the first alias is shown in the auto-generated help.
   *
   * @param {string[]} [aliases]
   * @return {string[]|Command}
   */

  aliases(aliases) {
    // Getter for the array of aliases is the main reason for having aliases() in addition to alias().
    if (aliases === undefined) return this._aliases;

    aliases.forEach((alias) => this.alias(alias));
    return this;
  };

  /**
   * Set / get the command usage `str`.
   *
   * @param {string} [str]
   * @return {String|Command}
   */

  usage(str) {
    if (str === undefined) {
      if (this._usage) return this._usage;

      const args = this._args.map((arg) => {
        return humanReadableArgName(arg);
      });
      return [].concat(
        (this.options.length || this._hasHelpOption ? '[options]' : []),
        (this.commands.length ? '[command]' : []),
        (this._args.length ? args : [])
      ).join(' ');
    }

    this._usage = str;
    return this;
  };

  /**
   * Get or set the name of the command
   *
   * @param {string} [str]
   * @return {string|Command}
   */

  name(str) {
    if (str === undefined) return this._name;
    this._name = str;
    return this;
  };

  /**
   * Return program help documentation.
   *
   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to wrap for stderr instead of stdout
   * @return {string}
   */

  helpInformation(contextOptions) {
    const helper = this.createHelp();
    if (helper.helpWidth === undefined) {
      helper.helpWidth = (contextOptions && contextOptions.error) ? this._outputConfiguration.getErrHelpWidth() : this._outputConfiguration.getOutHelpWidth();
    }
    return helper.formatHelp(this, helper);
  };

  /**
   * @api private
   */

  _getHelpContext(contextOptions) {
    contextOptions = contextOptions || {};
    const context = { error: !!contextOptions.error };
    let write;
    if (context.error) {
      write = (arg) => this._outputConfiguration.writeErr(arg);
    } else {
      write = (arg) => this._outputConfiguration.writeOut(arg);
    }
    context.write = contextOptions.write || write;
    context.command = this;
    return context;
  }

  /**
   * Output help information for this command.
   *
   * Outputs built-in help, and custom text added using `.addHelpText()`.
   *
   * @param {{ error: boolean } | Function} [contextOptions] - pass {error:true} to write to stderr instead of stdout
   */

  outputHelp(contextOptions) {
    let deprecatedCallback;
    if (typeof contextOptions === 'function') {
      deprecatedCallback = contextOptions;
      contextOptions = undefined;
    }
    const context = this._getHelpContext(contextOptions);

    const groupListeners = [];
    let command = this;
    while (command) {
      groupListeners.push(command); // ordered from current command to root
      command = command.parent;
    }

    groupListeners.slice().reverse().forEach(command => command.emit('beforeAllHelp', context));
    this.emit('beforeHelp', context);

    let helpInformation = this.helpInformation(context);
    if (deprecatedCallback) {
      helpInformation = deprecatedCallback(helpInformation);
      if (typeof helpInformation !== 'string' && !Buffer.isBuffer(helpInformation)) {
        throw new Error('outputHelp callback must return a string or a Buffer');
      }
    }
    context.write(helpInformation);

    this.emit(this._helpLongFlag); // deprecated
    this.emit('afterHelp', context);
    groupListeners.forEach(command => command.emit('afterAllHelp', context));
  };

  /**
   * You can pass in flags and a description to override the help
   * flags and help description for your command. Pass in false to
   * disable the built-in help option.
   *
   * @param {string | boolean} [flags]
   * @param {string} [description]
   * @return {Command} `this` command for chaining
   */

  helpOption(flags, description) {
    if (typeof flags === 'boolean') {
      this._hasHelpOption = flags;
      return this;
    }
    this._helpFlags = flags || this._helpFlags;
    this._helpDescription = description || this._helpDescription;

    const helpFlags = _parseOptionFlags(this._helpFlags);
    this._helpShortFlag = helpFlags.shortFlag;
    this._helpLongFlag = helpFlags.longFlag;

    return this;
  };

  /**
   * Output help information and exit.
   *
   * Outputs built-in help, and custom text added using `.addHelpText()`.
   *
   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to write to stderr instead of stdout
   */

  help(contextOptions) {
    this.outputHelp(contextOptions);
    let exitCode = process.exitCode || 0;
    if (exitCode === 0 && contextOptions && typeof contextOptions !== 'function' && contextOptions.error) {
      exitCode = 1;
    }
    // message: do not have all displayed text available so only passing placeholder.
    this._exit(exitCode, 'commander.help', '(outputHelp)');
  };

  /**
   * Add additional text to be displayed with the built-in help.
   *
   * Position is 'before' or 'after' to affect just this command,
   * and 'beforeAll' or 'afterAll' to affect this command and all its subcommands.
   *
   * @param {string} position - before or after built-in help
   * @param {string | Function} text - string to add, or a function returning a string
   * @return {Command} `this` command for chaining
   */
  addHelpText(position, text) {
    const allowedValues = ['beforeAll', 'before', 'after', 'afterAll'];
    if (!allowedValues.includes(position)) {
      throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${allowedValues.join("', '")}'`);
    }
    const helpEvent = `${position}Help`;
    this.on(helpEvent, (context) => {
      let helpStr;
      if (typeof text === 'function') {
        helpStr = text({ error: context.error, command: context.command });
      } else {
        helpStr = text;
      }
      // Ignore falsy value when nothing to output.
      if (helpStr) {
        context.write(`${helpStr}\n`);
      }
    });
    return this;
  }
};

/**
 * Expose the root command.
 */

exports = module.exports = new Command();
exports.program = exports; // More explicit access to global command.

/**
 * Expose classes
 */

exports.Command = Command;
exports.Option = Option;
exports.CommanderError = CommanderError;
exports.InvalidOptionArgumentError = InvalidOptionArgumentError;
exports.Help = Help;

/**
 * Camel-case the given `flag`
 *
 * @param {string} flag
 * @return {string}
 * @api private
 */

function camelcase(flag) {
  return flag.split('-').reduce((str, word) => {
    return str + word[0].toUpperCase() + word.slice(1);
  });
}

/**
 * Output help information if help flags specified
 *
 * @param {Command} cmd - command to output help for
 * @param {Array} args - array of options to search for help flags
 * @api private
 */

function outputHelpIfRequested(cmd, args) {
  const helpOption = cmd._hasHelpOption && args.find(arg => arg === cmd._helpLongFlag || arg === cmd._helpShortFlag);
  if (helpOption) {
    cmd.outputHelp();
    // (Do not have all displayed text available so only passing placeholder.)
    cmd._exit(0, 'commander.helpDisplayed', '(outputHelp)');
  }
}

/**
 * Takes an argument and returns its human readable equivalent for help usage.
 *
 * @param {Object} arg
 * @return {string}
 * @api private
 */

function humanReadableArgName(arg) {
  const nameOutput = arg.name + (arg.variadic === true ? '...' : '');

  return arg.required
    ? '<' + nameOutput + '>'
    : '[' + nameOutput + ']';
}

/**
 * Parse the short and long flag out of something like '-m,--mixed <value>'
 *
 * @api private
 */

function _parseOptionFlags(flags) {
  let shortFlag;
  let longFlag;
  // Use original very loose parsing to maintain backwards compatibility for now,
  // which allowed for example unintended `-sw, --short-word` [sic].
  const flagParts = flags.split(/[ |,]+/);
  if (flagParts.length > 1 && !/^[[<]/.test(flagParts[1])) shortFlag = flagParts.shift();
  longFlag = flagParts.shift();
  // Add support for lone short flag without significantly changing parsing!
  if (!shortFlag && /^-[^-]$/.test(longFlag)) {
    shortFlag = longFlag;
    longFlag = undefined;
  }
  return { shortFlag, longFlag };
}

/**
 * Scan arguments and increment port number for inspect calls (to avoid conflicts when spawning new command).
 *
 * @param {string[]} args - array of arguments from node.execArgv
 * @returns {string[]}
 * @api private
 */

function incrementNodeInspectorPort(args) {
  // Testing for these options:
  //  --inspect[=[host:]port]
  //  --inspect-brk[=[host:]port]
  //  --inspect-port=[host:]port
  return args.map((arg) => {
    if (!arg.startsWith('--inspect')) {
      return arg;
    }
    let debugOption;
    let debugHost = '127.0.0.1';
    let debugPort = '9229';
    let match;
    if ((match = arg.match(/^(--inspect(-brk)?)$/)) !== null) {
      // e.g. --inspect
      debugOption = match[1];
    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+)$/)) !== null) {
      debugOption = match[1];
      if (/^\d+$/.test(match[3])) {
        // e.g. --inspect=1234
        debugPort = match[3];
      } else {
        // e.g. --inspect=localhost
        debugHost = match[3];
      }
    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/)) !== null) {
      // e.g. --inspect=localhost:1234
      debugOption = match[1];
      debugHost = match[3];
      debugPort = match[4];
    }

    if (debugOption && debugPort !== '0') {
      return `${debugOption}=${debugHost}:${parseInt(debugPort) + 1}`;
    }
    return arg;
  });
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = __webpack_module_cache__;
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// module cache are used so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	var __webpack_exports__ = __webpack_require__(__webpack_require__.s = "./lib/index.ts");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQztvQkFDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDdkIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDdkIsQ0FBQztxQkFBTSxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLEVBQUUsQ0FBQztvQkFDdkMs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QUFZLEdBQUcsVUFBVSxHQUFHLHdCQUF3QjtBQUNwRTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7O1VDeHFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOztVQUVBO1VBQ0E7Ozs7VUV6QkE7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL25vZGVfbW9kdWxlcy9odG1sLWZvcm1hdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9DbGFzc01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvRXJyb3JzLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL1JlbmRlcmluZ0VuZ2luZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9BY2NvcmRpb25CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQWNjb3JkaW9uSXRlbUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9BY2NvcmRpb25JdGVtSGVhZGVyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0JhY2tMaW5rQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0JhZGdlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0JyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0J1dHRvbkJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9DYXJkQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NhcmRCb2R5QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NhcmRGb290ZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ2FyZEhlYWRlckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9DYXJvdXNlbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9DYXJvdXNlbFBhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NlbGxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ2xvc2VXb3JrZmxvd0V4ZWN1dGVkUGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvQ29sdW1uQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NvbmZpcm1Xb3JrZmxvd1BhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0NvbmZpcm1hdGlvblBhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Nvb2tpZUNvbnNlbnRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRGl2QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0VtYWlsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0VtYWlsQ29uZmlybWF0aW9uTGlua0JpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9FbnVtZXJhdGlvbklucHV0QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Vycm9yU3VtbWFyeUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9GYWtlTWVzc2FnZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9GYWtlUGFnZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9GYWtlUXVldWUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRmFrZVN0b3JlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zha2VVc2VyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zha2VXaXphcmRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvRmFrZVdvcmtmbG93QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0Zvcm1CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvSG9yaXpvbnRhbFJ1bGVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvSWNvbkJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9JbWFnZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Jbml0aWF0ZVdvcmtmbG93QnV0dG9uQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0lucHV0QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0luc2V0VGV4dEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9KdW1ib3Ryb25CaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTGlua0JpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9MaXN0QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0xpc3RJdGVtQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL0xvZ2luUGFuZWxCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTG9vcEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9NZW51QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL01lbnVCcmFuZEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9NZW51SXRlbUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9NZXNzYWdlRXhwbG9yZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvTWlsZVN0b25lQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL05vdGlmaWNhdGlvbkJhbm5lckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9QYWdlQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1BhcmFncmFwaEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9QYXNzd29yZFJlc2V0TGlua0JpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Qcm9ncmVzc0JhckJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9SZWdpc3RlclBhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1Jlc2V0UGFzc3dvcmRQYW5lbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9SZXNldFBhc3N3b3JkUmVxdWVzdFBhbmVsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1Jvd0JpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9TY2FsZUJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9TY3JpcHRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvU3BhbkJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9TdWJNZW51QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1N1Yk1lbnVMYWJlbEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9Td2l0Y2hCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVGFibGVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVGl0bGVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVG9vbFRpcEJpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9UcmF5QmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1RyYXlIZWFkZXJCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVXNlckV4cGxvcmVyQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1V1aWRCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvVmFsdWVCaW5kZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvYmluZGluZ3MvV2FybmluZ0JpbmRlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9iaW5kaW5ncy9XZWxsQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL1dpemFyZFRlc3RSZXN1bHRzQmluZGVyLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2JpbmRpbmdzL2luZGV4LnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZmxleC1pdGVtLXN1cHBvcnQudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL1Byb2hpYml0ZWRFcnJvci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL1JlZmVyZW5jZU5vdEZvdW5kRXJyb3IudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9UZW1wbGF0ZUVycm9yLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Cb29sZWFuQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vQ2FwRmlyc3RCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9DYXBpdGFsaXplQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vQ2VpbEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0Nob3BMaW5lYnJlYWtCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9DaHVua0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0NvbnRhaW5zQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRGF0ZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0RhdGV0aW1lQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRHJvcFdoaWxlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vRW5kc1dpdGhCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9FbnN1cmVFbmRzV2l0aEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0Vuc3VyZVN0YXJ0c1dpdGhCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9GaWx0ZXJCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9GaXJzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0Zsb29yQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vSGFzQ29udGVudEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0luZGV4T2ZCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Jc0luZmluaXRlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vSXNOYW5CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Kb2luQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vS2VlcEFmdGVyQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vS2VlcEFmdGVyTGFzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0tlZXBCZWZvcmVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9LZWVwQmVmb3JlTGFzdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xhc3RCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9MYXN0SW5kZXhPZkJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xlZnRQYWRCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9MZW5ndGhCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Mb3dlckFiY0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL0xvd2VyQ2FzZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL01hcEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL01hdGNoZXNCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9NYXhCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9NaW5CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Ob0FyZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL051bWJlckV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL09uZUFyZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1JlbW92ZUJlZ2lubmluZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1JlbW92ZUVuZGluZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1JlcGxhY2VCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9SZXZlcnNlQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vUmlnaHRQYWRCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Sb3VuZEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1NlcUNvbnRhaW5zQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU2VxSW5kZXhPZkJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1NlcUxhc3RJbmRleE9mQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vU2l6ZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1NvcnRCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9Tb3J0QnlCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9TcGxpdEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1N0YXJ0c1dpdGhCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9TdHJpbmdCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9UYWtlV2hpbGVCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9UaGVuQnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vVGltZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1RyaW1CdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9UcnVuY2F0ZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1R3b0FyZ0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1VuY2FwRmlyc3RCdWlsdGluLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvYnVpbHRpbi9VcHBlckFiY0J1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1VwcGVyQ2FzZUJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1VybEJ1aWx0aW4udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9idWlsdGluL1dvcmRMaXN0QnVpbHRpbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2J1aWx0aW4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uLWVuZ2luZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vQWRkQW5kQXNzaWduRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vQWRkaXRpb25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9BbmNpbGxhcnlFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9BbmRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Bc3NpZ25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9CaW5hcnlFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9DYWxsQnVpbHRpbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0NhbGxNZXRob2RFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Db21wb3NpbmdFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9EZWNyZW1lbnRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9EZWZhdWx0RXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vRGVyZWZlcmVuY2VFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9EaXZpZGVBbmRBc3NpZ25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9EaXZpc2lvbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0VxdWFsRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vRmFsc2VFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9HcmVhdGVyVGhhbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0dyZWF0ZXJUaGFuT3JFcXVhbEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0hhc2hFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9JbmNyZW1lbnRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Jc0RlZmluZWRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9MYW1iZGFFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9MZXNzVGhhbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL0xlc3NUaGFuT3JFcXVhbEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL01vZHVsdXNBbmRBc3NpZ25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Nb2R1bHVzRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vTXVsdGlwbGljYXRpb25FeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9NdWx0aXBseUFuZEFzc2lnbkV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL05lZ2F0aXZlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vTm90RXF1YWxFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9Ob3RFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9OdW1iZXJFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9PckV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1BhcmVudGhlc2lzRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vUG9zaXRpdmVFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9SYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1JhbmdlSW5jbHVzaXZlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9SYW5nZUxlbmd0aEluY3JlbWVudEV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1JhbmdlU3RhcnRpbmdFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9SZWZlcmVuY2VFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi9TZXF1ZW5jZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1NsaWNlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vU3RyaW5nRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vU3Vic3RyYWN0QW5kQXNzaWduRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vU3Vic3RyYWN0aW9uRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL2V4cHJlc3Npb24vVHJ1ZUV4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci9leHByZXNzaW9uL1ZhbHVlLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi90b2tlbml6ZS50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL3RlbXBsYXRlL0xleGljYWxUb2tlbi50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9mcmVlbWFya2VyL3RlbXBsYXRlL0xleGljYWxUb2tlblR5cGUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvZnJlZW1hcmtlci90ZW1wbGF0ZS9sZXhlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9pbmRleC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9wYXJzZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvcHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9NZXNzYWdlLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3N0b3JlL1BhZ2UudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvc3RvcmUvUXVldWUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvc3RvcmUvU3RvcmUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvc3RvcmUvVXNlci50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi9zdG9yZS9XaXphcmQudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvc3RvcmUvV29ya2Zsb3cudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdGV4dC1zdHlsZS1zdXBwb3J0LnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3V0aWxpdGllcy9TdHJpbmdCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2dlbmVyYXRlLWlkLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3V0aWxpdGllcy9pc0FscGhhYmV0aWMudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2lzQWxwaGFudW1lcmljLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3V0aWxpdGllcy9pc0RhdGUudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9saWIvdXRpbGl0aWVzL2lzSGFzaC50cyIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC8uL2xpYi91dGlsaXRpZXMvaXNOdW1lcmljLnRzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0Ly4vbGliL3V0aWxpdGllcy9pc1doaXRlc3BhY2UudHMiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNoaWxkX3Byb2Nlc3NcIiIsIndlYnBhY2s6Ly9tYXRlcmlhbHMtdG9vbGtpdC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZXZlbnRzXCIiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm5vZGU6cGF0aFwiIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvLi9ub2RlX21vZHVsZXMvY29tbWFuZGVyL2luZGV4LmpzIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0L3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vbWF0ZXJpYWxzLXRvb2xraXQvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL21hdGVyaWFscy10b29sa2l0L3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0YWdOYW1lID0gU3RyaW5nLnJhd2BbQS1aYS16XVteL1xccz5dKmA7XG5cbi8vIFByZXNlcnZlIHN0cmluZ3MgaW4gdGVtcGxhdGVzIGFuZCBzdWNoXG4vLyBBdm9pZCBhcG9zdHJvcGhlcyBhbmQgdW5pbnRlbnRpb25hbCBjYXB0dXJlc1xuY29uc3QgZG91YmxlUXVvdGVkU3RyaW5nID0gU3RyaW5nLnJhd2AoPzwhXFx3KVwiKD86XFxcXFtePD5cXG5dfFteXFxcXFwiPD5cXG5dKSpcIig/IVxcdylgO1xuY29uc3Qgc2luZ2xlUXVvdGVkU3RyaW5nID0gU3RyaW5nLnJhd2AoPzwhXFx3KScoPzpcXFxcW148Plxcbl18W15cXFxcJzw+XFxuXSkqJyg/IVxcdylgO1xuY29uc3QgcXVvdGVkU3RyaW5nID0gU3RyaW5nLnJhd2Ake2RvdWJsZVF1b3RlZFN0cmluZ318JHtzaW5nbGVRdW90ZWRTdHJpbmd9YDtcblxuY29uc3QgcXVvdGVkQXR0clZhbHVlID0gU3RyaW5nLnJhd2BcIig/PHF1b3RlZEF0dHJWYWx1ZT5bXlwiXSopXCJgO1xuY29uc3Qgc2luZ2xlUXVvdGVkQXR0clZhbHVlID0gU3RyaW5nLnJhd2AnKD88c2luZ2xlUXVvdGVkQXR0clZhbHVlPlteJ10qKSdgO1xuLy8gaHR0cHM6Ly9tb3RoZXJlZmYuaW4vdW5xdW90ZWQtYXR0cmlidXRlc1xuY29uc3QgdW5xdW90ZWRBdHRyVmFsdWUgPSBTdHJpbmcucmF3YCg/PHVucXVvdGVkQXR0clZhbHVlPlteXFxzXCInXFxgPTw+XSspYDtcblxuY29uc3QgYXR0ck5hbWUgPSBTdHJpbmcucmF3YFtePVxccz4vXCInXSsoPz1bPT5cXHNdfCQpYDtcbmNvbnN0IGF0dHJWYWx1ZSA9IFN0cmluZy5yYXdgJHtxdW90ZWRBdHRyVmFsdWV9fCR7c2luZ2xlUXVvdGVkQXR0clZhbHVlfXwke3VucXVvdGVkQXR0clZhbHVlfWA7XG5jb25zdCBhdHRyTmFtZVZhbHVlID0gU3RyaW5nLnJhd2AoPzxhdHRyTmFtZT4ke2F0dHJOYW1lfSkoPzpcXHMqPVxccyooPzoke2F0dHJWYWx1ZX0pKT9gO1xuXG4vLyBNYWtlIHN1cmUgbm90IHRvIHN3YWxsb3cgdGhlIGNsb3Npbmcgc2xhc2ggaWYgb25lIGV4aXN0c1xuY29uc3QgYXR0clRleHQgPSBTdHJpbmcucmF3YCR7cXVvdGVkU3RyaW5nfXxbXlxccz5dKlteXFxzPi9dfFteXFxzPl0qLyg/IVxccyo+KWA7XG5cbmNvbnN0IGF0dHIgPSBTdHJpbmcucmF3YCg/PGF0dHJTcGFjZT5cXHMqKSg/OiR7YXR0ck5hbWVWYWx1ZX18KD88YXR0clRleHQ+JHthdHRyVGV4dH0pKWA7XG5cbmNvbnN0IHRva2VucyA9IHtcbiAgY29tbWVudDogU3RyaW5nLnJhd2A8IS0tLio/LS0+YCxcbiAgZHRkOiBTdHJpbmcucmF3YDwhW14+XSs+YCxcbiAgc3RhcnRUYWc6IFN0cmluZy5yYXdgPCg/PHN0YXJ0VGFnTmFtZT4ke3RhZ05hbWV9KSg/PGF0dHJzPig/OiR7YXR0cn0pKilcXHMqKD88Y2xvc2luZ1NsYXNoPi8/KVxccyo+YCxcbiAgZW5kVGFnOiBTdHJpbmcucmF3YDwvKD88ZW5kVGFnTmFtZT4ke3RhZ05hbWV9KVxccyo+YCxcbiAgc3BhY2U6IFN0cmluZy5yYXdgXFxzK2AsXG4gIHRleHQ6IFN0cmluZy5yYXdgW148XFxzXCInXSt8JHtxdW90ZWRTdHJpbmd9fFsnXCJdYCxcbiAgd2lsZGNhcmQ6IFN0cmluZy5yYXdgLmAsXG59O1xuXG5jb25zdCBncmFtbWFyID0gT2JqZWN0LmVudHJpZXModG9rZW5zKVxuICAubWFwKChbaywgdl0pID0+IGAoPzwke2t9PiR7dn0pYClcbiAgLmpvaW4oXCJ8XCIpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gbGV4ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKi9cbmZ1bmN0aW9uKiBnZXRUb2tlbnMobGV4ZXIsIHMpIHtcbiAgbGV0IHJlcztcbiAgbGV0IHsgbGFzdEluZGV4IH0gPSBsZXhlcjtcbiAgd2hpbGUgKChyZXMgPSBsZXhlci5leGVjKHMpKSkge1xuICAgIHlpZWxkIC8qKiBAdHlwZSB7UmVnRXhwRXhlY0FycmF5ICYgeyBncm91cHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfX0gKi8gKFxuICAgICAgcmVzXG4gICAgKTtcbiAgICAoeyBsYXN0SW5kZXggfSA9IGxleGVyKTtcbiAgfVxuICBpZiAobGFzdEluZGV4ICE9IHMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2Ugc3RyaW5nXCIpO1xufVxuXG5jb25zdCB2b2lkVGFncyA9IG5ldyBTZXQoW1xuICBcImFyZWFcIixcbiAgXCJiYXNlXCIsXG4gIFwiYmFzZWZvbnRcIixcbiAgXCJiZ3NvdW5kXCIsXG4gIFwiYnJcIixcbiAgXCJjb2xcIixcbiAgXCJjb21tYW5kXCIsXG4gIFwiZW1iZWRcIixcbiAgXCJmcmFtZVwiLFxuICBcImhyXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJpbWdcIixcbiAgXCJpbnB1dFwiLFxuICBcImtleWdlblwiLFxuICBcImxpbmtcIixcbiAgXCJtZXRhXCIsXG4gIFwicGFyYW1cIixcbiAgXCJzb3VyY2VcIixcbiAgXCJ0cmFja1wiLFxuICBcIndiclwiLFxuXSk7XG5cbmZ1bmN0aW9uIGZvcm1hdCgvKiogQHR5cGUge3N0cmluZ30gKi8gaHRtbCwgaW5kZW50ID0gXCIgIFwiLCB3aWR0aCA9IDgwKSB7XG4gIGNvbnN0IGxleGVyID0gbmV3IFJlZ0V4cChncmFtbWFyLCBcImd5c1wiKTtcbiAgY29uc3QgYXR0ckxleGVyID0gbmV3IFJlZ0V4cChhdHRyLCBcImd5XCIpO1xuXG4gIC8qKiBAdHlwZSB7c3RyaW5nW119ICovXG4gIGNvbnN0IG91dHB1dCA9IFtdO1xuXG4gIC8qKiBAdHlwZSB7c3RyaW5nIHwgbnVsbH0gKi9cbiAgbGV0IHNwZWNpYWxFbGVtZW50ID0gbnVsbDtcbiAgbGV0IGxldmVsID0gMDtcblxuICBsZXQgbGluZUxlbmd0aCA9IDA7XG4gIGxldCBzcGFuID0gXCJcIjtcbiAgbGV0IHNwYW5MZXZlbCA9IDA7XG4gIGxldCBsYXN0U3BhY2UgPSBcIlwiO1xuXG4gIGNvbnN0IGZsdXNoT3V0cHV0ID0gKCkgPT4ge1xuICAgIGlmIChsYXN0U3BhY2UgJiYgbGFzdFNwYWNlICE9IFwiXFxuXCIpIHtcbiAgICAgIGNvbnN0IG5ld2xpbmUgPSBzcGFuLmluZGV4T2YoXCJcXG5cIik7XG4gICAgICBjb25zdCBsZW4gPSBuZXdsaW5lID09IC0xID8gc3Bhbi5sZW5ndGggOiBuZXdsaW5lO1xuICAgICAgaWYgKGxpbmVMZW5ndGggKyBsYXN0U3BhY2UubGVuZ3RoICsgbGVuID4gd2lkdGgpIGxhc3RTcGFjZSA9IFwiXFxuXCI7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kID0gbGFzdFNwYWNlID09IFwiXFxuXCIgJiYgc3BhbiA/IGluZGVudC5yZXBlYXQoc3BhbkxldmVsKSA6IFwiXCI7XG4gICAgY29uc3Qgb3V0ID0gYCR7bGFzdFNwYWNlfSR7aW5kfSR7c3Bhbn1gO1xuXG4gICAgaWYgKG91dCkge1xuICAgICAgY29uc3QgcG9zID0gb3V0Lmxhc3RJbmRleE9mKFwiXFxuXCIpO1xuICAgICAgaWYgKHBvcyA9PSAtMSkgbGluZUxlbmd0aCArPSBvdXQubGVuZ3RoO1xuICAgICAgZWxzZSBsaW5lTGVuZ3RoID0gb3V0Lmxlbmd0aCAtIHBvcyAtIDE7XG4gICAgICBvdXRwdXQucHVzaChvdXQpO1xuICAgIH1cblxuICAgIHNwYW4gPSBsYXN0U3BhY2UgPSBcIlwiO1xuICB9O1xuXG4gIGNvbnN0IGFkZE91dHB1dCA9ICgvKiogQHR5cGUge3N0cmluZ1tdfSAqLyAuLi5hcmdzKSA9PiB7XG4gICAgZm9yIChjb25zdCBzIG9mIGFyZ3MpIHtcbiAgICAgIGlmICghc3BlY2lhbEVsZW1lbnQgJiYgL15cXHMrJC8udGVzdChzKSkge1xuICAgICAgICBmbHVzaE91dHB1dCgpO1xuICAgICAgICBsYXN0U3BhY2UgPSBzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFzcGFuKSBzcGFuTGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgc3BhbiArPSBzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmb3IgKGNvbnN0IHRva2VuIG9mIGdldFRva2VucyhsZXhlciwgaHRtbCkpIHtcbiAgICAvLyBGb3IgdGVzdGluZ1xuICAgIGlmICgvKiogQHR5cGUge2FueX0gKi8gKGZvcm1hdCkuX19zdHJpY3QgJiYgdG9rZW4uZ3JvdXBzLndpbGRjYXJkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCB3aWxkY2FyZFwiKTtcblxuICAgIGlmICh0b2tlbi5ncm91cHMuZW5kVGFnKSB7XG4gICAgICBjb25zdCB0YWdOYW1lID0gdG9rZW4uZ3JvdXBzLmVuZFRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0YWdOYW1lID09IHNwZWNpYWxFbGVtZW50KSBzcGVjaWFsRWxlbWVudCA9IG51bGw7XG4gICAgICBpZiAoIXNwZWNpYWxFbGVtZW50KSB7XG4gICAgICAgIC0tbGV2ZWw7XG4gICAgICAgIGFkZE91dHB1dChgPC8ke3RhZ05hbWV9PmApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc3BlY2lhbEVsZW1lbnQpIHtcbiAgICAgIGlmICh0b2tlbi5ncm91cHMuc3BhY2UpIHtcbiAgICAgICAgYWRkT3V0cHV0KC4uLih0b2tlblswXS5tYXRjaCgvXFxuL2cpPy5zbGljZSgwLCAyKSA/PyBbXCIgXCJdKSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0b2tlbi5ncm91cHMuY29tbWVudCB8fFxuICAgICAgICB0b2tlbi5ncm91cHMuZHRkIHx8XG4gICAgICAgIHRva2VuLmdyb3Vwcy50ZXh0IHx8XG4gICAgICAgIHRva2VuLmdyb3Vwcy53aWxkY2FyZFxuICAgICAgKSB7XG4gICAgICAgIGFkZE91dHB1dCh0b2tlblswXSk7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuLmdyb3Vwcy5zdGFydFRhZykge1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gdG9rZW4uZ3JvdXBzLnN0YXJ0VGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGFkZE91dHB1dChgPCR7dGFnTmFtZX1gKTtcblxuICAgICAgICArK2xldmVsO1xuXG4gICAgICAgIGlmICh0b2tlbi5ncm91cHMuYXR0cnMpIHtcbiAgICAgICAgICBsZXQgeyBsYXN0SW5kZXggfSA9IGF0dHJMZXhlcjtcbiAgICAgICAgICBsZXQgYXR0clRva2VuO1xuICAgICAgICAgIGxldCBsYXN0VG9rZW47XG4gICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgKGF0dHJUb2tlbiA9XG4gICAgICAgICAgICAgIC8qKiBAdHlwZSB7UmVnRXhwRXhlY0FycmF5ICYgeyBncm91cHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfX0gKi8gKFxuICAgICAgICAgICAgICAgIGF0dHJMZXhlci5leGVjKHRva2VuLmdyb3Vwcy5hdHRycylcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgICh7IGxhc3RJbmRleCB9ID0gYXR0ckxleGVyKTtcblxuICAgICAgICAgICAgLy8gRm9yIHRlc3RpbmdcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgLyoqIEB0eXBlIHthbnl9ICovIChmb3JtYXQpLl9fc3RyaWN0ICYmXG4gICAgICAgICAgICAgIGF0dHJUb2tlbi5ncm91cHMuYXR0clRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBhdHRyIHRleHRcIik7XG5cbiAgICAgICAgICAgIGlmIChhdHRyVG9rZW4uZ3JvdXBzLmF0dHJUZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChhdHRyVG9rZW4uZ3JvdXBzLmF0dHJTcGFjZSlcbiAgICAgICAgICAgICAgICBhZGRPdXRwdXQoL1xcbi8udGVzdChhdHRyVG9rZW4uZ3JvdXBzLmF0dHJTcGFjZSkgPyBcIlxcblwiIDogXCIgXCIpO1xuICAgICAgICAgICAgICBhZGRPdXRwdXQoYXR0clRva2VuLmdyb3Vwcy5hdHRyVGV4dCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoYXR0clRva2VuLmdyb3Vwcy5hdHRyU3BhY2UgfHwgIWxhc3RUb2tlbj8uZ3JvdXBzLmF0dHJUZXh0KVxuICAgICAgICAgICAgICAgIGFkZE91dHB1dCgvXFxuLy50ZXN0KGF0dHJUb2tlbi5ncm91cHMuYXR0clNwYWNlKSA/IFwiXFxuXCIgOiBcIiBcIik7XG4gICAgICAgICAgICAgIGFkZE91dHB1dChcbiAgICAgICAgICAgICAgICBgJHthdHRyVG9rZW4uZ3JvdXBzLmF0dHJOYW1lfSR7XG4gICAgICAgICAgICAgICAgICBhdHRyVG9rZW4uZ3JvdXBzLnF1b3RlZEF0dHJWYWx1ZVxuICAgICAgICAgICAgICAgICAgICA/IGA9XCIke2F0dHJUb2tlbi5ncm91cHMucXVvdGVkQXR0clZhbHVlfVwiYFxuICAgICAgICAgICAgICAgICAgICA6IGF0dHJUb2tlbi5ncm91cHMuc2luZ2xlUXVvdGVkQXR0clZhbHVlXG4gICAgICAgICAgICAgICAgICAgID8gYD0nJHthdHRyVG9rZW4uZ3JvdXBzLnNpbmdsZVF1b3RlZEF0dHJWYWx1ZX0nYFxuICAgICAgICAgICAgICAgICAgICA6IGF0dHJUb2tlbi5ncm91cHMudW5xdW90ZWRBdHRyVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyBgPSR7YXR0clRva2VuLmdyb3Vwcy51bnF1b3RlZEF0dHJWYWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICAgIH1gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhc3RUb2tlbiA9IGF0dHJUb2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGxhc3RJbmRleCAhPSB0b2tlbi5ncm91cHMuYXR0cnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGF0dHJpYnV0ZXNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNDbG9zaW5nU2xhc2ggPSBCb29sZWFuKHRva2VuLmdyb3Vwcy5jbG9zaW5nU2xhc2gpO1xuXG4gICAgICAgIGFkZE91dHB1dChoYXNDbG9zaW5nU2xhc2ggPyBcIiAvPlwiIDogXCI+XCIpO1xuXG4gICAgICAgIGlmIChoYXNDbG9zaW5nU2xhc2ggfHwgdm9pZFRhZ3MuaGFzKHRhZ05hbWUpKSAtLWxldmVsO1xuICAgICAgICBlbHNlIGlmIChbXCJwcmVcIiwgXCJ0ZXh0YXJlYVwiLCBcInNjcmlwdFwiLCBcInN0eWxlXCJdLmluY2x1ZGVzKHRhZ05hbWUpKVxuICAgICAgICAgIHNwZWNpYWxFbGVtZW50ID0gdGFnTmFtZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgYWRkT3V0cHV0KHRva2VuWzBdKTtcbiAgfVxuXG4gIC8vIEZsdXNoIHJlbWFpbmluZyBvdXRwdXRcbiAgZmx1c2hPdXRwdXQoKTtcblxuICBsZXQgbmV3bGluZSA9IGZhbHNlO1xuICB3aGlsZSAoL15cXHMrJC8udGVzdChvdXRwdXRbb3V0cHV0Lmxlbmd0aCAtIDFdKSkge1xuICAgIGNvbnN0IGxhc3QgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG91dHB1dC5wb3AoKSk7XG4gICAgaWYgKC9cXG4vLnRlc3QobGFzdCkpIG5ld2xpbmUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5ld2xpbmUpIG91dHB1dC5wdXNoKFwiXFxuXCIpO1xuXG4gIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbn1cblxuZm9ybWF0LmRlZmF1bHQgPSBmb3JtYXQ7XG5tb2R1bGUuZXhwb3J0cyA9IGZvcm1hdDtcbiIsImltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGFzc01hbmFnZXIge1xuXG4gICAgcHJpdmF0ZSBjbGFzc2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzKSB7XG4gICAgfVxuXG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICBsZXQgbGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzdHIgb2YgdGhpcy5jbGFzc2VzKSB7XG4gICAgICAgICAgICBjb25zdCBhY3R1YWwgPSBzdHIudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGFjdHVhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQoXCIgXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJzdGl0dXRlID0gdGhpcy5jbGFzc01hcHBpbmdzLmdldChhY3R1YWwpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzdGl0dXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQoc3Vic3RpdHV0ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChhY3R1YWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgYXBwZW5kKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQsIHByZWZpeDogc3RyaW5nLCBkZWY6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNsYXNzZXMucHVzaCh2YWx1ZSA/IHByZWZpeCArIHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogZGVmKTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEVycm9ycyB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVycm9yczogT2JqZWN0RXJyb3JbXSA9IFtdKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGhhc0Vycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aCAhPT0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QWxsRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVycm9yQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdsb2JhbEVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmluZChlcnIgPT4gIShlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdsb2JhbEVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gIShlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhc0dsb2JhbEVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gIShlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yKSkubGVuZ3RoICE9PSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHbG9iYWxFcnJvcnNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gIShlcnIgaW5zdGFuY2VvZiBGaWVsZEVycm9yKSkubGVuZ3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZEVycm9yKG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCk6IEZpZWxkRXJyb3IgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmluZChlcnIgPT4gZXJyIGluc3RhbmNlb2YgRmllbGRFcnJvciAmJiAobmFtZSA9PT0gdW5kZWZpbmVkIHx8IGVyci5nZXRGaWVsZCgpID09PSBuYW1lKSkgYXMgRmllbGRFcnJvciB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RmllbGRFcnJvcnMobmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maWx0ZXIoZXJyID0+IGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IgJiYgKG5hbWUgPT09IHVuZGVmaW5lZCB8fCBlcnIuZ2V0RmllbGQoKSA9PT0gbmFtZSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYXNGaWVsZEVycm9ycyhuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbHRlcihlcnIgPT4gZXJyIGluc3RhbmNlb2YgRmllbGRFcnJvciAmJiAobmFtZSA9PT0gdW5kZWZpbmVkIHx8IGVyci5nZXRGaWVsZCgpID09PSBuYW1lKSkubGVuZ3RoICE9PSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaWVsZEVycm9yQ291bnQobmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maWx0ZXIoZXJyID0+IGVyciBpbnN0YW5jZW9mIEZpZWxkRXJyb3IgJiYgKG5hbWUgPT09IHVuZGVmaW5lZCB8fCBlcnIuZ2V0RmllbGQoKSA9PT0gbmFtZSkpLmxlbmd0aDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPYmplY3RFcnJvciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBvYmplY3ROYW1lOiBzdHJpbmcsIHByaXZhdGUgZGVmYXVsdE1lc3NhZ2U6IHN0cmluZykge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPYmplY3ROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3ROYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREZWZhdWx0TWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdE1lc3NhZ2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmllbGRFcnJvciBleHRlbmRzIE9iamVjdEVycm9yIHtcblxuICAgIGNvbnN0cnVjdG9yKG9iamVjdE5hbWU6IHN0cmluZywgcHJpdmF0ZSBmaWVsZDogc3RyaW5nLCBwcml2YXRlIHJlamVjdGVkVmFsdWU6IGFueSwgZGVmYXVsdE1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgICBzdXBlcihvYmplY3ROYW1lLCBkZWZhdWx0TWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVqZWN0ZWRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVqZWN0ZWRWYWx1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQsIGlzVGV4dCB9IGZyb20gJy4vcGFyc2VyJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCB7IGZpbmRCaW5kZXIgfSBmcm9tICcuL2JpbmRpbmdzJztcbmltcG9ydCB7IEZyZWVtYXJrZXJFcnJvciB9IGZyb20gJy4vZnJlZW1hcmtlci9GcmVlbWFya2VyRXJyb3InO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5pbXBvcnQgeyBUZW1wbGF0ZUVuZ2luZSB9IGZyb20gJy4vZnJlZW1hcmtlcic7XG5cbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmluZ0VuZ2luZSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBmaWxlOiBzdHJpbmcsIHByaXZhdGUgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcHJpdmF0ZSBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwcml2YXRlIGRpcjogc3RyaW5nKSB7XG5cbiAgICB9XG5cbiAgICByZW5kZXJFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHBhcmVudD86IEVsZW1lbnQpIHtcblxuICAgICAgICBpZiAoIWVsZW1lbnQuYXR0cmlidXRlcy5pZCl7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuaWQgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiaW5kZXIgPSBmaW5kQmluZGVyKGVsZW1lbnQubmFtZSk7XG4gICAgICAgIGlmIChiaW5kZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZyZWVtYXJrZXJFcnJvcihcIk5vIGJpbmRpbmcgZm91bmQgZm9yIFwiICsgZWxlbWVudC5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiaW5kZXIucmVuZGVyKGVsZW1lbnQsIHRoaXMuY2xhc3NNYXBwaW5ncywgdGhpcywgdGhpcy5zdWJzdGl0dXRpb25zLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIHJlbmRlckNoaWxkcmVuKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQoY2hpbGQudGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZCh0aGlzLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb250ZW50LnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHRlbXBsYXRlTmFtZTogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgdGhpcy5kaXIsICdwYXJ0aWFscycsIHRlbXBsYXRlTmFtZSksICd1dGY4Jyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVFbmdpbmUoKS5yZW5kZXIodGVtcGxhdGUsIGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGcmVlbWFya2VyRXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZnRsIHRlbXBsYXRlICcke3RlbXBsYXRlTmFtZX0nYCwgZXJyIGFzIEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3JkaW9uQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdhY2NvcmRpb24nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmZsdXNoID0gZWxlbWVudC5hdHRyaWJ1dGVzLmZsdXNoID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdhY2NvcmRpb24uZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQsIGlzVGV4dCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3JkaW9uSXRlbUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnYWNjb3JkaW9uLWl0ZW0nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG5cbiAgICAgICAgZGF0YS5hY3RpdmUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuYWN0aXZlID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5zaW5nbGVBY3RpdmUgPSBwYXJlbnQ/LmF0dHJpYnV0ZXMuc2luZ2xlQWN0aXZlID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5hY2NvcmRpb25JZCA9IHBhcmVudD8uYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG5cblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGVsZW1lbnQuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBpZiAoaXNUZXh0KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmQoY2hpbGQudGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PT0gJ2FjY29yZGlvbi1pdGVtLWhlYWRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5oZWFkZXIgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChyZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGF0YS5jb250ZW50ID0gb3V0cHV0LnRvU3RyaW5nKCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuYmFja2dyb3VuZEZsYXZvdXIsICdiZy0nLCAnJyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2FjY29yZGlvbi1pdGVtLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3JkaW9uSXRlbUhlYWRlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnYWNjb3JkaW9uLWl0ZW0taGVhZGVyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUsIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHBhcmVudDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gcGFyZW50IS5hdHRyaWJ1dGVzLmlkO1xuXG4gICAgICAgIGRhdGEuYWN0aXZlID0gcGFyZW50Py5hdHRyaWJ1dGVzLmFjdGl2ZSA9PT0gXCJ0cnVlXCI7XG5cbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2FjY29yZGlvbi1pdGVtLWhlYWRlci5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFja0xpbmtCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2JhY2stbGluayc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuYmFja0xpbmtPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdiYWNrLWxpbmsuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhZGdlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdiYWRnZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuc2l6ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaXplO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ2JhZGdlLScsICdiYWRnZS1kZWZhdWx0Jyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignYmFkZ2UuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2JyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignYnIuZnRsJywge30pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbkJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnYnV0dG9uJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEub25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5uYW1lID0gXCJfTkFNRV9cIjtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5zaXplLCAnYnRuLScsICcnKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuYnV0dG9uRmxhdm91ciwgJ2J0bi0nLCAnYnRuLWRlZmF1bHQnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdidXR0b24uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCwgaXNFbGVtZW50LCBpc1RleHQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjYXJkJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuXG4gICAgICAgIGRhdGEuaXNMaW5rID0gISFlbGVtZW50LmF0dHJpYnV0ZXMubGluaztcbiAgICAgICAgY29uc3QgcHJlc2VydmVMaW5rID0gZWxlbWVudC5hdHRyaWJ1dGVzLnByZXNlcnZlTGluayA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEubGluayA9IHByZXNlcnZlTGluayA/ICcvJyArIGVsZW1lbnQuYXR0cmlidXRlcy52aWV3IDogJ2phdmFzY3JpcHQ6YWxlcnQoJnF1b3Q7bGluayB3YXMgY2xpY2tlZCZxdW90Oyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JztcbiAgICAgICAgZGF0YS5yZWwgPSAnJztcbiAgICAgICAgZGF0YS50YXJnZXQgPSAnJztcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgIGVsZW1lbnQuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBpZiAoaXNUZXh0KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmQoY2hpbGQudGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PT0gJ2NhcmQtaGVhZGVyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmhlYWRlckNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC5uYW1lID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaW1hZ2VDb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQubmFtZSA9PT0gJ2NhcmQtYm9keScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5ib2R5Q29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLm5hbWUgPT09ICdjYXJkLWZvb3RlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mb290ZXJDb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ2NhcmQtJywgJ2NhcmQtZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2FyZC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkQm9keUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY2FyZC1ib2R5JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2NhcmQtYm9keS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRGb290ZXJCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2NhcmQtZm9vdGVyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2NhcmQtZm9vdGVyLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZEhlYWRlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY2FyZC1oZWFkZXInO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2FyZC1oZWFkZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjYXJvdXNlbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBwYW5lbHMgPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKVxuICAgICAgICAgICAgLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KVxuICAgICAgICAgICAgLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSAnY2Fyb3VzZWwtcGFuZWwnKTtcblxuICAgICAgICBsZXQgYWN0aXZlSW5kZXggPSBwYW5lbHMuZmluZEluZGV4KGVsID0+IGVsLmF0dHJpYnV0ZXMuYWN0aXZlID09PSBcInRydWVcIik7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ID09PSAtMSAmJiBwYW5lbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYW5lbHNbMF0uYXR0cmlidXRlcy5hY3RpdmUgPSBcInRydWVcIjtcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgICAgICBkYXRhLmF1dG9TbGlkZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5hdXRvU2xpZGUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLmNvbnRyb2xzID0gZWxlbWVudC5hdHRyaWJ1dGVzLmNvbnRyb2xzID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5pbmRpY2F0b3JzID0gZWxlbWVudC5hdHRyaWJ1dGVzLmluZGljYXRvcnMgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLm51bWJlck9mSW5kaWNhdG9ycyA9IHBhbmVscy5sZW5ndGg7XG4gICAgICAgIGRhdGEuYWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleCB8fCAwO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjYXJvdXNlbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsUGFuZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Nhcm91c2VsLXBhbmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUsIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHBhcmVudDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEuYWN0aXZlID0gZWxlbWVudC5hdHRyaWJ1dGVzLmFjdGl2ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEuaW50ZXJ2YWwgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaW50ZXJ2YWw7XG4gICAgICAgIGRhdGEuc3JjID0gXCIvcHVibGljL2ltZy9cIiArIGVsZW1lbnQuYXR0cmlidXRlcy5zcmM7XG4gICAgICAgIGRhdGEuY2Fyb3VzZWxJZCA9IHBhcmVudD8uYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5pbWFnZUNsYXNzZXMgPSBjbGFzc01hcHBpbmdzLmdldChcImNhcm91c2VsLWltYWdlXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2Nhcm91c2VsLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2VsbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnY2VsbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjZWxsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgRXJyb3JzLCBGaWVsZEVycm9yIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsb3NlV29ya2Zsb3dFeGVjdXRlZFBhbmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjbG9zZS13b3JrZmxvdy1leGVjdXRlZC1wYW5lbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5lcnJvcnMgPSBuZXcgRXJyb3JzKFtcbiAgICAgICAgICAgIG5ldyBGaWVsZEVycm9yKFwidGhpc1wiLCBcInVzZXJuYW1lXCIsIFwiXCIsIFwiSW52YWxpZCB1c2VybmFtZSBzdXBwbGllZFwiKVxuICAgICAgICBdKTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS53b3JrZmxvdyA9IFwid29ya2Zsb3c6MVwiO1xuICAgICAgICBkYXRhLnByaW5jaXBhbCA9IFwibXJfdXNlcm5hbWVcIjtcblxuICAgICAgICBkYXRhLmNsb3NlT25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY2xvc2Utd29ya2Zsb3ctZXhlY3V0ZWQtcGFuZWwuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sdW1uQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjb2x1bW4nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjb2x1bW4uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgRXJyb3JzLCBGaWVsZEVycm9yIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpcm1Xb3JrZmxvd1BhbmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjb25maXJtLXdvcmtmbG93LXBhbmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmVycm9ycyA9IG5ldyBFcnJvcnMoW1xuICAgICAgICAgICAgbmV3IEZpZWxkRXJyb3IoXCJ0aGlzXCIsIFwidXNlcm5hbWVcIiwgXCJcIiwgXCJJbnZhbGlkIHVzZXJuYW1lIHN1cHBsaWVkXCIpXG4gICAgICAgIF0pO1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLndvcmtmbG93ID0gXCJ3b3JrZmxvdzoxXCI7XG4gICAgICAgIGRhdGEucHJpbmNpcGFsID0gXCJtcl91c2VybmFtZVwiO1xuXG4gICAgICAgIGRhdGEuY29uZmlybU9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEuY2FuY2VsT25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY29uZmlybS13b3JrZmxvdy1wYW5lbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgZ2VuZXJhdGVJZCBmcm9tICcuLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpcm1hdGlvblBhbmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdjb25maXJtYXRpb24tcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuXG4gICAgICAgIGRhdGEuc3VibWl0T25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5jYW5jZWxPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignY29uZmlybWF0aW9uLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvb2tpZUNvbnNlbnRCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Nvb2tpZS1jb25zZW50JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5hbGxvd0Nvb2tpZXNPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLnByaXZhY3lQb2xpY3lPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdjb29raWUtY29uc2VudC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGl2QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdkaXYnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignZGl2LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtYWlsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdlbWFpbCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2VtYWlsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtYWlsQ29uZmlybWF0aW9uTGlua0JpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnZW1haWwtY29uZmlybWF0aW9uLWxpbmsnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGFiZWw7XG4gICAgICAgIGRhdGEubGluayA9ICdqYXZhc2NyaXB0OmFsZXJ0KCZxdW90O2xpbmsgd2FzIGNsaWNrZWQmcXVvdDspOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyc7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdlbWFpbC1jb25maXJtYXRpb24tbGluay5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnVtZXJhdGlvbklucHV0QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdlbnVtZXJhdGlvbi1pbnB1dCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGRhdGEuZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBkYXRhLmxhYmVsID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLnR5cGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMudHlwZTtcbiAgICAgICAgZGF0YS5yZWZlcmVuY2UgPSBlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5zdHlsZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zdHlsZTtcbiAgICAgICAgZGF0YS5jYXJkaW5hbGl0eSA9IGVsZW1lbnQuYXR0cmlidXRlcy5jYXJkaW5hbGl0eTtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBlbGVtZW50LmNoaWxkcmVuXG4gICAgICAgICAgICAuZmlsdGVyKG4gPT4gaXNFbGVtZW50KG4pKVxuICAgICAgICAgICAgLm1hcChuID0+IChuIGFzIEVsZW1lbnQpKVxuICAgICAgICAgICAgLmZpbHRlcihuID0+IG4ubmFtZSA9PT0gJ3ZhbHVlJyk7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQuYXR0cmlidXRlcy5jYXJkaW5hbGl0eSA9PT0gJ01VTFRJUExFX1NFTEVDVCcpIHtcbiAgICAgICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKG4gPT4gbi5hdHRyaWJ1dGVzLmRlZmF1bHQgPT09ICd0cnVlJylcbiAgICAgICAgICAgICAgICAubWFwKG4gPT4gbi5hdHRyaWJ1dGVzLmtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLnZhbHVlID0gdmFsdWVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IG4uYXR0cmlidXRlcy5kZWZhdWx0ID09PSAndHJ1ZScpXG4gICAgICAgICAgICAgICAgLm1hcChuID0+IG4uYXR0cmlidXRlcy5rZXkpXG4gICAgICAgICAgICAgICAgLmZpbmQobiA9PiB0cnVlKSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5wYW5lbHMgPSB2YWx1ZXMuZmluZChuID0+IG4uYXR0cmlidXRlcy5wYW5lbCA9PT0gJ3RydWUnKTtcblxuICAgICAgICBkYXRhLnZhbHVlcyA9IHZhbHVlcy5tYXAodmFsdWUgPT4gKHtcbiAgICAgICAgICAgIGtleTogdmFsdWUuYXR0cmlidXRlcy5rZXksXG4gICAgICAgICAgICBsYWJlbDogdmFsdWUuYXR0cmlidXRlcy5sYWJlbCxcbiAgICAgICAgICAgIHBhbmVsOiByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudCh2YWx1ZSwgZWxlbWVudClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGRhdGEuZXJyb3IgPSBuZXcgRXJyb3IoXCJzb21lIGVycm9yIG1lc3NhZ2VcIik7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2VudW1lcmF0aW9uLWlucHV0LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCB7IEVycm9ycyB9IGZyb20gJy4uL0Vycm9ycyc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVycm9yU3VtbWFyeUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnZXJyb3Itc3VtbWFyeSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycygpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdlcnJvci1zdW1tYXJ5LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vc3RvcmUvTWVzc2FnZSc7XG5pbXBvcnQgZ2VuZXJhdGVJZCBmcm9tICcuLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZha2VNZXNzYWdlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmYWtlLW1lc3NhZ2UnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuYWRkTWVzc2FnZShuZXcgTWVzc2FnZShcbiAgICAgICAgICAgIGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5kYXRlVGltZSxcbiAgICAgICAgICAgIGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5rYXNlSWQsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMud2l6YXJkSWQsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMud29ya2Zsb3dJZCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5ncm91cCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5xdWV1ZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5wcmluY2lwYWwsXG4gICAgICAgICAgICBnZW5lcmF0ZUlkKCksXG4gICAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgICApKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgUGFnZSBmcm9tICcuLi9zdG9yZS9QYWdlJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVBhZ2VCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2UtcGFnZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBTdG9yZS5hZGRQYWdlKG5ldyBQYWdlKFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLm5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudmVyc2lvbixcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5ncm91cCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy50aXRsZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5kZXNjcmlwdGlvbixcbiAgICAgICAgKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBRdWV1ZSBmcm9tICcuLi9zdG9yZS9RdWV1ZSc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVF1ZXVlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmYWtlLXF1ZXVlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIFN0b3JlLmFkZFF1ZXVlKG5ldyBRdWV1ZShcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5uYW1lLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnRpdGxlLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmRlc2NyaXB0aW9uXG4gICAgICAgICkpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVN0b3JlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmYWtlLXN0b3JlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIFN0b3JlLmNsZWFyKCk7XG4gICAgICAgIFN0b3JlLnNldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL3N0b3JlL1VzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZha2VVc2VyQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmYWtlLXVzZXInO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgU3RvcmUuYWRkVXNlcihuZXcgVXNlcihcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy51c2VybmFtZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy50aXRsZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5maXJzdE5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMubGFzdE5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuZW1haWwsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuY29udGFjdE51bWJlcixcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5kYXRlT2ZCaXJ0aCxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy50aW1lem9uZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5ncm91cHMuc3BsaXQoXCI6XCIpLmZpbHRlcihncnAgPT4gZ3JwLnRyaW0oKS5sZW5ndGgpLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnVzZXJEYXRhLFxuICAgICAgICApKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IFdpemFyZCBmcm9tICcuLi9zdG9yZS9XaXphcmQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZha2VXaXphcmRCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2Zha2Utd2l6YXJkJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIFN0b3JlLmFkZFdpemFyZChuZXcgV2l6YXJkKFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLm5hbWUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudmVyc2lvbixcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy50aXRsZSxcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5hY3RpdmUgPT09IFwidHJ1ZVwiLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnJlbGVhc2VkID09PSBcInRydWVcIixcbiAgICAgICAgKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBXb3JrZmxvdyBmcm9tICcuLi9zdG9yZS9Xb3JrZmxvdyc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFrZVdvcmtmbG93QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmYWtlLXdvcmtmbG93JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIFN0b3JlLmFkZFdvcmtmbG93KG5ldyBXb3JrZmxvdyhcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5uYW1lLFxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnZlcnNpb24sXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuZ3JvdXAsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMudGl0bGUsXG4gICAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuZGVzY3JpcHRpb24sXG4gICAgICAgICkpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdmb3JtJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignZm9ybS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvcml6b250YWxSdWxlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdob3Jpem9udGFsLXJ1bGUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdob3Jpem9udGFsLXJ1bGUuZnRsJywge30pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdpY29uJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5uYW1lID0gZWxlbWVudC5hdHRyaWJ1dGVzLm5hbWU7XG4gICAgICAgIGRhdGEuc2l6ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaXplO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICdpY29uLScsICdpY29uLWRlZmF1bHQnKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZSwgJ2ljb24tc2l6ZS0nLCAnaWNvbi1zaXplLW1lZGl1bScpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignaWNvbi5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2ltYWdlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zcmMgPSBcIi9wdWJsaWMvaW1nL1wiICsgZWxlbWVudC5hdHRyaWJ1dGVzLnNyYztcbiAgICAgICAgZGF0YS5hbHQgPSBlbGVtZW50LmF0dHJpYnV0ZXNbJ2FsdCddIHx8ICcnO1xuXG5cbiAgICAgICAgbGV0IGltYWdlU3R5bGVzID0gJyc7XG4gICAgICAgIGlmICgnaW1hZ2VIZWlnaHQnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ2hlaWdodDogJyArIGVsZW1lbnQuYXR0cmlidXRlc1snaW1hZ2VIZWlnaHQnXSArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2ltYWdlV2lkdGgnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ3dpZHRoOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydpbWFnZVdpZHRoJ10gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdwYWRkaW5nJyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGVzICs9ICdwYWRkaW5nOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzWydwYWRkaW5nJ10gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdtYXJnaW4nIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ21hcmdpbjogJyArIGVsZW1lbnQuYXR0cmlidXRlc1snbWFyZ2luJ10gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdib3JkZXInIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ2JvcmRlcjogJyArIGVsZW1lbnQuYXR0cmlidXRlc1snYm9yZGVyJ10gKyAnOyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdib3JkZXJSYWRpdXMnIGluIGVsZW1lbnQuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaW1hZ2VTdHlsZXMgKz0gJ2JvcmRlci1yYWRpdXM6ICcgKyBlbGVtZW50LmF0dHJpYnV0ZXMuYm9yZGVyUmFkaXVzICsgJzsgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnb2JqZWN0Rml0JyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGltYWdlU3R5bGVzICs9ICdvYmplY3QtZml0OiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzLm9iamVjdEZpdCArICc7ICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ29iamVjdC1wb3NpdGlvbicgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnb2JqZWN0LXBvc2l0aW9uOiAnICsgZWxlbWVudC5hdHRyaWJ1dGVzLm9iamVjdFBvc2l0aW9uICsgJzsgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnb3BhY2l0eScgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnb3BhY2l0eTogJyArIGVsZW1lbnQuYXR0cmlidXRlc1snb3BhY2l0eSddICsgJzsgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnYmFja2dyb3VuZCcgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpbWFnZVN0eWxlcyArPSAnYmFja2dyb3VuZDogJyArIGVsZW1lbnQuYXR0cmlidXRlc1snYmFja2dyb3VuZCddICsgJzsgJztcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmltYWdlU3R5bGVzID0gaW1hZ2VTdHlsZXM7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2ltYWdlLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5cbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluaXRpYXRlV29ya2Zsb3dCdXR0b25CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2luaXRpYXRlLXdvcmtmbG93LWJ1dHRvbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEub25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5zaG93Q2FzZVByaW5jaXBhbFBpY2tlciA9IGVsZW1lbnQuYXR0cmlidXRlcy5zaG93Q2FzZVByaW5jaXBhbFBpY2tlciA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIGRhdGEud29ya2Zsb3cgPSBlbGVtZW50LmF0dHJpYnV0ZXMud29ya2Zsb3c7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuYnV0dG9uRmxhdm91ciwgJ2J0bi0nLCAnYnRuLWRlZmF1bHQnKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZSwgJ2J0bi0nLCAnJyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignaW5pdGlhdGUtd29ya2Zsb3ctYnV0dG9uLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2lucHV0JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGRhdGEuZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBkYXRhLmxhYmVsID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLnR5cGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMudHlwZTtcbiAgICAgICAgZGF0YS5yZWZlcmVuY2UgPSBlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlO1xuICAgICAgICBkYXRhLm1pbiA9IGVsZW1lbnQuYXR0cmlidXRlcy5taW47XG4gICAgICAgIGRhdGEubWF4ID0gZWxlbWVudC5hdHRyaWJ1dGVzLm1heDtcbiAgICAgICAgZGF0YS5jb2xzID0gZWxlbWVudC5hdHRyaWJ1dGVzLmNvbHM7XG4gICAgICAgIGRhdGEucm93cyA9IGVsZW1lbnQuYXR0cmlidXRlcy5yb3dzO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5tYXhMZW5ndGggPSBlbGVtZW50LmF0dHJpYnV0ZXMubWF4TGVuZ3RoO1xuICAgICAgICBkYXRhLmN1cnJlbmN5U3ltYm9sID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlucHV0VHlwZSA9PT0gJ0NVUlJFTkNZJyA/ICfCoycgOiBudWxsO1xuICAgICAgICBkYXRhLmVycm9yID0gbmV3IEVycm9yKFwic29tZSBlcnJvciBtZXNzYWdlXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignaW5wdXQuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2V0VGV4dEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnaW5zZXQtdGV4dCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ2luc2V0LXRleHQtJywgJ2luc2V0LXRleHQtZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdpbnNldC10ZXh0LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1ib3Ryb25CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2p1bWJvdHJvbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdqdW1ib3Ryb24uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5cbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmtCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2xpbmsnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICBpZiAoU3RvcmUuaXNUZXN0Q29udGV4dCgpKSB7XG4gICAgICAgICAgICBkYXRhLmxpbmsgPSAnamF2YXNjcmlwdDphbGVydCgmcXVvdDtsaW5rIHdhcyBjbGlja2VkJnF1b3Q7KTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsnO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnZpZXcpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmxpbmsgPSBcIi9cIiArIGVsZW1lbnQuYXR0cmlidXRlcy52aWV3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhLmxpbmsgPSBlbGVtZW50LmF0dHJpYnV0ZXMudXJsO1xuICAgICAgICAgICAgICAgIGRhdGEucmVsID0gXCJub3JlZmVycmVyIG5vb3BlbmVyXCI7XG4gICAgICAgICAgICAgICAgZGF0YS50YXJnZXQgPSBlbGVtZW50LmF0dHJpYnV0ZXMub3Blbk5ld1dpbmRvdyA/IFwiX2JsYW5rXCIgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsaW5rLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdsaXN0JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEubGlzdFN0eWxlID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxpc3RTdHlsZSB8fCBcIkJVTExFVFwiO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2xpc3QuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0SXRlbUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbGlzdC1pdGVtJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5saXN0U3R5bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGlzdFN0eWxlIHx8IFwiQlVMTEVUXCI7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsaXN0LWl0ZW0uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgRXJyb3JzLCBGaWVsZEVycm9yIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW5QYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbG9naW4tcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycyhbXG4gICAgICAgICAgICBuZXcgRmllbGRFcnJvcihcInRoaXNcIiwgXCJ1c2VybmFtZVwiLCBcIlwiLCBcIkludmFsaWQgdXNlcm5hbWUgc3VwcGxpZWRcIilcbiAgICAgICAgXSk7XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEuZW5hYmxlUmVnaXN0cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgZGF0YS5lbmFibGVQcml2YWN5UG9saWN5QWdyZWVtZW50T25Mb2dpbiA9IHRydWU7XG4gICAgICAgIGRhdGEucmVnaXN0ZXJPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLmxvZ2luT25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5mb3Jnb3RQYXNzd29yZE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ2xvZ2luLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgeyBGcmVlbWFya2VyRXJyb3IgfSBmcm9tICcuLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9vcEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbG9vcCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnJlZmVyZW5jZSBpbiBzdWJzdGl0dXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBzdWJzdGl0dXRpb25zW2VsZW1lbnQuYXR0cmlidXRlcy5yZWZlcmVuY2VdLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBFeHBlY3RlZCBhcnJheSBmb3Igc3Vic3RpdHV0aW9uICR7ZWxlbWVudC5hdHRyaWJ1dGVzLnJlZmVyZW5jZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbCkge1xuXG4gICAgICAgICAgICAgICAgc3Vic3RpdHV0aW9uc1snLiddID0geyB2YWx1ZTogdiB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChyZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdsb29wLmZ0bCcsIGRhdGEpKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBObyBzdWJzdGl0dXRpb24gZm91bmQgZm9yIHBsYW50YWluIGV4cHJlc3Npb24gJHtlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dC50b1N0cmluZygpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ21lbnUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKS5tYXAoZWwgPT4gZWwgYXMgRWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgbWVudUJyYW5kID0gY2hpbGRyZW4uZmluZChlbCA9PiBlbC5uYW1lID09PSAnbWVudS1icmFuZCcpO1xuICAgICAgICBsZXQgbWVudUJyYW5kQ29udGVudCA9IG1lbnVCcmFuZCA/IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KG1lbnVCcmFuZCwgZWxlbWVudCkgOiBcIlwiO1xuXG4gICAgICAgIGNvbnN0IG1lbnVJdGVtcyA9IGNoaWxkcmVuLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSAnbWVudS1pdGVtJyk7XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBtZW51SXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kKHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJFbGVtZW50KGNoaWxkLCBlbGVtZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZXhwYW5kID0gXCJcIjtcblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLmF4aXMgPT09ICdIT1JJWk9OVEFMJykge1xuICAgICAgICAgICAgaWYgKG1lbnVJdGVtcy5sZW5ndGggPiA1KSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kID0gXCJuYXZiYXItZXhwYW5kLWxnXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lbnVJdGVtcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kID0gXCJuYXZiYXItZXhwYW5kLW1kXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cGFuZCA9IFwibmF2YmFyLWV4cGFuZC1zbVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEubWVudUJyYW5kID0gbWVudUJyYW5kQ29udGVudDtcbiAgICAgICAgZGF0YS5heGlzID0gZWxlbWVudC5hdHRyaWJ1dGVzLmF4aXMgfHwgJ1ZFUlRJQ0FMJztcbiAgICAgICAgZGF0YS5jb250ZW50ID0gY29udGVudC50b1N0cmluZygpO1xuICAgICAgICBkYXRhLmV4cGFuZCA9IGV4cGFuZDtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdtZW51LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVCcmFuZEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbWVudS1icmFuZCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ21lbnUtYnJhbmQuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCB7IHRleHRTdHlsZVN1cHBvcnQgfSBmcm9tICcuLi90ZXh0LXN0eWxlLXN1cHBvcnQnO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVJdGVtQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdtZW51LWl0ZW0nO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBpc0luU3ViTWVudSA9IHBhcmVudCEubmFtZSA9PT0gXCJzdWItbWVudVwiO1xuICAgICAgICBpZiAoaXNJblN1Yk1lbnUpIHtcbiAgICAgICAgICAgIHBhcmVudCEuYXR0cmlidXRlcy5oYXNDb250ZW50ID0gXCJ0cnVlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS50eXBlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnR5cGU7XG4gICAgICAgIGRhdGEub25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEud29ya2Zsb3cgPSBlbGVtZW50LmF0dHJpYnV0ZXMud29ya2Zsb3c7XG4gICAgICAgIGRhdGEubGluayA9IFwiI1wiO1xuICAgICAgICBkYXRhLmlzSW5TdWJNZW51ID0gaXNJblN1Yk1lbnU7XG4gICAgICAgIGRhdGEuc2hvd0Nhc2VQcmluY2lwYWxQaWNrZXIgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2hvd0Nhc2VQcmluY2lwYWxQaWNrZXIgPT09IFwidHJ1ZVwiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICd0ZXh0LScsICd0ZXh0LWRlZmF1bHQnKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdtZW51LWl0ZW0uZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9TdG9yZSc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VFeHBsb3JlckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbWVzc2FnZS1leHBsb3Jlcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBTdG9yZS5nZXRNZXNzYWdlcygpLm1hcChtID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFt3aXphcmROYW1lLCB3aXphcmRWZXJzaW9uXSA9IG0uZ2V0V2l6YXJkSWQoKS5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2l6YXJkID0gU3RvcmUuZ2V0V2l6YXJkcygpLmZpbmQodyA9PiB3LmdldE5hbWUoKSA9PT0gd2l6YXJkTmFtZSAmJiB3LmdldFZlcnNpb24oKSA9PT0gd2l6YXJkVmVyc2lvbik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBbd29ya2Zsb3dHcm91cCwgd29ya2Zsb3dOYW1lLCB3b3JrZmxvd1ZlcnNpb25dID0gbS5nZXRXb3JrZmxvd0lkKCkuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtmbG93ID0gU3RvcmUuZ2V0V29ya2Zsb3dzKCkuZmluZCh3ID0+IHcuZ2V0R3JvdXAoKSA9PT0gd29ya2Zsb3dHcm91cCAmJiB3LmdldE5hbWUoKSA9PT0gd29ya2Zsb3dOYW1lICYmIHcuZ2V0VmVyc2lvbigpID09PSB3b3JrZmxvd1ZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2lwSWQ6IG0uZ2V0V2lwSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkSWQ6IG0uZ2V0V2l6YXJkSWQoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkVGl0bGU6IHdpemFyZD8uZ2V0VGl0bGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd2l6YXJkRGVzY3JpcHRpb246IHdpemFyZD8uZ2V0RGVzY3JpcHRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dJZDogbS5nZXRXb3JrZmxvd0lkKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93VGl0bGU6IHdvcmtmbG93Py5nZXRUaXRsZSgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd0Rlc2NyaXB0aW9uOiB3b3JrZmxvdz8uZ2V0RGVzY3JpcHRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogbS5nZXREYXRlVGltZSgpLnN1YnN0cmluZygwLCAxMCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiBtLmdldERhdGVUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgIHByaW5jaXBhbDogbS5nZXRQcmluY2lwYWwoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5idXN0ID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLm9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICBkYXRhLndpemFyZCA9IFwiXCI7XG4gICAgICAgIGRhdGEucXVldWUgPSBcIlwiO1xuICAgICAgICBkYXRhLndvcmtmbG93ID0gXCJcIjtcbiAgICAgICAgZGF0YS5wcmluY2lwYWwgPSBcIlwiO1xuICAgICAgICBkYXRhLmdyb3VwcyA9IFtcInB1YmxpYywgYXV0aGVudGljYXRlZFwiXTtcbiAgICAgICAgZGF0YS5zdGFydEluZGV4ID0gXCIwXCI7XG4gICAgICAgIGRhdGEuZW5kSW5kZXggPSBTdHJpbmcoTnVtYmVyLk1BWF9WQUxVRSk7XG5cbiAgICAgICAgZGF0YS53b3JrZmxvd3MgPSBTdG9yZS5nZXRXb3JrZmxvd3MoKS5tYXAodyA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiB3LmdldEdyb3VwKCkgKyBcIjpcIiArIHcuZ2V0TmFtZSgpICsgXCI6XCIgKyB3LmdldFZlcnNpb24oKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdy5nZXRUaXRsZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhLndpemFyZHMgPSBTdG9yZS5nZXRXaXphcmRzKCkubWFwKHcgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogdy5nZXROYW1lKCkgKyBcIjpcIiArIHcuZ2V0VmVyc2lvbigpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB3LmdldFRpdGxlKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRhdGEucXVldWVzID0gU3RvcmUuZ2V0UXVldWVzKCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ21lc3NhZ2UtZXhwbG9yZXIuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaWxlU3RvbmVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ21pbGUtc3RvbmUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSwgc3Vic3RpdHV0aW9uczogU3Vic3RpdHV0aW9ucywgcGFyZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBzdG9uZXMgPSBwYXJlbnQhLmNoaWxkcmVuXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpXG4gICAgICAgICAgICAubWFwKGVsID0+IGVsIGFzIEVsZW1lbnQpXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGVsLm5hbWUgPSBcIm1pbGUtc3RvbmVcIik7XG5cbiAgICAgICAgY29uc3QgdG90YWwgPSBzdG9uZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBpbmRleCA9IHN0b25lcy5maW5kSW5kZXgoZWwgPT4gZWwgPT09IGVsZW1lbnQpO1xuXG4gICAgICAgIGxldCB0YWcgPSBcIlwiO1xuICAgICAgICBpZiAocGFyZW50IS5hdHRyaWJ1dGVzLm1pbGVTdG9uZVN0eWxlID09PSBcIk5VTUJFUkVEXCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiXCIgKyAoaW5kZXggKyAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQhLmF0dHJpYnV0ZXMubWlsZVN0b25lU3R5bGUgPT09IFwiUEVSQ0VOVFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcIlwiICsgTWF0aC5mbG9vcihpbmRleCAvIHRvdGFsICogMTAwKSArIFwiJVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmxhYmVsID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLmFjdGl2ZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5hY3RpdmUgPT09IFwidHJ1ZVwiO1xuICAgICAgICBkYXRhLm1pbGVTdG9uZVN0eWxlID0gcGFyZW50IS5hdHRyaWJ1dGVzLm1pbGVTdG9uZVN0eWxlO1xuICAgICAgICBkYXRhLmxhYmVsU2lkZSA9IHBhcmVudCEuYXR0cmlidXRlcy5sYWJlbFNpZGU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS50YWcgPSB0YWc7XG5cblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5taWxlU3RvbmVTdHlsZSwgJ21pbGVzdG9uZS1zdHlsZS0nLCAnJyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsU2lkZSwgJ2xhYmVsLXNpZGUtJywgJycpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignbWlsZS1zdG9uZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGlmaWNhdGlvbkJhbm5lckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnbm90aWZpY2F0aW9uLWJhbm5lcic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEudGl0bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMudGl0bGU7XG4gICAgICAgIGRhdGEuZmxhdm91ciA9IGVsZW1lbnQuYXR0cmlidXRlcy5mbGF2b3VyO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ25vdGlmaWNhdGlvbi1iYW5uZXItJywgJ25vdGlmaWNhdGlvbi1iYW5uZXItZGVmYXVsdCcpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBmbGV4Q29udGFpbmVyU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdub3RpZmljYXRpb24tYmFubmVyLmZ0bCcsIGRhdGEpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYWdlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigncGFnZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFyYWdyYXBoQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYXJhZ3JhcGgnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEucGFyYWdyYXBoU3R5bGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMucGFyYWdyYXBoU3R5bGUgfHwgJ1BMQUlOJztcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdwYXJhZ3JhcGguZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhc3N3b3JkUmVzZXRMaW5rQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdwYXNzd29yZC1yZXNldC1saW5rJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsO1xuICAgICAgICBkYXRhLmxpbmsgPSAnamF2YXNjcmlwdDphbGVydCgmcXVvdDtsaW5rIHdhcyBjbGlja2VkJnF1b3Q7KTsgZXZlbnQucHJldmVudERlZmF1bHQoKTsnO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIHRleHRTdHlsZVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMsIGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigncGFzc3dvcmQtcmVzZXQtbGluay5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzc0JhckJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncHJvZ3Jlc3MtYmFyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IG1pbGVzdG9uZXMgPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpKVxuICAgICAgICAgICAgLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KVxuICAgICAgICAgICAgLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSAnbWlsZS1zdG9uZScpO1xuXG4gICAgICAgIGlmIChtaWxlc3RvbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgbWlsZXN0b25lc1swXS5hdHRyaWJ1dGVzLmFjdGl2ZSA9IFwidHJ1ZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmF4aXMgPSBlbGVtZW50LmF0dHJpYnV0ZXMuYXhpcztcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmZsYXZvdXIsICdwcm9ncmVzcy1iYXItJywgJ3Byb2dyZXNzLWJhci1kZWZhdWx0Jyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmF4aXMsICdwcm9ncmVzcy1iYXItYXhpcy0nLCAnJyk7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoZWxlbWVudC5hdHRyaWJ1dGVzLmxhYmVsU2lkZSwgJ3Byb2dyZXNzLWJhci1sYWJlbC1zaWRlLScsICcnKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3Byb2dyZXNzLWJhci5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSAnLi4vRXJyb3JzJztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0ZXJQYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncmVnaXN0ZXItcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuZXJyb3JzID0gbmV3IEVycm9ycyhbXSk7XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEudGltZXpvbmVzID0gW107XG4gICAgICAgIGRhdGEubmV4dE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEubG9naW5PbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuICAgICAgICBkYXRhLmNhbmNlbE9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3JlZ2lzdGVyLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgZ2VuZXJhdGVJZCBmcm9tICcuLi91dGlsaXRpZXMvZ2VuZXJhdGUtaWQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2V0UGFzc3dvcmRQYW5lbEJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAncmVzZXQtcGFzc3dvcmQtcGFuZWwnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcbiAgICAgICAgZGF0YS5uZXh0T25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS5jYW5jZWxPbmNsaWNrID0gXCJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdyZXNldC1wYXNzd29yZC1wYW5lbC5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNldFBhc3N3b3JkUmVxdWVzdFBhbmVsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdyZXNldC1wYXNzd29yZC1yZXF1ZXN0LXBhbmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLl9jc3JmID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIGRhdGEubmV4dE9uY2xpY2sgPSBcImFsZXJ0KCdOZXh0IGJ1dHRvbiBjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEuY2FuY2VsT25jbGljayA9IFwiYWxlcnQoJ0NhbmNlbCBidXR0b24gY2xpY2tlZCcpOyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1wiO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdyZXNldC1wYXNzd29yZC1yZXF1ZXN0LXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICdyb3cnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3Jvdy5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3NjYWxlJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG5cbiAgICAgICAgbGV0IHZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGVsZW1lbnQuYXR0cmlidXRlcy5zY2FsZVR5cGUgPT09ICdOVU1FUklDQUwnKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBbXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiMVwiLCBsYWJlbDogXCIxXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCIyXCIsIGxhYmVsOiBcIjJcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjNcIiwgbGFiZWw6IFwiM1wiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiNFwiLCBsYWJlbDogXCI0XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCI1XCIsIGxhYmVsOiBcIjVcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjZcIiwgbGFiZWw6IFwiNlwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiN1wiLCBsYWJlbDogXCI3XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCI4XCIsIGxhYmVsOiBcIjhcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIjlcIiwgbGFiZWw6IFwiOVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwiMTBcIiwgbGFiZWw6IFwiMTBcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnTElLRVJUJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcInN0cm9uZ2x5LWRpc2FncmVlXCIsIGxhYmVsOiBcIlN0cm9uZ2x5IERpc2FncmVlXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJkaXNhZ3JlZVwiLCBsYWJlbDogXCJEaXNhZ3JlZVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwibmV1dHJhbFwiLCBsYWJlbDogXCJOZXV0cmFsXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJhZ3JlZVwiLCBsYWJlbDogXCJBZ3JlZVwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwic3Ryb25nbHktYWdyZWVcIiwgbGFiZWw6IFwiU3Ryb25nbHkgQWdyZWVcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnRlJFUVVFTkNZJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcIm5ldmVyXCIsIGxhYmVsOiBcIk5ldmVyXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJyYXJlbHlcIiwgbGFiZWw6IFwiUmFyZWx5XCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJzb21ldGltZXNcIiwgbGFiZWw6IFwiU29tZXRpbWVzXCIgfSxcbiAgICAgICAgICAgICAgICB7IGtleTogXCJvZnRlblwiLCBsYWJlbDogXCJPZnRlblwiIH0sXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwidmVyeS1vZnRlblwiLCBsYWJlbDogXCJWZXJ5IE9mdGVuXCIgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnNjYWxlVHlwZSA9PT0gJ0RJQ0hPVE9NT1VTJykge1xuICAgICAgICAgICAgdmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIHsga2V5OiBcInllc1wiLCBsYWJlbDogXCJZZXNcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcIm5vXCIsIGxhYmVsOiBcIk5vXCIgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHJpYnV0ZXMuc2NhbGVUeXBlID09PSAnQk9PTEVBTicpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IFtcbiAgICAgICAgICAgICAgICB7IGtleTogXCJ0cnVlXCIsIGxhYmVsOiBcIlRydWVcIiB9LFxuICAgICAgICAgICAgICAgIHsga2V5OiBcImZhbHNlXCIsIGxhYmVsOiBcIkZhbHNlXCIgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5kaXNhYmxlZCA9IG51bGw7XG4gICAgICAgIGRhdGEubGFiZWwgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGFiZWw7XG4gICAgICAgIGRhdGEuc2NhbGVUeXBlID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNjYWxlVHlwZTtcbiAgICAgICAgZGF0YS5yZWZlcmVuY2UgPSBlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIGRhdGEudmFsdWUgPSBcIlwiO1xuICAgICAgICBkYXRhLmVycm9yID0gbmV3IEVycm9yKFwic29tZSBlcnJvciBtZXNzYWdlXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzY2FsZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgeyBGcmVlbWFya2VyRXJyb3IgfSBmcm9tICcuLi9mcmVlbWFya2VyL0ZyZWVtYXJrZXJFcnJvcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwYW5CaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3NjcmlwdCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLnNjcmlwdCBpbiBzdWJzdGl0dXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBzdWJzdGl0dXRpb25zW2VsZW1lbnQuYXR0cmlidXRlcy5zY3JpcHRdLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBFeHBlY3RlZCBzdHJpbmcgZm9yIHN1YnN0aXR1dGlvbiAke2VsZW1lbnQuYXR0cmlidXRlcy5zY3JpcHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLnRleHQgPSB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRnJlZW1hcmtlckVycm9yKGBObyBzdWJzdGl0dXRpb24gZm91bmQgZm9yIHBsYW50YWluIGV4cHJlc3Npb24gJHtlbGVtZW50LmF0dHJpYnV0ZXMuc2NyaXB0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3NjcmlwdC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BhbkJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAnc3Bhbic7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5wYXJhZ3JhcGhTdHlsZSA9IGVsZW1lbnQuYXR0cmlidXRlcy5wYXJhZ3JhcGhTdHlsZSB8fCAnUExBSU4nO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCdzcGFuLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcbmltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1Yk1lbnVCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3N1Yi1tZW51JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoZWwgPT4gaXNFbGVtZW50KGVsKSkubWFwKGVsID0+IGVsIGFzIEVsZW1lbnQpO1xuXG4gICAgICAgIGxldCBsYWJlbCwgY29udGVudCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ3N1Yi1tZW51LWxhYmVsJykge1xuICAgICAgICAgICAgICAgIGxhYmVsID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZChyZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChjaGlsZCwgZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSBjb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgIGRhdGEuaGFzQ29udGVudCA9IGVsZW1lbnQuYXR0cmlidXRlcy5oYXNDb250ZW50ID09PSBcInRydWVcIjtcbiAgICAgICAgZGF0YS5sYWJlbCA9IGxhYmVsO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3N1Yi1tZW51LmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWJNZW51TGFiZWxCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3N1Yi1tZW51LWxhYmVsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcblxuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChlbGVtZW50LmF0dHJpYnV0ZXMuZmxhdm91ciwgJ3RleHQtJywgJ3RleHQtZGVmYXVsdCcpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3N1Yi1tZW51LWxhYmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTd2l0Y2hCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3N3aXRjaCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkpLm1hcChlbCA9PiBlbCBhcyBFbGVtZW50KTtcblxuICAgICAgICBsZXQgZm91bmQgPSBjaGlsZHJlbi5maW5kKGVsID0+IGVsLm5hbWUgPT09ICdkZWYnKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuYXR0cmlidXRlcy5jb25kaXRpb24gaW4gc3Vic3RpdHV0aW9ucyAmJiBzdWJzdGl0dXRpb25zW2NoaWxkLmF0dHJpYnV0ZXMuY29uZGl0aW9uXS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZm91bmQpO1xuXG4gICAgICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcignc3dpdGNoLmZ0bCcsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZUJpbmRlciBpbXBsZW1lbnRzIFJlbmRlcmVyIHtcbiAgICBhY2NlcHQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lID09PSAndGFibGUnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLnNpemUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuc2l6ZTtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd0YWJsZS5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IHsgdGV4dFN0eWxlU3VwcG9ydCB9IGZyb20gJy4uL3RleHQtc3R5bGUtc3VwcG9ydCc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpdGxlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd0aXRsZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lKTogc3RyaW5nIHtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5zaXplID0gZWxlbWVudC5hdHRyaWJ1dGVzLnNpemU7XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICB0ZXh0U3R5bGVTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzLCBjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3RpdGxlLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQsIGlzRWxlbWVudCwgaXNUZXh0IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCB7IFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuLi9TdWJzdGl0dXRpb25zJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sVGlwQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd0b29sLXRpcCc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIobm9kZSA9PiAhaXNUZXh0KG5vZGUpKTtcblxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIHRpcCBlbGVtZW50IG11c3QgaGF2ZSBvbmx5IDEgY2hpbGQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF0gYXMgRWxlbWVudDtcblxuICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuYWxpZ25TZWxmID0gY2hpbGQuYXR0cmlidXRlcy5hbGlnblNlbGY7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5mbGV4QmFzaXMgPSBjaGlsZC5hdHRyaWJ1dGVzLmZsZXhCYXNpcztcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmZsZXhHcm93ID0gY2hpbGQuYXR0cmlidXRlcy5mbGV4R3JvdztcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmZsZXhTaHJpbmsgPSBjaGlsZC5hdHRyaWJ1dGVzLmZsZXhTaHJpbms7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5oZWlnaHQgPSBjaGlsZC5hdHRyaWJ1dGVzLmhlaWdodDtcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLndpZHRoID0gY2hpbGQuYXR0cmlidXRlcy53aWR0aDtcbiAgICAgICAgLy8gZWxlbWVudC5hdHRyaWJ1dGVzLnBhZGRpbmcgPSBjaGlsZC5hdHRyaWJ1dGVzLnBhZGRpbmc7XG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5tYXJnaW4gPSBjaGlsZC5hdHRyaWJ1dGVzLm1hcmdpbjtcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmJhY2tncm91bmRGbGF2b3VyID0gY2hpbGQuYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91cjtcbiAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmJvcmRlclJhZGl1cyA9IGNoaWxkLmF0dHJpYnV0ZXMuYm9yZGVyUmFkaXVzO1xuXG4gICAgICAgIGRlbGV0ZSBjaGlsZC5hdHRyaWJ1dGVzLmFsaWduU2VsZjtcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMuZmxleEJhc2lzO1xuICAgICAgICBkZWxldGUgY2hpbGQuYXR0cmlidXRlcy5mbGV4R3JvdztcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMuZmxleFNocmluaztcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMuaGVpZ2h0O1xuICAgICAgICBkZWxldGUgY2hpbGQuYXR0cmlidXRlcy53aWR0aDtcbiAgICAgICAgZGVsZXRlIGNoaWxkLmF0dHJpYnV0ZXMubWFyZ2luO1xuXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChpc1RleHQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LmFwcGVuZChjaGlsZC50ZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIG91dHB1dC5hcHBlbmQocmVuZGVyaW5nRW5naW5lLnJlbmRlckVsZW1lbnQoY2hpbGQsIGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmV4cG9zaXRpb24gPSBlbGVtZW50LmF0dHJpYnV0ZXMuZXhwb3NpdGlvbjtcblxuICAgICAgICBkYXRhLmNvbnRlbnQgPSBvdXRwdXQudG9TdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigndG9vbC10aXAuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50LCBpc0VsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCBnZW5lcmF0ZUlkIGZyb20gJy4uL3V0aWxpdGllcy9nZW5lcmF0ZS1pZCc7XG5pbXBvcnQgU3RvcmUgZnJvbSAnLi4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmF5QmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd0cmF5JztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoZWwgPT4gaXNFbGVtZW50KGVsKSkubWFwKGVsID0+IGVsIGFzIEVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IHRyYXlIZWFkZXIgPSBjaGlsZHJlbi5maW5kKGVsID0+IGVsLm5hbWUgPT09IFwidHJheS1oZWFkZXJcIik7XG5cbiAgICAgICAgY29uc3QgdmFsdWVzID0gU3RvcmUuZ2V0TWVzc2FnZXMoKS5tYXAobSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBbd2l6YXJkTmFtZSwgd2l6YXJkVmVyc2lvbl0gPSBtLmdldFdpemFyZElkKCkuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpemFyZCA9IFN0b3JlLmdldFdpemFyZHMoKS5maW5kKHcgPT4gdy5nZXROYW1lKCkgPT09IHdpemFyZE5hbWUgJiYgdy5nZXRWZXJzaW9uKCkgPT09IHdpemFyZFZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgW3dvcmtmbG93R3JvdXAsIHdvcmtmbG93TmFtZSwgd29ya2Zsb3dWZXJzaW9uXSA9IG0uZ2V0V29ya2Zsb3dJZCgpLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZmxvdyA9IFN0b3JlLmdldFdvcmtmbG93cygpLmZpbmQodyA9PiB3LmdldEdyb3VwKCkgPT09IHdvcmtmbG93R3JvdXAgJiYgdy5nZXROYW1lKCkgPT09IHdvcmtmbG93TmFtZSAmJiB3LmdldFZlcnNpb24oKSA9PT0gd29ya2Zsb3dWZXJzaW9uKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHdpcElkOiBtLmdldFdpcElkKCksXG4gICAgICAgICAgICAgICAgICAgIHdpemFyZElkOiBtLmdldFdpemFyZElkKCksXG4gICAgICAgICAgICAgICAgICAgIHdpemFyZFRpdGxlOiB3aXphcmQ/LmdldFRpdGxlKCksXG4gICAgICAgICAgICAgICAgICAgIHdpemFyZERlc2NyaXB0aW9uOiB3aXphcmQ/LmdldERlc2NyaXB0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93SWQ6IG0uZ2V0V29ya2Zsb3dJZCgpLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd1RpdGxlOiB3b3JrZmxvdz8uZ2V0VGl0bGUoKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dEZXNjcmlwdGlvbjogd29ya2Zsb3c/LmdldERlc2NyaXB0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IG0uZ2V0RGF0ZVRpbWUoKS5zdWJzdHJpbmcoMCwgMTApLFxuICAgICAgICAgICAgICAgICAgICBkYXRlVGltZTogbS5nZXREYXRlVGltZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcmluY2lwYWw6IG0uZ2V0UHJpbmNpcGFsKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuX2NzcmYgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGRhdGEudHJheUhlYWRlciA9IHRyYXlIZWFkZXIgPyByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudCh0cmF5SGVhZGVyLCBlbGVtZW50KSA6IFwiXCI7XG4gICAgICAgIGRhdGEub25jbGljayA9IFwiYWxlcnQoJ2NsaWNrZWQnKTsgZXZlbnQucHJldmVudERlZmF1bHQoKTtcIjtcbiAgICAgICAgZGF0YS52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleEl0ZW1TdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3RyYXkuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgeyB0ZXh0U3R5bGVTdXBwb3J0IH0gZnJvbSAnLi4vdGV4dC1zdHlsZS1zdXBwb3J0JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgQ2xhc3NNYW5hZ2VyIGZyb20gJy4uL0NsYXNzTWFuYWdlcic7XG5pbXBvcnQgeyBTdWJzdGl0dXRpb25zIH0gZnJvbSAnLi4vU3Vic3RpdHV0aW9ucyc7XG5pbXBvcnQgUmVuZGVyaW5nRW5naW5lIGZyb20gJy4uL1JlbmRlcmluZ0VuZ2luZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYXlIZWFkZXJCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3RyYXktaGVhZGVyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUsIHN1YnN0aXR1dGlvbnM6IFN1YnN0aXR1dGlvbnMsIHBhcmVudDogRWxlbWVudCB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBkYXRhLmlkID0gZWxlbWVudC5hdHRyaWJ1dGVzLmlkO1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgdGV4dFN0eWxlU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcywgY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGRhdGEuY2xhc3NlcyA9IGNsYXNzTWFuYWdlci50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd0cmF5LWhlYWRlci5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBmbGV4SXRlbVN1cHBvcnQgZnJvbSAnLi4vZmxleC1pdGVtLXN1cHBvcnQnO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4uL3N0b3JlL1N0b3JlJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckV4cGxvcmVyQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd1c2VyLWV4cGxvcmVyJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5fY3NyZiA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgZGF0YS5idXN0ID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICBkYXRhLm9uY2xpY2sgPSBcImFsZXJ0KCdjbGlja2VkJyk7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XCI7XG4gICAgICAgIGRhdGEudmFsdWVzID0gU3RvcmUuZ2V0VXNlcnMoKTtcbiAgICAgICAgZGF0YS5ncm91cHMgPSBTdG9yZS5nZXRHcm91cHMoKTtcbiAgICAgICAgZGF0YS5ncm91cCA9IFwiXCI7XG4gICAgICAgIGRhdGEud2l6YXJkID0gXCJcIjtcbiAgICAgICAgZGF0YS53b3JrZmxvdyA9IFwiXCI7XG4gICAgICAgIGRhdGEucXVldWUgPSBcIlwiO1xuICAgICAgICBkYXRhLnByaW5jaXBhbCA9IFwiXCI7XG4gICAgICAgIGRhdGEudXNlcm5hbWUgPSBcIlwiO1xuICAgICAgICBkYXRhLmZpcnN0TmFtZSA9IFwiXCI7XG4gICAgICAgIGRhdGEubGFzdE5hbWUgPSBcIlwiO1xuICAgICAgICBkYXRhLmV4ZWN1dGVXb3JrZmxvdyA9IFwiXCI7XG4gICAgICAgIGRhdGEubWVzc2FnZUV4cGxvcmVyTW9kZSA9IGZhbHNlO1xuICAgICAgICBkYXRhLnN0YXJ0SW5kZXggPSBcInN0YXJ0SW5kZXhcIjtcbiAgICAgICAgZGF0YS5lbmRJbmRleCA9IFwiZW5kSW5kZXhcIjtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBmbGV4SXRlbVN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigndXNlci1leHBsb3Jlci5mdGwnLCBkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IGdlbmVyYXRlSWQgZnJvbSAnLi4vdXRpbGl0aWVzL2dlbmVyYXRlLWlkJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVdWlkQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd1dWlkJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5yZWZlcmVuY2UgPSBlbGVtZW50LmF0dHJpYnV0ZXMucmVmZXJlbmNlO1xuICAgICAgICBkYXRhLnZhbHVlID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICByZXR1cm4gcmVuZGVyaW5nRW5naW5lLnJlbmRlcigndXVpZC5mdGwnLCBkYXRhKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgZmxleENvbnRhaW5lclN1cHBvcnQgfSBmcm9tICcuLi9mbGV4LWNvbnRhaW5lci1zdXBwb3J0JztcblxuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IHsgU3Vic3RpdHV0aW9ucyB9IGZyb20gJy4uL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZhbHVlQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd2YWx1ZSc7XG4gICAgfVxuXG4gICAgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnQsIGNsYXNzTWFwcGluZ3M6IFByb3BlcnRpZXMsIHJlbmRlcmluZ0VuZ2luZTogUmVuZGVyaW5nRW5naW5lLCBzdWJzdGl0dXRpb25zOiBTdWJzdGl0dXRpb25zLCBwYXJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IHBhcmVudCEuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5rZXkgPSBlbGVtZW50LmF0dHJpYnV0ZXMua2V5O1xuICAgICAgICBkYXRhLmNvbnRlbnQgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyQ2hpbGRyZW4oZWxlbWVudCk7XG5cbiAgICAgICAgY29uc3QgY2xhc3NNYW5hZ2VyID0gbmV3IENsYXNzTWFuYWdlcihjbGFzc01hcHBpbmdzKTtcbiAgICAgICAgZmxleENvbnRhaW5lclN1cHBvcnQoZGF0YSwgY2xhc3NNYW5hZ2VyLCBlbGVtZW50LmF0dHJpYnV0ZXMpO1xuICAgICAgICBkYXRhLmNsYXNzZXMgPSBjbGFzc01hbmFnZXIudG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3ZhbHVlLXBhbmVsLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB7IEVsZW1lbnQgfSBmcm9tICcuLi9wYXJzZXInO1xuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAnLi4vcHJvcGVydGllcyc7XG5pbXBvcnQgZmxleEl0ZW1TdXBwb3J0IGZyb20gJy4uL2ZsZXgtaXRlbS1zdXBwb3J0JztcbmltcG9ydCB7IGZsZXhDb250YWluZXJTdXBwb3J0IH0gZnJvbSAnLi4vZmxleC1jb250YWluZXItc3VwcG9ydCc7XG5cbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi4vQ2xhc3NNYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYXJuaW5nQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd3YXJuaW5nJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZGF0YS5pZCA9IGVsZW1lbnQuYXR0cmlidXRlcy5pZDtcbiAgICAgICAgZGF0YS5jb250ZW50ID0gcmVuZGVyaW5nRW5naW5lLnJlbmRlckNoaWxkcmVuKGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IGNsYXNzTWFuYWdlciA9IG5ldyBDbGFzc01hbmFnZXIoY2xhc3NNYXBwaW5ncyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3dhcm5pbmcuZnRsJywgZGF0YSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi4vcGFyc2VyJztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4uL3Byb3BlcnRpZXMnO1xuaW1wb3J0IGZsZXhJdGVtU3VwcG9ydCBmcm9tICcuLi9mbGV4LWl0ZW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBmbGV4Q29udGFpbmVyU3VwcG9ydCB9IGZyb20gJy4uL2ZsZXgtY29udGFpbmVyLXN1cHBvcnQnO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuLi9DbGFzc01hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuLi9SZW5kZXJpbmdFbmdpbmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWxsQmluZGVyIGltcGxlbWVudHMgUmVuZGVyZXIge1xuICAgIGFjY2VwdChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5hbWUgPT09ICd3ZWxsJztcbiAgICB9XG5cbiAgICByZW5kZXIoZWxlbWVudDogRWxlbWVudCwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcywgcmVuZGVyaW5nRW5naW5lOiBSZW5kZXJpbmdFbmdpbmUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgIGRhdGEuY29udGVudCA9IHJlbmRlcmluZ0VuZ2luZS5yZW5kZXJDaGlsZHJlbihlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBjbGFzc01hbmFnZXIgPSBuZXcgQ2xhc3NNYW5hZ2VyKGNsYXNzTWFwcGluZ3MpO1xuICAgICAgICBjbGFzc01hbmFnZXIuYXBwZW5kKGVsZW1lbnQuYXR0cmlidXRlcy5mbGF2b3VyLCAnd2VsbC0nLCAnd2VsbC1kZWZhdWx0Jyk7XG4gICAgICAgIGZsZXhJdGVtU3VwcG9ydChkYXRhLCBjbGFzc01hbmFnZXIsIGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgICAgIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGEsIGNsYXNzTWFuYWdlciwgZWxlbWVudC5hdHRyaWJ1dGVzKTtcbiAgICAgICAgZGF0YS5jbGFzc2VzID0gY2xhc3NNYW5hZ2VyLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmluZ0VuZ2luZS5yZW5kZXIoJ3dlbGwuZnRsJywgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4uL3BhcnNlcic7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuLi9wcm9wZXJ0aWVzJztcbmltcG9ydCBSZW5kZXJpbmdFbmdpbmUgZnJvbSAnLi4vUmVuZGVyaW5nRW5naW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2l6YXJkVGVzdFJlc3VsdHNCaW5kZXIgaW1wbGVtZW50cyBSZW5kZXJlciB7XG4gICAgYWNjZXB0KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ3dpemFyZC10ZXN0LXJlc3VsdHMnO1xuICAgIH1cblxuICAgIHJlbmRlcihlbGVtZW50OiBFbGVtZW50LCBjbGFzc01hcHBpbmdzOiBQcm9wZXJ0aWVzLCByZW5kZXJpbmdFbmdpbmU6IFJlbmRlcmluZ0VuZ2luZSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc3QgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGRhdGEuaWQgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaWQ7XG4gICAgICAgIGRhdGEuY29udGVudCA9IFwic29tZSBjb250ZW50XCI7XG4gICAgICAgIHJldHVybiByZW5kZXJpbmdFbmdpbmUucmVuZGVyKCd3aXphcmQtdGVzdC1yZXN1bHRzLmZ0bCcsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGl0bGVCaW5kZXIgZnJvbSAnLi9UaXRsZUJpbmRlcic7XG5pbXBvcnQgUGFyYWdyYXBoQmluZGVyIGZyb20gJy4vUGFyYWdyYXBoQmluZGVyJztcbmltcG9ydCBEaXZCaW5kZXIgZnJvbSAnLi9EaXZCaW5kZXInO1xuaW1wb3J0IExvZ2luUGFuZWxCaW5kZXIgZnJvbSAnLi9Mb2dpblBhbmVsQmluZGVyJztcbmltcG9ydCBQYWdlQmluZGVyIGZyb20gJy4vUGFnZUJpbmRlcic7XG5pbXBvcnQgV2VsbEJpbmRlciBmcm9tICcuL1dlbGxCaW5kZXInO1xuaW1wb3J0IFVzZXJFeHBsb3JlckJpbmRlciBmcm9tICcuL1VzZXJFeHBsb3JlckJpbmRlcic7XG5pbXBvcnQgSW1hZ2VCaW5kZXIgZnJvbSAnLi9JbWFnZUJpbmRlcic7XG5pbXBvcnQgTGlua0JpbmRlciBmcm9tICcuL0xpbmtCaW5kZXInO1xuaW1wb3J0IEJhY2tMaW5rQmluZGVyIGZyb20gJy4vQmFja0xpbmtCaW5kZXInO1xuaW1wb3J0IFJlZ2lzdGVyUGFuZWxCaW5kZXIgZnJvbSAnLi9SZWdpc3RlclBhbmVsQmluZGVyJztcbmltcG9ydCBSZXNldFBhc3N3b3JkUmVxdWVzdFBhbmVsQmluZGVyIGZyb20gJy4vUmVzZXRQYXNzd29yZFJlcXVlc3RQYW5lbEJpbmRlcic7XG5pbXBvcnQgUmVzZXRQYXNzd29yZFBhbmVsQmluZGVyIGZyb20gJy4vUmVzZXRQYXNzd29yZFBhbmVsQmluZGVyJztcbmltcG9ydCBBY2NvcmRpb25JdGVtSGVhZGVyQmluZGVyIGZyb20gJy4vQWNjb3JkaW9uSXRlbUhlYWRlckJpbmRlcic7XG5pbXBvcnQgSW5zZXRUZXh0QmluZGVyIGZyb20gJy4vSW5zZXRUZXh0QmluZGVyJztcbmltcG9ydCBBY2NvcmRpb25JdGVtQmluZGVyIGZyb20gJy4vQWNjb3JkaW9uSXRlbUJpbmRlcic7XG5pbXBvcnQgV2FybmluZ0JpbmRlciBmcm9tICcuL1dhcm5pbmdCaW5kZXInO1xuaW1wb3J0IENvbHVtbkJpbmRlciBmcm9tICcuL0NvbHVtbkJpbmRlcic7XG5pbXBvcnQgUm93QmluZGVyIGZyb20gJy4vUm93QmluZGVyJztcbmltcG9ydCBDZWxsQmluZGVyIGZyb20gJy4vQ2VsbEJpbmRlcic7XG5pbXBvcnQgVGFibGVCaW5kZXIgZnJvbSAnLi9UYWJsZUJpbmRlcic7XG5pbXBvcnQgQmFkZ2VCaW5kZXIgZnJvbSAnLi9CYWRnZUJpbmRlcic7XG5pbXBvcnQgQWNjb3JkaW9uQmluZGVyIGZyb20gJy4vQWNjb3JkaW9uQmluZGVyJztcbmltcG9ydCBDYXJkSGVhZGVyQmluZGVyIGZyb20gJy4vQ2FyZEhlYWRlckJpbmRlcic7XG5pbXBvcnQgQ2FyZEJvZHlCaW5kZXIgZnJvbSAnLi9DYXJkQm9keUJpbmRlcic7XG5pbXBvcnQgQ2FyZEZvb3RlckJpbmRlciBmcm9tICcuL0NhcmRGb290ZXJCaW5kZXInO1xuaW1wb3J0IENhcmRCaW5kZXIgZnJvbSAnLi9DYXJkQmluZGVyJztcbmltcG9ydCBJY29uQmluZGVyIGZyb20gJy4vSWNvbkJpbmRlcic7XG5pbXBvcnQgVG9vbFRpcEJpbmRlciBmcm9tICcuL1Rvb2xUaXBCaW5kZXInO1xuaW1wb3J0IExpc3RJdGVtQmluZGVyIGZyb20gJy4vTGlzdEl0ZW1CaW5kZXInO1xuaW1wb3J0IExpc3RCaW5kZXIgZnJvbSAnLi9MaXN0QmluZGVyJztcbmltcG9ydCBDb29raWVDb25zZW50QmluZGVyIGZyb20gJy4vQ29va2llQ29uc2VudEJpbmRlcic7XG5pbXBvcnQgRmFrZVN0b3JlQmluZGVyIGZyb20gJy4vRmFrZVN0b3JlQmluZGVyJztcbmltcG9ydCBFcnJvclN1bW1hcnlCaW5kZXIgZnJvbSAnLi9FcnJvclN1bW1hcnlCaW5kZXInO1xuaW1wb3J0IElucHV0QmluZGVyIGZyb20gJy4vSW5wdXRCaW5kZXInO1xuaW1wb3J0IEVudW1lcmF0aW9uSW5wdXRCaW5kZXIgZnJvbSAnLi9FbnVtZXJhdGlvbklucHV0QmluZGVyJztcbmltcG9ydCBWYWx1ZUJpbmRlciBmcm9tICcuL1ZhbHVlQmluZGVyJztcbmltcG9ydCBTY2FsZUJpbmRlciBmcm9tICcuL1NjYWxlQmluZGVyJztcbmltcG9ydCBCdXR0b25CaW5kZXIgZnJvbSAnLi9CdXR0b25CaW5kZXInO1xuaW1wb3J0IEp1bWJvdHJvbkJpbmRlciBmcm9tICcuL0p1bWJvdHJvbkJpbmRlcic7XG5pbXBvcnQgQ2Fyb3VzZWxCaW5kZXIgZnJvbSAnLi9DYXJvdXNlbEJpbmRlcic7XG5pbXBvcnQgQ2Fyb3VzZWxQYW5lbEJpbmRlciBmcm9tICcuL0Nhcm91c2VsUGFuZWxCaW5kZXInO1xuaW1wb3J0IFByb2dyZXNzQmFyQmluZGVyIGZyb20gJy4vUHJvZ3Jlc3NCYXJCaW5kZXInO1xuaW1wb3J0IEZvcm1CaW5kZXIgZnJvbSAnLi9Gb3JtQmluZGVyJztcbmltcG9ydCBXaXphcmRUZXN0UmVzdWx0c0JpbmRlciBmcm9tICcuL1dpemFyZFRlc3RSZXN1bHRzQmluZGVyJztcbmltcG9ydCBDb25maXJtV29ya2Zsb3dQYW5lbEJpbmRlciBmcm9tICcuL0NvbmZpcm1Xb3JrZmxvd1BhbmVsQmluZGVyJztcbmltcG9ydCBDbG9zZVdvcmtmbG93RXhlY3V0ZWRQYW5lbEJpbmRlciBmcm9tICcuL0Nsb3NlV29ya2Zsb3dFeGVjdXRlZFBhbmVsQmluZGVyJztcbmltcG9ydCBGYWtlVXNlckJpbmRlciBmcm9tICcuL0Zha2VVc2VyQmluZGVyJztcbmltcG9ydCBGYWtlTWVzc2FnZUJpbmRlciBmcm9tICcuL0Zha2VNZXNzYWdlQmluZGVyJztcbmltcG9ydCBGYWtlV2l6YXJkQmluZGVyIGZyb20gJy4vRmFrZVdpemFyZEJpbmRlcic7XG5pbXBvcnQgRmFrZVdvcmtmbG93QmluZGVyIGZyb20gJy4vRmFrZVdvcmtmbG93QmluZGVyJztcbmltcG9ydCBNaWxlU3RvbmVCaW5kZXIgZnJvbSAnLi9NaWxlU3RvbmVCaW5kZXInO1xuaW1wb3J0IEZha2VQYWdlQmluZGVyIGZyb20gJy4vRmFrZVBhZ2VCaW5kZXInO1xuaW1wb3J0IEhvcml6b250YWxSdWxlQmluZGVyIGZyb20gJy4vSG9yaXpvbnRhbFJ1bGVCaW5kZXInO1xuaW1wb3J0IEluaXRpYXRlV29ya2Zsb3dCdXR0b25CaW5kZXIgZnJvbSAnLi9Jbml0aWF0ZVdvcmtmbG93QnV0dG9uQmluZGVyJztcbmltcG9ydCBNZW51QmluZGVyIGZyb20gJy4vTWVudUJpbmRlcic7XG5pbXBvcnQgTWVudUJyYW5kQmluZGVyIGZyb20gJy4vTWVudUJyYW5kQmluZGVyJztcbmltcG9ydCBNZW51SXRlbUJpbmRlciBmcm9tICcuL01lbnVJdGVtQmluZGVyJztcbmltcG9ydCBTdWJNZW51QmluZGVyIGZyb20gJy4vU3ViTWVudUJpbmRlcic7XG5pbXBvcnQgU3ViTWVudUxhYmVsQmluZGVyIGZyb20gJy4vU3ViTWVudUxhYmVsQmluZGVyJztcbmltcG9ydCBUcmF5QmluZGVyIGZyb20gJy4vVHJheUJpbmRlcic7XG5pbXBvcnQgVHJheUhlYWRlckJpbmRlciBmcm9tICcuL1RyYXlIZWFkZXJCaW5kZXInO1xuaW1wb3J0IEZha2VRdWV1ZUJpbmRlciBmcm9tICcuL0Zha2VRdWV1ZSc7XG5pbXBvcnQgTWVzc2FnZUV4cGxvcmVyQmluZGVyIGZyb20gJy4vTWVzc2FnZUV4cGxvcmVyQmluZGVyJztcbmltcG9ydCBOb3RpZmljYXRpb25CYW5uZXJCaW5kZXIgZnJvbSAnLi9Ob3RpZmljYXRpb25CYW5uZXJCaW5kZXInO1xuaW1wb3J0IEVtYWlsQmluZGVyIGZyb20gJy4vRW1haWxCaW5kZXInO1xuaW1wb3J0IEVtYWlsQ29uZmlybWF0aW9uTGlua0JpbmRlciBmcm9tICcuL0VtYWlsQ29uZmlybWF0aW9uTGlua0JpbmRlcic7XG5pbXBvcnQgUGFzc3dvcmRSZXNldExpbmtCaW5kZXIgZnJvbSAnLi9QYXNzd29yZFJlc2V0TGlua0JpbmRlcic7XG5pbXBvcnQgQ29uZmlybWF0aW9uUGFuZWxCaW5kZXIgZnJvbSAnLi9Db25maXJtYXRpb25QYW5lbEJpbmRlcic7XG5pbXBvcnQgQnJCaW5kZXIgZnJvbSAnLi9CckJpbmRlcic7XG5pbXBvcnQgU3BhbkJpbmRlciBmcm9tICcuL1NwYW5CaW5kZXInO1xuaW1wb3J0IFV1aWRCaW5kZXIgZnJvbSAnLi9VdWlkQmluZGVyJztcbmltcG9ydCBTY3JpcHRCaW5kZXIgZnJvbSAnLi9TY3JpcHRCaW5kZXInO1xuaW1wb3J0IExvb3BCaW5kZXIgZnJvbSAnLi9Mb29wQmluZGVyJztcbmltcG9ydCBTd2l0Y2hCaW5kZXIgZnJvbSAnLi9Td2l0Y2hCaW5kZXInO1xuXG5jb25zdCByZWdpc3RyeSA9IFtcbiAgICBuZXcgVGl0bGVCaW5kZXIoKSxcbiAgICBuZXcgUGFyYWdyYXBoQmluZGVyKCksXG4gICAgbmV3IERpdkJpbmRlcigpLFxuICAgIG5ldyBMb2dpblBhbmVsQmluZGVyKCksXG4gICAgbmV3IFdlbGxCaW5kZXIoKSxcbiAgICBuZXcgVXNlckV4cGxvcmVyQmluZGVyKCksXG4gICAgbmV3IEltYWdlQmluZGVyKCksXG4gICAgbmV3IExpbmtCaW5kZXIoKSxcbiAgICBuZXcgQmFja0xpbmtCaW5kZXIoKSxcbiAgICBuZXcgUmVnaXN0ZXJQYW5lbEJpbmRlcigpLFxuICAgIG5ldyBQYWdlQmluZGVyKCksXG4gICAgbmV3IFJlc2V0UGFzc3dvcmRSZXF1ZXN0UGFuZWxCaW5kZXIoKSxcbiAgICBuZXcgUmVzZXRQYXNzd29yZFBhbmVsQmluZGVyKCksXG4gICAgbmV3IEFjY29yZGlvbkl0ZW1IZWFkZXJCaW5kZXIoKSxcbiAgICBuZXcgSW5zZXRUZXh0QmluZGVyKCksXG4gICAgbmV3IEFjY29yZGlvbkl0ZW1CaW5kZXIoKSxcbiAgICBuZXcgV2FybmluZ0JpbmRlcigpLFxuICAgIG5ldyBDb2x1bW5CaW5kZXIoKSxcbiAgICBuZXcgUm93QmluZGVyKCksXG4gICAgbmV3IENlbGxCaW5kZXIoKSxcbiAgICBuZXcgVGFibGVCaW5kZXIoKSxcbiAgICBuZXcgQmFkZ2VCaW5kZXIoKSxcbiAgICBuZXcgQWNjb3JkaW9uQmluZGVyKCksXG4gICAgbmV3IENhcmRIZWFkZXJCaW5kZXIoKSxcbiAgICBuZXcgQ2FyZEJvZHlCaW5kZXIoKSxcbiAgICBuZXcgQ2FyZEZvb3RlckJpbmRlcigpLFxuICAgIG5ldyBDYXJkQmluZGVyKCksXG4gICAgbmV3IEljb25CaW5kZXIoKSxcbiAgICBuZXcgVG9vbFRpcEJpbmRlcigpLFxuICAgIG5ldyBMaXN0SXRlbUJpbmRlcigpLFxuICAgIG5ldyBMaXN0QmluZGVyKCksXG4gICAgbmV3IENvb2tpZUNvbnNlbnRCaW5kZXIoKSxcbiAgICBuZXcgRmFrZVN0b3JlQmluZGVyKCksXG4gICAgbmV3IEVycm9yU3VtbWFyeUJpbmRlcigpLFxuICAgIG5ldyBJbnB1dEJpbmRlcigpLFxuICAgIG5ldyBFbnVtZXJhdGlvbklucHV0QmluZGVyKCksXG4gICAgbmV3IFZhbHVlQmluZGVyKCksXG4gICAgbmV3IFNjYWxlQmluZGVyKCksXG4gICAgbmV3IEJ1dHRvbkJpbmRlcigpLFxuICAgIG5ldyBKdW1ib3Ryb25CaW5kZXIoKSxcbiAgICBuZXcgQ2Fyb3VzZWxCaW5kZXIoKSxcbiAgICBuZXcgQ2Fyb3VzZWxQYW5lbEJpbmRlcigpLFxuICAgIG5ldyBQcm9ncmVzc0JhckJpbmRlcigpLFxuICAgIG5ldyBGb3JtQmluZGVyKCksXG4gICAgbmV3IFdpemFyZFRlc3RSZXN1bHRzQmluZGVyKCksXG4gICAgbmV3IENvbmZpcm1Xb3JrZmxvd1BhbmVsQmluZGVyKCksXG4gICAgbmV3IENsb3NlV29ya2Zsb3dFeGVjdXRlZFBhbmVsQmluZGVyKCksXG4gICAgbmV3IEZha2VVc2VyQmluZGVyKCksXG4gICAgbmV3IEZha2VNZXNzYWdlQmluZGVyKCksXG4gICAgbmV3IEZha2VXaXphcmRCaW5kZXIoKSxcbiAgICBuZXcgRmFrZVdvcmtmbG93QmluZGVyKCksXG4gICAgbmV3IEZha2VQYWdlQmluZGVyKCksXG4gICAgbmV3IEZha2VRdWV1ZUJpbmRlcigpLFxuICAgIG5ldyBNaWxlU3RvbmVCaW5kZXIoKSxcbiAgICBuZXcgSG9yaXpvbnRhbFJ1bGVCaW5kZXIoKSxcbiAgICBuZXcgSW5pdGlhdGVXb3JrZmxvd0J1dHRvbkJpbmRlcigpLFxuICAgIG5ldyBNZW51QmluZGVyKCksXG4gICAgbmV3IE1lbnVCcmFuZEJpbmRlcigpLFxuICAgIG5ldyBNZW51SXRlbUJpbmRlcigpLFxuICAgIG5ldyBTdWJNZW51QmluZGVyKCksXG4gICAgbmV3IFN1Yk1lbnVMYWJlbEJpbmRlcigpLFxuICAgIG5ldyBUcmF5QmluZGVyKCksXG4gICAgbmV3IFRyYXlIZWFkZXJCaW5kZXIoKSxcbiAgICBuZXcgTWVzc2FnZUV4cGxvcmVyQmluZGVyKCksXG4gICAgbmV3IE5vdGlmaWNhdGlvbkJhbm5lckJpbmRlcigpLFxuICAgIG5ldyBFbWFpbEJpbmRlcigpLFxuICAgIG5ldyBFbWFpbENvbmZpcm1hdGlvbkxpbmtCaW5kZXIoKSxcbiAgICBuZXcgUGFzc3dvcmRSZXNldExpbmtCaW5kZXIoKSxcbiAgICBuZXcgQ29uZmlybWF0aW9uUGFuZWxCaW5kZXIoKSxcbiAgICBuZXcgQnJCaW5kZXIoKSxcbiAgICBuZXcgU3BhbkJpbmRlcigpLFxuICAgIG5ldyBVdWlkQmluZGVyKCksXG4gICAgbmV3IFNjcmlwdEJpbmRlcigpLFxuICAgIG5ldyBMb29wQmluZGVyKCksXG4gICAgbmV3IFN3aXRjaEJpbmRlcigpXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZEJpbmRlcihuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVnaXN0cnkuZmluZChidWlsdGluID0+IGJ1aWx0aW4uYWNjZXB0KG5hbWUpKTtcbn0iLCJpbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IENsYXNzTWFuYWdlciBmcm9tICcuL0NsYXNzTWFuYWdlcic7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZsZXhDb250YWluZXJTdXBwb3J0KGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIGNsYXNzTWFuYWdlcjogQ2xhc3NNYW5hZ2VyLCBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG5cbiAgICBjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH07XG5cbiAgICBpZiAoYXR0cmlidXRlcy5wYWRkaW5nKSB7XG4gICAgICAgIHN0eWxlc1sncGFkZGluZyddID0gYXR0cmlidXRlcy5wYWRkaW5nO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLm9yaWVudGF0aW9uKSB7XG4gICAgICAgIHN0eWxlc1snZmxleC1kaXJlY3Rpb24nXSA9IGF0dHJpYnV0ZXMub3JpZW50YXRpb24udG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKFwiX1wiLCBcIi1cIik7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQgPT09ICdTVEFSVCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snanVzdGlmeS1jb250ZW50J10gPSAnZmxleC1zdGFydCc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5qdXN0aWZ5Q29udGVudCA9PT0gJ0VORCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snanVzdGlmeS1jb250ZW50J10gPSAnZmxleC1lbmQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQgPT09ICdDRU5URVInKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2p1c3RpZnktY29udGVudCddID0gJ2NlbnRlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5qdXN0aWZ5Q29udGVudCA9PT0gJ1NQQUNFX0JFVFdFRU4nKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2p1c3RpZnktY29udGVudCddID0gJ3NwYWNlLWJldHdlZW4nO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuanVzdGlmeUNvbnRlbnQgPT09ICdTUEFDRV9BUk9VTkQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2p1c3RpZnktY29udGVudCddID0gJ3NwYWNlLWFyb3VuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5hbGlnbkl0ZW1zKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmFsaWduSXRlbXMgPT09ICdTVEFSVCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24taXRlbXMnXSA9ICdmbGV4LXN0YXJ0JztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduSXRlbXMgPT09ICdFTkQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWl0ZW1zJ10gPSAnZmxleC1lbmQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25JdGVtcyA9PT0gJ0NFTlRFUicpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24taXRlbXMnXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25JdGVtcyA9PT0gJ0JBU0VMSU5FJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1pdGVtcyddID0gJ2Jhc2VsaW5lJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduSXRlbXMgPT09ICdTVFJFVENIJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1pdGVtcyddID0gJ3N0cmV0Y2gnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuYWxpZ25Db250ZW50KSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmFsaWduQ29udGVudCA9PT0gJ1NUQVJUJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1jb250ZW50J10gPSAnZmxleC1zdGFydCc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnbkNvbnRlbnQgPT09ICdFTkQnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWNvbnRlbnQnXSA9ICdmbGV4LWVuZCc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnbkNvbnRlbnQgPT09ICdDRU5URVInKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWNvbnRlbnQnXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25Db250ZW50ID09PSAnQkFTRUxJTkUnKSB7XG4gICAgICAgICAgICBzdHlsZXNbJ2FsaWduLWNvbnRlbnQnXSA9ICdiYXNlbGluZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcy5hbGlnbkNvbnRlbnQgPT09ICdTVFJFVENIJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1jb250ZW50J10gPSAnc3RyZXRjaCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy53cmFwKSB7XG4gICAgICAgIHN0eWxlc1snZmxleC13cmFwJ10gPSBhdHRyaWJ1dGVzLndyYXAudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKFwiX1wiLCBcIi1cIik7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlcykpIHtcbiAgICAgICAgYnVmZmVyLmFwcGVuZChgJHtrZXl9OiAke3ZhbHVlfTtgKTtcbiAgICB9XG5cbiAgICBkYXRhLmNvbnRhaW5lclN0eWxlcyA9IGJ1ZmZlci50b1N0cmluZygpO1xufVxuIiwiaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi9DbGFzc01hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbGV4SXRlbVN1cHBvcnQoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiwgY2xhc3NNYW5hZ2VyOiBDbGFzc01hbmFnZXIsIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcblxuICAgIGNvbnN0IHN0eWxlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMucGFkZGluZykge1xuICAgICAgICBzdHlsZXNbJ3BhZGRpbmcnXSA9IGF0dHJpYnV0ZXMucGFkZGluZztcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5tYXJnaW4pIHtcbiAgICAgICAgc3R5bGVzWydtYXJnaW4nXSA9IGF0dHJpYnV0ZXMubWFyZ2luO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZsZXhCYXNpcykge1xuICAgICAgICBzdHlsZXNbJ2ZsZXgtYmFzaXMnXSA9IGF0dHJpYnV0ZXMuZmxleEJhc2lzO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZsZXhHcm93KSB7XG4gICAgICAgIHN0eWxlc1snZmxleC1ncm93J10gPSBhdHRyaWJ1dGVzLmZsZXhHcm93O1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZsZXhTaHJpbmspIHtcbiAgICAgICAgc3R5bGVzWydmbGV4LXNocmluayddID0gYXR0cmlidXRlcy5mbGV4U2hyaW5rO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmFsaWduU2VsZikge1xuICAgICAgICBpZiAoYXR0cmlidXRlcy5hbGlnblNlbGYgPT09ICdTVEFSVCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tc2VsZiddID0gJ2ZsZXgtc3RhcnQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25TZWxmID09PSAnRU5EJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1zZWxmJ10gPSAnZmxleC1lbmQnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25TZWxmID09PSAnQ0VOVEVSJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1zZWxmJ10gPSAnY2VudGVyJztcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzLmFsaWduU2VsZiA9PT0gJ0JBU0VMSU5FJykge1xuICAgICAgICAgICAgc3R5bGVzWydhbGlnbi1zZWxmJ10gPSAnYmFzZWxpbmUnO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMuYWxpZ25TZWxmID09PSAnU1RSRVRDSCcpIHtcbiAgICAgICAgICAgIHN0eWxlc1snYWxpZ24tc2VsZiddID0gJ3N0cmV0Y2gnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuaGVpZ2h0KSB7XG4gICAgICAgIHN0eWxlc1snaGVpZ2h0J10gPSBhdHRyaWJ1dGVzLmhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy53aWR0aCkge1xuICAgICAgICBzdHlsZXNbJ3dpZHRoJ10gPSBhdHRyaWJ1dGVzLndpZHRoO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmJvcmRlclJhZGl1cykge1xuICAgICAgICBzdHlsZXNbJ2JvcmRlci1yYWRpdXMnXSA9IGF0dHJpYnV0ZXMuYm9yZGVyUmFkaXVzO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmJhY2tncm91bmRGbGF2b3VyKSB7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoYXR0cmlidXRlcy5iYWNrZ3JvdW5kRmxhdm91ciwgJ2JnLScsICcnKTtcbiAgICB9XG5cbiAgICBjb25zdCBidWZmZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGVzKSkge1xuICAgICAgICBidWZmZXIuYXBwZW5kKGAke2tleX06ICR7dmFsdWV9O2ApO1xuICAgIH1cblxuICAgIGRhdGEuaXRlbVN0eWxlcyA9IGJ1ZmZlci50b1N0cmluZygpO1xufVxuIiwiaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnLi9mcmVlbWFya2VyL3RlbXBsYXRlL2xleGVyJztcbmltcG9ydCB7IExleGljYWxUb2tlblR5cGUgfSBmcm9tICcuL2ZyZWVtYXJrZXIvdGVtcGxhdGUvTGV4aWNhbFRva2VuVHlwZSc7XG5pbXBvcnQgeyBMZXhpY2FsVG9rZW4gfSBmcm9tICcuL2ZyZWVtYXJrZXIvdGVtcGxhdGUvTGV4aWNhbFRva2VuJztcbmltcG9ydCB7IFJlZmVyZW5jZSB9IGZyb20gJy4vZnJlZW1hcmtlci9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IEV4cHJlc3Npb25FbmdpbmUgfSBmcm9tICcuL2ZyZWVtYXJrZXIvZXhwcmVzc2lvbi1lbmdpbmUnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4vZnJlZW1hcmtlci9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IFByb2hpYml0ZWRFcnJvciB9IGZyb20gJy4vZnJlZW1hcmtlci9Qcm9oaWJpdGVkRXJyb3InO1xuaW1wb3J0IHsgaXNIYXNoIH0gZnJvbSAnLi91dGlsaXRpZXMvaXNIYXNoJztcblxuY29uc3QgUFJPSElCSVRFRCA9IFtcbiAgICBcImF0dGVtcHRcIiwgXCJyZWNvdmVyXCIsIFwiYXV0b2VzY1wiLCBcImNvbXByZXNzXCIsIFwiZXNjYXBlXCIsIFwibm9lc2NhcGVcIiwgXCJmbHVzaFwiLCBcImZ0bFwiLCBcImZ1bmN0aW9uXCIsIFwicmV0dXJuXCIsIFwiZ2xvYmFsXCIsXG4gICAgXCJpbXBvcnRcIiwgXCJpbmNsdWRlXCIsIFwiY29udGludWVcIiwgXCJsb2NhbFwiLCBcIm1hY3JvXCIsIFwibmVzdGVkXCIsIFwicmV0dXJuXCIsIFwibm9vYXV0b2VzY1wiLCBcIm5vcGFyc2VcIiwgXCJudFwiLFxuICAgIFwib3V0cHV0Zm9ybWF0XCIsIFwic2V0dGluZ3NcIiwgXCJzdG9wXCIsIFwidFwiLCBcImx0XCIsIFwicnRcIiwgXCJ2aXNpdFwiLCBcInJlY3Vyc2VcIiwgXCJmYWxsYmFja1wiXG5dO1xuXG5cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUVuZ2luZSB7XG5cbiAgICBwcml2YXRlIGV4cHJlc3Npb25FbmdpbmUgPSBuZXcgRXhwcmVzc2lvbkVuZ2luZSgpO1xuXG4gICAgcmVuZGVyKHRlbXBsYXRlOiBzdHJpbmcsIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBzdHJpbmcge1xuXG4gICAgICAgIGNvbnN0IHRva2VucyA9IHBhcnNlKHRlbXBsYXRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSlbMF07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaXNjYXJkKHRva2VuczogTGV4aWNhbFRva2VuW10pIHtcblxuICAgICAgICBsZXQgbGV2ZWwgPSAwO1xuICAgICAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKSE7XG5cbiAgICAgICAgICAgIGlmICh0b2tlbi5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuQ0xPU0VfRElSRUNUSVZFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2lmJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdsaXN0JyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdhc3NpZ24nIHx8IHRva2VuLmdldFRleHQoKSA9PT0gJ2l0ZW1zJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdzd2l0Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwtLTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLk9QRU5fRElSRUNUSVZFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2lmJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdsaXN0JyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdpdGVtcycgfHwgdG9rZW4uZ2V0VGV4dCgpID09PSAnc3dpdGNoJykge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VGV4dCgpID09PSAnYXNzaWduJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuLmdldFBhcmFtcygpPy5pbmNsdWRlcyhcIj1cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxldmVsID09PSAwICYmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdlbHNlJyB8fCB0b2tlbi5nZXRUZXh0KCkgPT09ICdlbHNlaWYnIHx8IHRva2VuLmdldFRleHQoKSA9PT0gJ2Nhc2UnIHx8IHRva2VuLmdldFRleHQoKSA9PT0gJ2RlZmF1bHQnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lKHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBbY29udGVudDogc3RyaW5nLCBjbG9zZTogTGV4aWNhbFRva2VuIHwgdW5kZWZpbmVkXSB7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgICAgICAgICAgaWYgKHRva2VuLmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5URVhUKSB7XG5cbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHRva2VuLmdldFRleHQoKSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLklOVEVSUE9MQVRJT04pIHtcblxuICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQodGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKHRva2VuLmdldFBhcmFtcygpISwgdG9rZW4uZ2V0UGFyYW1zUm93KCkhLCB0b2tlbi5nZXRQYXJhbXNDb2x1bW4oKSEpLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5PUEVOX0RJUkVDVElWRSkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdhc3NpZ24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuaGFuZGxlQXNzaWduKHRva2VuLmdldFBhcmFtcygpISwgdG9rZW4uZ2V0UGFyYW1zUm93KCkhLCB0b2tlbi5nZXRQYXJhbXNDb2x1bW4oKSEsIHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdpZicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5oYW5kbGVJZih0b2tlbi5nZXRQYXJhbXMoKSEsIHRva2VuLmdldFBhcmFtc1JvdygpISwgdG9rZW4uZ2V0UGFyYW1zQ29sdW1uKCkhLCB0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSAhPT0gJ2lmJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBcIkludmFsaWQgY2xvc2luZyB0YWcgZm9yIGlmXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuaGFuZGxlTGlzdCh0b2tlbi5nZXRQYXJhbXMoKSEsIHRva2VuLmdldFBhcmFtc1JvdygpISwgdG9rZW4uZ2V0UGFyYW1zQ29sdW1uKCkhLCB0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSAhPT0gJ2xpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIFwiSW52YWxpZCBjbG9zaW5nIHRhZyBmb3IgbGlzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdzd2l0Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuaGFuZGxlU3dpdGNoKHRva2VuLmdldFBhcmFtcygpISwgdG9rZW4uZ2V0UGFyYW1zUm93KCkhLCB0b2tlbi5nZXRQYXJhbXNDb2x1bW4oKSEsIHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpICE9PSAnc3dpdGNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBcIkludmFsaWQgY2xvc2luZyB0YWcgZm9yIHN3aXRjaFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdlbHNlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB0b2tlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdlbHNlaWYnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbYnVmZmVyLnRvU3RyaW5nKCksIHRva2VuXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2l0ZW1zJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB0b2tlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbYnVmZmVyLnRvU3RyaW5nKCksIHRva2VuXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLmdldFRleHQoKSA9PT0gJ2JyZWFrJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCB0b2tlbl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUZXh0KCkgPT09ICdjYXNlJykge1xuICAgICAgICAgICAgICAgICAgICAvL2lnbm9yZSBjYXNlIGRpcmVjdGl2ZSBhcyB3ZSBzdG9wIG9uICdicmVhaydcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFBST0hJQklURUQuaW5jbHVkZXModG9rZW4uZ2V0VGV4dCgpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvaGliaXRlZEVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYERpcmVjdGl2ZSBpcyBwcm9oaWJpdGVkICcke3Rva2VuLmdldFRleHQoKX0nYCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBgVW5zdXBwb3J0ZWQgZGlyZWN0aXZlICcke3Rva2VuLmdldFRleHQoKX0nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuQ0xPU0VfRElSRUNUSVZFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtidWZmZXIudG9TdHJpbmcoKSwgdG9rZW5dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbYnVmZmVyLnRvU3RyaW5nKCksIHVuZGVmaW5lZF07XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHByb2Nlc3NMaXN0KHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHNlcXVlbmNlOiBhbnlbXSwgYXJnTmFtZTogc3RyaW5nKTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuICAgICAgICBjb25zdCBjb3B5ID0gWy4uLnRva2Vuc107XG4gICAgICAgIGxldCBibG9jayA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgbGV0IHNlcGFyYXRvcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgY2xvc2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlID0geyAuLi5kYXRhIH07XG5cbiAgICAgICAgICAgIHNjb3BlW2FyZ05hbWVdID0gc2VxdWVuY2VbaV07XG4gICAgICAgICAgICBzY29wZVtgJCR7YXJnTmFtZX0kYF0gPSB0cnVlO1xuICAgICAgICAgICAgc2NvcGVbYCQke2FyZ05hbWV9X2luZGV4JGBdID0gaTtcbiAgICAgICAgICAgIHNjb3BlW2AkJHthcmdOYW1lfV9sZW5ndGgkYF0gPSBzZXF1ZW5jZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChzZXBhcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHNlcGFyYXRvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsID0gWy4uLmJsb2NrXTtcbiAgICAgICAgICAgICAgICBsZXQgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKGxvY2FsLCBzY29wZSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIFtzZXBhcmF0b3IsIGNsb3NlXSA9IHRoaXMuY29uc3VtZShsb2NhbCwgc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKGxvY2FsLCBzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2Vucywgc2NvcGUpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICBbc2VwYXJhdG9yLCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUodG9rZW5zLCBzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdzZXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcmVzdWx0LCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUodG9rZW5zLCBzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBibG9jayA9IGNvcHkuc2xpY2UoMCwgY29weS5sZW5ndGggLSB0b2tlbnMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VxdWVuY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzY29wZSA9IHsgLi4uZGF0YSB9O1xuXG4gICAgICAgICAgICBzY29wZVthcmdOYW1lXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbYnVmZmVyLnRvU3RyaW5nKCksIGNsb3NlXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NIYXNoKHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIGhhc2g6IFJlY29yZDxzdHJpbmcsIGFueT4sIGtleU5hbWU6IHN0cmluZywgYXJnTmFtZTogc3RyaW5nKTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuICAgICAgICBjb25zdCBjb3B5ID0gWy4uLnRva2Vuc107XG4gICAgICAgIGxldCBibG9jayA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgbGV0IHNlcGFyYXRvcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgY2xvc2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGhhc2gpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaGFzaFtrZXldO1xuICAgICAgICAgICAgY29uc3Qgc2NvcGUgPSB7IC4uLmRhdGEgfTtcblxuICAgICAgICAgICAgc2NvcGVba2V5TmFtZV0gPSBrZXk7XG4gICAgICAgICAgICBzY29wZVthcmdOYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbCA9IFsuLi5ibG9ja107XG4gICAgICAgICAgICAgICAgbGV0IFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZShsb2NhbCwgc2NvcGUpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICBbc2VwYXJhdG9yLCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUobG9jYWwsIHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZShsb2NhbCwgc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIHNjb3BlKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ3NlcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlcGFyYXRvciwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2Vucywgc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnc2VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2Vucywgc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmFwcGVuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYmxvY2sgPSBjb3B5LnNsaWNlKDAsIGNvcHkubGVuZ3RoIC0gdG9rZW5zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGhhc2gpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2NvcGUgPSB7IC4uLmRhdGEgfTtcblxuICAgICAgICAgICAgc2NvcGVbYXJnTmFtZV0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCBjbG9zZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVMaXN0KGV4cHJlc3Npb246IHN0cmluZywgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCB0b2tlbnM6IExleGljYWxUb2tlbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogW2NvbnRlbnQ6IHN0cmluZywgY2xvc2U6IExleGljYWxUb2tlbiB8IHVuZGVmaW5lZF0ge1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHVuZGVmaW5lZCwgY2xvc2UgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGV4cHJlc3Npb24uaW5jbHVkZXMoXCIgYXMgXCIpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFtyZWZOYW1lLCBhcmdOYW1lXSA9IGV4cHJlc3Npb24uc3BsaXQoXCIgYXMgXCIpLm1hcCh4ID0+IHgudHJpbSgpKTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdCA9IHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZChyZWZOYW1lLCByb3csIGNvbHVtbikuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcblxuICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMucHJvY2Vzc0xpc3QodG9rZW5zLCBkYXRhLCBzdWJqZWN0LCBhcmdOYW1lKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzSGFzaChzdWJqZWN0KSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gYXJnTmFtZS5zcGxpdChcIixcIikubWFwKHMgPT4gcy50cmltKCkpO1xuICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMucHJvY2Vzc0hhc2godG9rZW5zLCBkYXRhLCBzdWJqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBcIidhcycgb3BlcmF0b3IgcmVxdWlyZXMgYW4gaXRlcmFibGUgc3ViamVjdCAoaGFzaCBvciBzZXF1ZW5jZSkuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjbG9zZT8uZ2V0VGV4dCgpID09PSAnZWxzZScpIHtcblxuICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBbdGV4dCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQodGV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29uc3QgcmVmID0gdGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKGV4cHJlc3Npb24sIHJvdywgY29sdW1uKS5ldmFsdWF0ZShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3QgPSByZWYucmV0cmlldmUoKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpIHx8IGlzSGFzaChzdWJqZWN0KSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKChBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIHN1YmplY3QubGVuZ3RoKSB8fCAoaXNIYXNoKHN1YmplY3QpICYmIE9iamVjdC5rZXlzKHN1YmplY3QpLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5PUEVOX0RJUkVDVElWRSAmJiBjbG9zZT8uZ2V0VGV4dCgpID09PSAnaXRlbXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtibGFuaywgYXJnTmFtZV0gPSBjbG9zZS5nZXRQYXJhbXMoKSEuc3BsaXQoXCJhc1wiKS5tYXAoeCA9PiB4LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5wcm9jZXNzTGlzdCh0b2tlbnMsIGRhdGEsIHN1YmplY3QsIGFyZ05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNIYXNoKHN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW2JsYW5rLCBhcmdOYW1lXSA9IGNsb3NlPy5nZXRQYXJhbXMoKSEuc3BsaXQoXCJhc1wiKS5tYXAoeCA9PiB4LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gYXJnTmFtZS5zcGxpdChcIixcIikubWFwKHMgPT4gcy50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZXN1bHQsIGNsb3NlXSA9IHRoaXMucHJvY2Vzc0hhc2godG9rZW5zLCBkYXRhLCBzdWJqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5DTE9TRV9ESVJFQ1RJVkUgJiYgY2xvc2U/LmdldFRleHQoKSA9PT0gJ2l0ZW1zJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xvc2U/LmdldFRleHQoKSA9PT0gJ2Vsc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdlbHNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuYXBwZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2xvc2UgJiYgY2xvc2UuZ2V0VGV4dCgpICE9PSAnbGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IoY2xvc2UuZ2V0Q29sdW1uKCksIGNsb3NlLmdldFJvdygpLCBcIkxpc3QgaW1wcm9wZXJseSB0ZXJtaW5hdGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgXCJsaXN0IGRpcmVjdGl2ZSByZXF1aXJlcyBhbiBpdGVyYWJsZSBzdWJqZWN0IChzZXF1ZW5jZSBvciBoYXNoKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2J1ZmZlci50b1N0cmluZygpLCBjbG9zZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVBc3NpZ24oZXhwcmVzc2lvbjogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBbY29udGVudDogc3RyaW5nLCBjbG9zZTogTGV4aWNhbFRva2VuIHwgdW5kZWZpbmVkXSB7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmV4cHJlc3Npb25FbmdpbmUuYnVpbGQoZXhwcmVzc2lvbiwgcm93LCBjb2x1bW4pLmV2YWx1YXRlKGRhdGEpO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWZlcmVuY2UpIHtcblxuICAgICAgICAgICAgY29uc3QgW3Jlc3VsdCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICB2YWx1ZS5hc3NpZ24ocmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiBbXCJcIiwgY2xvc2VdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXCJcIiwgdW5kZWZpbmVkXTtcbiAgICB9XG5cbiAgICBoYW5kbGVJZihleHByZXNzaW9uOiBzdHJpbmcsIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgdG9rZW5zOiBMZXhpY2FsVG9rZW5bXSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFtjb250ZW50OiBzdHJpbmcsIGNsb3NlOiBMZXhpY2FsVG9rZW4gfCB1bmRlZmluZWRdIHtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gdW5kZWZpbmVkLCB0ZXh0ID0gdW5kZWZpbmVkLCBjbG9zZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBib29sID0gdGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKGV4cHJlc3Npb24sIHJvdywgY29sdW1uKS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICBbdGV4dCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICByZXN1bHQgPSB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChjbG9zZSAmJiBjbG9zZS5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUgJiYgY2xvc2UuZ2V0VGV4dCgpID09PSAnZWxzZWlmJykge1xuXG4gICAgICAgICAgICBjb25zdCBib29sID0gdGhpcy5leHByZXNzaW9uRW5naW5lLmJ1aWxkKGNsb3NlLmdldFBhcmFtcygpISwgY2xvc2UuZ2V0Um93KCksIGNsb3NlLmdldENvbHVtbigpKS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICBpZiAoYm9vbCAmJiByZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIFt0ZXh0LCBjbG9zZV0gPSB0aGlzLmNvbnN1bWUodG9rZW5zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0ZXh0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZSA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsb3NlPy5nZXRUZXh0KCkgPT09ICdlbHNlJykge1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBbdGV4dCwgY2xvc2VdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGV4dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvc2UgPSB0aGlzLmRpc2NhcmQodG9rZW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbcmVzdWx0IHx8IFwiXCIsIGNsb3NlXTtcbiAgICB9XG5cbiAgICBoYW5kbGVTd2l0Y2goZXhwcmVzc2lvbjogc3RyaW5nLCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHRva2VuczogTGV4aWNhbFRva2VuW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBbY29udGVudDogc3RyaW5nLCBjbG9zZTogTGV4aWNhbFRva2VuIHwgdW5kZWZpbmVkXSB7XG4gICAgICAgIGxldCB0ZXh0ID0gdW5kZWZpbmVkLCBjbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHRoaXMuZXhwcmVzc2lvbkVuZ2luZS5idWlsZChleHByZXNzaW9uLCByb3csIGNvbHVtbikuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBsZXQgY3VycmVudCA9IHRva2Vucy5zaGlmdCgpO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQuZ2V0VHlwZSgpICE9PSBMZXhpY2FsVG9rZW5UeXBlLkNMT1NFX0RJUkVDVElWRSkge1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5nZXRUeXBlKCkgPT09IExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUgJiYgY3VycmVudC5nZXRUZXh0KCkgPT09ICdjYXNlJykge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmV4cHJlc3Npb25FbmdpbmUuYnVpbGQoY3VycmVudC5nZXRQYXJhbXMoKSEsIGN1cnJlbnQuZ2V0Um93KCksIGN1cnJlbnQuZ2V0Q29sdW1uKCkpLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlID09PSB2YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQuZ2V0VHlwZSgpID09PSBMZXhpY2FsVG9rZW5UeXBlLk9QRU5fRElSRUNUSVZFICYmIGN1cnJlbnQuZ2V0VGV4dCgpID09PSBcImNhc2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3RleHQsIGN1cnJlbnRdID0gdGhpcy5jb25zdW1lKHRva2VucywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQuZ2V0VHlwZSgpICE9PSBMZXhpY2FsVG9rZW5UeXBlLkNMT1NFX0RJUkVDVElWRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5kaXNjYXJkKHRva2Vucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmdldFR5cGUoKSA9PT0gTGV4aWNhbFRva2VuVHlwZS5PUEVOX0RJUkVDVElWRSAmJiBjdXJyZW50LmdldFRleHQoKSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGlzY2FyZCh0b2tlbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFt0ZXh0LCBjdXJyZW50XSA9IHRoaXMuY29uc3VtZSh0b2tlbnMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKHRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRva2Vucy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyZXN1bHQudG9TdHJpbmcoKSwgY3VycmVudF07XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZyZWVtYXJrZXJFcnJvciBleHRlbmRzIEVycm9yIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgcHJpdmF0ZSBjYXVzZTogRXJyb3IgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxufSIsImltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgUHJvaGliaXRlZEVycm9yIGV4dGVuZHMgVGVtcGxhdGVFcnJvciB7XG5cbn0iLCJpbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIFJlZmVyZW5jZU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBUZW1wbGF0ZUVycm9yIHtcblxufSIsImV4cG9ydCBjbGFzcyBUZW1wbGF0ZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXG4gICAgY29uc3RydWN0b3Iocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBtZXNzYWdlOiBzdHJpbmcsIHByaXZhdGUgY2F1c2U6IFRlbXBsYXRlRXJyb3IgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIoYCgke3JvdyArIDF9OiR7Y29sdW1uICsgMX0pICR7bWVzc2FnZX1gKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcblxuZXhwb3J0IGNsYXNzIEJvb2xlYW5CdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJib29sZWFuXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmIChzdWJqZWN0ID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ViamVjdCA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYENhbm5vdCBjb252ZXJ0IHN0cmluZyB0byBib29sZWFuYCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNXaGl0ZXNwYWNlJztcblxuZXhwb3J0IGNsYXNzIENhcEZpcnN0QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwiY2FwX2ZpcnN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzdWJqZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2Uoc3ViamVjdC5jaGFyQXQoaW5kZXgpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNsaWNlKDAsIGluZGV4KSArIHN1YmplY3QuY2hhckF0KGluZGV4KS50b1VwcGVyQ2FzZSgpICsgc3ViamVjdC5zbGljZShpbmRleCArIDEpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc1doaXRlc3BhY2UnO1xuXG5leHBvcnQgY2xhc3MgQ2FwaXRhbGl6ZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImNhcGl0YWxpemVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IG91dHB1dDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBsZXQgbGF0Y2ggPSB0cnVlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ViamVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYyA9IHN1YmplY3QuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGxhdGNoKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYy50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBsYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKG91dHB1dC5qb2luKFwiXCIpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIENlaWxCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gXCJjZWlsXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihNYXRoLmNlaWwoc3ViamVjdCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgQ2hvcExpbmVicmVha0J1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImNob3BfbGluZWJyZWFrXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzdWJqZWN0Lmxlbmd0aDtcblxuICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggJiYgc3ViamVjdC5jaGFyQXQobGVuZ3RoIC0gMSkgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggPiAyICYmIHN1YmplY3QuY2hhckF0KGxlbmd0aCAtIDIpID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc2xpY2UoMCwgbGVuZ3RoIC0gMikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZSgwLCBsZW5ndGggLSAxKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViamVjdC5sZW5ndGggJiYgc3ViamVjdC5jaGFyQXQobGVuZ3RoIC0gMSkgPT09ICdcXHInKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNsaWNlKDAsIGxlbmd0aCAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgQ2h1bmtCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJjaHVua1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBsZW5ndGggPSBhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogYW55W10gPSBbXTtcbiAgICAgICAgbGV0IGdyb3VwOiBhbnlbXSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJqZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSAlIGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZ3JvdXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JvdXAhLnB1c2goc3ViamVjdFtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goZ3JvdXApO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdHMpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBDb250YWluc0J1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJjb250YWluc1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LmluY2x1ZGVzKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNEYXRlJztcblxuZXhwb3J0IGNsYXNzIERhdGVCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiIHx8IGlzRGF0ZShzdWJqZWN0KSkgJiYgbmFtZSA9PT0gXCJkYXRlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBkdGUgPSBpc0RhdGUoc3ViamVjdCkgPyBzdWJqZWN0IDogbmV3IERhdGUoc3ViamVjdCk7XG4gICAgICAgIGR0ZS5zZXRIb3VycygwKTtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZHRlKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcbmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0RhdGUnO1xuXG5leHBvcnQgY2xhc3MgRGF0ZXRpbWVCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiIHx8IGlzRGF0ZShzdWJqZWN0KSkgJiYgbmFtZSA9PT0gXCJkYXRldGltZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoaXNEYXRlKHN1YmplY3QpID8gc3ViamVjdCA6IG5ldyBEYXRlKHN1YmplY3QpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgTGFtYmRhRXhwcmVzc2lvbiB9IGZyb20gJy4uL2V4cHJlc3Npb24vTGFtYmRhRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBEcm9wV2hpbGVCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJkcm9wX3doaWxlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCBsYW1iZGEgPSBhcmcxO1xuXG4gICAgICAgIGlmICghKGxhbWJkYSBpbnN0YW5jZW9mIExhbWJkYUV4cHJlc3Npb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgYXJndW1lbnQsIG9ubHkgbGFtYmRhIGlzIGN1cnJlbnQgc3VwcG9ydGVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBib29sID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGkgPCBzdWJqZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICBib29sID0gbGFtYmRhLmV2YWx1YXRlKHsgJyQkJzogc3ViamVjdFtpXSwgLi4uZGF0YSB9KS5yZXRyaWV2ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWJvb2wpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdWJqZWN0W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBFbmRzV2l0aEJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJlbmRzX3dpdGhcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5lbmRzV2l0aChhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBFbnN1cmVFbmRzV2l0aEJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJlbnN1cmVfZW5kc193aXRoXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBhcmcgPSBhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3ViamVjdC5lbmRzV2l0aChhcmcuc2xpY2UoMCwgYXJnLmxlbmd0aCAtIGkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QgKyBhcmcuc2xpY2UoYXJnLmxlbmd0aCAtIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QgKyBhcmcpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgRW5zdXJlU3RhcnRzV2l0aEJ1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJlbnN1cmVfc3RhcnRzX3dpdGhcIjtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3NbMF0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YmplY3Quc3RhcnRzV2l0aChhcmcuc2xpY2UoaSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGFyZy5zbGljZSgwLCBpKSArIHN1YmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoYXJnICsgc3ViamVjdCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuXG4gICAgICAgICAgICBjb25zdCByZWdleCA9IGFyZ3NbMF0uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2UgPSBhcmdzWzFdLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QucmVwbGFjZShuZXcgUmVnRXhwKHJlZ2V4KSwgcmVwbGFjZSkpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50c2ApO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IExhbWJkYUV4cHJlc3Npb24gfSBmcm9tICcuLi9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgRmlsdGVyQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwiZmlsdGVyXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCBsYW1iZGEgPSBhcmcxO1xuXG4gICAgICAgIGlmICghKGxhbWJkYSBpbnN0YW5jZW9mIExhbWJkYUV4cHJlc3Npb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgYXJndW1lbnQsIG9ubHkgbGFtYmRhIGlzIGN1cnJlbnQgc3VwcG9ydGVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBsYW1iZGEuZXZhbHVhdGUoeyAnJCQnOiBzdWJqZWN0W2ldLCAuLi5kYXRhIH0pLnJldHJpZXZlKCk7XG4gICAgICAgICAgICBpZiAoYm9vbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN1YmplY3RbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBGaXJzdEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwiZmlyc3RcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3RbMF0pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgRmxvb3JCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gXCJmbG9vclwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoTWF0aC5mbG9vcihzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc0hhc2ggfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNIYXNoJztcblxuZXhwb3J0IGNsYXNzIEhhc0NvbnRlbnRCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZSA9PT0gXCJoYXNfY29udGVudFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBpZiAoc3ViamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QubGVuZ3RoID4gMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNIYXNoKHN1YmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihPYmplY3Qua2V5cyhzdWJqZWN0KS5sZW5ndGggPiAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5sZW5ndGggPiAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRydWUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBJbmRleE9mV2l0aEJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJpbmRleF9vZlwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LmluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIElzSW5maW5pdGVCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gXCJpc19pbmZpbml0ZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoIWlzRmluaXRlKHN1YmplY3QpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIElzTmFuQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwiaXNfbmFuXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihpc05hTihzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEpvaW5CdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJqb2luXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LmpvaW4oc2VwYXJhdG9yKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIEtlZXBBZnRlckJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJrZWVwX2FmdGVyXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzdWJqZWN0LmluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zdWJzdHJpbmcoaW5kZXggKyBhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKS5sZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIEtlZXBBZnRlckxhc3RCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwia2VlcF9hZnRlcl9sYXN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzdWJqZWN0Lmxhc3RJbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3Vic3RyaW5nKGluZGV4ICsgYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkubGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBLZWVwQmVmb3JlQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImtlZXBfYmVmb3JlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzdWJqZWN0LmluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIEtlZXBCZWZvcmVMYXN0QnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImtlZXBfYmVmb3JlX2xhc3RcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHN1YmplY3QubGFzdEluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBMYXN0QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJsYXN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmIChzdWJqZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdFtzdWJqZWN0Lmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgU2VxdWVuY2UgaXMgZW1wdHksICdsYXN0JyBidWlsdGluIGVycm9yYCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTGFzdEluZGV4T2ZXaXRoQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcImxhc3RfaW5kZXhfb2ZcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5sYXN0SW5kZXhPZihhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgTGVmdFBhZEJ1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJsZWZ0X3BhZFwiO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZShzdWJqZWN0OiBhbnksIGFyZ3M6IEV4cHJlc3Npb25bXSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCB8fCBhcmdzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5ndGggPSBhcmdzWzBdLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgbGV0IGZpbGxlciA9ICcgJztcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBmaWxsZXIgPSBhcmdzWzFdLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWRkaW5nID0gZmlsbGVyLnJlcGVhdChsZW5ndGgpO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSBsZW5ndGggLSBzdWJqZWN0Lmxlbmd0aDtcblxuICAgICAgICBpZiAobWlzc2luZyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHBhZGRpbmcuc3Vic3RyaW5nKDAsIG1pc3NpbmcpICsgc3ViamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBMZW5ndGhCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJsZW5ndGhcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QubGVuZ3RoKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIExvd2VyQWJjQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IFwibG93ZXJfYWJjXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCB2YWwgPSBzdWJqZWN0O1xuXG4gICAgICAgIHdoaWxlICh2YWwgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdW5pdHMgPSAodmFsIC0gMSkgJSAyNjtcbiAgICAgICAgICAgIHJlc3VsdC51bnNoaWZ0KFN0cmluZy5mcm9tQ2hhckNvZGUodW5pdHMgKyA5NykpO1xuICAgICAgICAgICAgdmFsID0gKHZhbCAtICh1bml0cyArIDEpKSAvIDI2O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0LmpvaW4oXCJcIikpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTG93ZXJDYXNlQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwibG93ZXJfY2FzZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgTGFtYmRhRXhwcmVzc2lvbiB9IGZyb20gJy4uL2V4cHJlc3Npb24vTGFtYmRhRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBNYXBCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJtYXBcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueVtdID0gW107XG4gICAgICAgIGNvbnN0IGxhbWJkYSA9IGFyZzE7XG5cbiAgICAgICAgaWYgKCEobGFtYmRhIGluc3RhbmNlb2YgTGFtYmRhRXhwcmVzc2lvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBhcmd1bWVudCwgb25seSBsYW1iZGEgaXMgY3VycmVudCBzdXBwb3J0ZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzdWJqZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGFtYmRhLmV2YWx1YXRlKHsgJyQkJzogc3ViamVjdFtpXSwgLi4uZGF0YSB9KS5yZXRyaWV2ZSgpKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVzQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcIm1hdGNoZXNcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0Lm1hdGNoKFwiXlwiICsgYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgKyBcIiRcIikgIT09IG51bGwpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTWF4QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJtYXhcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGlmIChzdWJqZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzdWJqZWN0W2ldID4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc3ViamVjdFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgTWluQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJtaW5cIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIGlmIChzdWJqZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzdWJqZWN0W2ldIDwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc3ViamVjdFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb0FyZ0J1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFic3RyYWN0IGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZShzdWJqZWN0LCBkYXRhLCByb3csIGNvbHVtbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50c2ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZTtcbn1cbiIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJudW1iZXJcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKE51bWJlcihzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBCdWlsdGluIH0gZnJvbSAnLi4vQnVpbHRpbic7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBPbmVBcmdCdWlsdGluIGltcGxlbWVudHMgQnVpbHRpbiB7XG5cbiAgICBhYnN0cmFjdCBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuXG4gICAgY2FsY3VsYXRlKHN1YmplY3Q6IGFueSwgYXJnczogRXhwcmVzc2lvbltdLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZhbHVhdGUoc3ViamVjdCwgYXJnc1swXSwgZGF0YSwgcm93LCBjb2x1bW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFic3RyYWN0IGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZTtcbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBSZW1vdmVCZWdpbm5pbmdCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwicmVtb3ZlX2JlZ2lubmluZ1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBhcmcgPSBhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgaWYgKHN1YmplY3Quc3RhcnRzV2l0aChhcmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNsaWNlKGFyZy5sZW5ndGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBSZW1vdmVFbmRpbmdCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwicmVtb3ZlX2VuZGluZ1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBhcmcgPSBhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgaWYgKHN1YmplY3QuZW5kc1dpdGgoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZSgwLCBzdWJqZWN0Lmxlbmd0aCAtIGFyZy5sZW5ndGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgVHdvQXJnQnVpbHRpbiB9IGZyb20gJy4vVHdvQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBSZXBsYWNlQnVpbHRpbiBleHRlbmRzIFR3b0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInJlcGxhY2VcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGFyZzI6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QucmVwbGFjZUFsbChhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCksIGFyZzIuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBSZXZlcnNlQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJyZXZlcnNlXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnJldmVyc2UoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBCdWlsdGluIH0gZnJvbSAnLi4vQnVpbHRpbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5cbmV4cG9ydCBjbGFzcyBSaWdodFBhZEJ1aWx0aW4gaW1wbGVtZW50cyBCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJyaWdodF9wYWRcIjtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcblxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDAgfHwgYXJncy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50c2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJnc1swXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGxldCBmaWxsZXIgPSAnICc7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZmlsbGVyID0gYXJnc1sxXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGZpbGxlci5yZXBlYXQobGVuZ3RoKTtcblxuICAgICAgICBjb25zdCBtaXNzaW5nID0gbGVuZ3RoIC0gc3ViamVjdC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKG1pc3NpbmcgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0ICsgcGFkZGluZy5zdWJzdHJpbmcoMCwgbWlzc2luZykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgUm91bmRCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gXCJyb3VuZFwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoTWF0aC5yb3VuZChzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFNlcUNvbnRhaW5zQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwic2VxX2NvbnRhaW5zXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmc6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QuaW5jbHVkZXMoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgU2VxSW5kZXhPZkJ1aWx0aW4gZXh0ZW5kcyBPbmVBcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzdWJqZWN0KSAmJiBuYW1lID09PSBcInNlcV9pbmRleF9vZlwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LmluZGV4T2YoYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgT25lQXJnQnVpbHRpbiB9IGZyb20gJy4vT25lQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgU2VxTGFzdEluZGV4T2ZCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJzZXFfbGFzdF9pbmRleF9vZlwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0Lmxhc3RJbmRleE9mKGFyZy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBTaXplQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJzaXplXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0Lmxlbmd0aCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBTb3J0QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc3ViamVjdCkgJiYgbmFtZSA9PT0gXCJzb3J0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnNvcnQoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IGlzSGFzaCB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0hhc2gnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgU29ydEJ5QnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwic29ydF9ieVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCByb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgaWYgKChzdWJqZWN0IGFzIGFueVtdKS5maW5kKHggPT4gIWlzSGFzaCh4KSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgQXR0ZW1wdCB0byB1c2Ugc29ydF9ieSBvbiBhcnJheSBlbGVtZW50IHRoYXQgaXMgbm90IGEgaGFzaGApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zb3J0KCh4OiBhbnksIHk6IGFueSkgPT4geFtuYW1lXSA8IHlbbmFtZV0gPyAtMSA6IDApKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgU3BsaXRCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwic3BsaXRcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3BsaXQoYXJnKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIFN0YXJ0c1dpdGhCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwic3RhcnRzX3dpdGhcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgYXJnID0gYXJnMS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3Quc3RhcnRzV2l0aChhcmcpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IGlzRGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0RhdGUnO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgU3RyaW5nQnVpbHRpbiBpbXBsZW1lbnRzIEJ1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgfHwgaXNEYXRlKHN1YmplY3QpIHx8IHR5cGVvZiBzdWJqZWN0ID09PSBcImJvb2xlYW5cIikgJiYgbmFtZSA9PT0gXCJzdHJpbmdcIjtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGUoc3ViamVjdDogYW55LCBhcmdzOiBFeHByZXNzaW9uW10sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWJqZWN0ID09PSBcImJvb2xlYW5cIikge1xuXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmcxID0gYXJnc1swXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcxICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBhcmd1bWVudCwgc3RyaW5nIHRha2VzIHN0cmluZyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhcmcyID0gYXJnc1sxXS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcyICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSW52YWxpZCBhcmd1bWVudCwgc3RyaW5nIHRha2VzIHN0cmluZyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0ID8gYXJnMSA6IGFyZzIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyBzdXBwbGllZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNEYXRlKHN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKFN0cmluZyhzdWJqZWN0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyBzdXBwbGllZGApO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBPbmVBcmdCdWlsdGluIH0gZnJvbSAnLi9PbmVBcmdCdWlsdGluJztcbmltcG9ydCB7IExhbWJkYUV4cHJlc3Npb24gfSBmcm9tICcuLi9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgVGFrZVdoaWxlQnVpbHRpbiBleHRlbmRzIE9uZUFyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1YmplY3QpICYmIG5hbWUgPT09IFwidGFrZV93aGlsZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogYW55W10gPSBbXTtcbiAgICAgICAgY29uc3QgbGFtYmRhID0gYXJnMTtcblxuICAgICAgICBpZiAoIShsYW1iZGEgaW5zdGFuY2VvZiBMYW1iZGFFeHByZXNzaW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIGFyZ3VtZW50LCBvbmx5IGxhbWJkYSBpcyBjdXJyZW50IHN1cHBvcnRlZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgYm9vbCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChpIDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChib29sKSB7XG4gICAgICAgICAgICAgICAgYm9vbCA9IGxhbWJkYS5ldmFsdWF0ZSh7ICckJCc6IHN1YmplY3RbaV0sIC4uLmRhdGEgfSkucmV0cmlldmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzdWJqZWN0W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgVHdvQXJnQnVpbHRpbiB9IGZyb20gJy4vVHdvQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBUaGVuQnVpbHRpbiBleHRlbmRzIFR3b0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJib29sZWFuXCIgJiYgbmFtZSA9PT0gXCJ0aGVuXCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBhcmcxOiBFeHByZXNzaW9uLCBhcmcyOiBFeHByZXNzaW9uLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gc3ViamVjdCA/IGFyZzEuZXZhbHVhdGUoZGF0YSkgOiBhcmcyLmV2YWx1YXRlKGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzRGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lQnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiB8fCBpc0RhdGUoc3ViamVjdCkpICYmIG5hbWUgPT09IFwidGltZVwiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgZHRlID0gaXNEYXRlKHN1YmplY3QpID8gc3ViamVjdCA6IG5ldyBEYXRlKHN1YmplY3QpO1xuICAgICAgICBjb25zdCBtaWxsaXMgPSBkdGUuZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihuZXcgRGF0ZShtaWxsaXMgJSA4NjQwMDAwMCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgTm9BcmdCdWlsdGluIH0gZnJvbSAnLi9Ob0FyZ0J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgVHJpbUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInRyaW1cIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QudHJpbSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE9uZUFyZ0J1aWx0aW4gfSBmcm9tICcuL09uZUFyZ0J1aWx0aW4nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5leHBvcnQgY2xhc3MgVHJ1bmNhdGVCdWlsdGluIGV4dGVuZHMgT25lQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwidHJ1bmNhdGVcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGFyZzE6IEV4cHJlc3Npb24sIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBhcmcgPSBhcmcxLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgQXJndW1lbnQgdG8gdHJ1bmNhdGUgaXMgbm90IGEgbnVtYmVyYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3ViamVjdC5sZW5ndGggPiBhcmcgLSA1KSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0LnN1YnN0cmluZygwLCBhcmcgLSA1KSArIFwiWy4uLl1cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihzdWJqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4uL2V4cHJlc3Npb24vVmFsdWUnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgQnVpbHRpbiB9IGZyb20gJy4uL0J1aWx0aW4nO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHdvQXJnQnVpbHRpbiBpbXBsZW1lbnRzIEJ1aWx0aW4ge1xuXG4gICAgYWJzdHJhY3QgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbjtcblxuICAgIGNhbGN1bGF0ZShzdWJqZWN0OiBhbnksIGFyZ3M6IEV4cHJlc3Npb25bXSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Piwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKTogVmFsdWUge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2YWx1YXRlKHN1YmplY3QsIGFyZ3NbMF0sIGFyZ3NbMV0sIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHNgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFic3RyYWN0IGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgYXJnMTogRXhwcmVzc2lvbiwgYXJnMjogRXhwcmVzc2lvbiwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlO1xufVxuIiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc1doaXRlc3BhY2UnO1xuXG5leHBvcnQgY2xhc3MgVW5jYXBGaXJzdEJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInVuY2FwX2ZpcnN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzdWJqZWN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2Uoc3ViamVjdC5jaGFyQXQoaW5kZXgpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZSgwLCBpbmRleCkgKyBzdWJqZWN0LmNoYXJBdChpbmRleCkudG9Mb3dlckNhc2UoKSArIHN1YmplY3Quc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBVcHBlckFiY0J1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJudW1iZXJcIiAmJiBuYW1lID09PSBcInVwcGVyX2FiY1wiO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKHN1YmplY3Q6IGFueSwgZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgdmFsID0gc3ViamVjdDtcblxuICAgICAgICB3aGlsZSAodmFsID4gMCkge1xuICAgICAgICAgICAgbGV0IHVuaXRzID0gKHZhbCAtIDEpICUgMjY7XG4gICAgICAgICAgICByZXN1bHQudW5zaGlmdChTdHJpbmcuZnJvbUNoYXJDb2RlKHVuaXRzICsgNjUpKTtcbiAgICAgICAgICAgIHZhbCA9ICh2YWwgLSAodW5pdHMgKyAxKSkgLyAyNjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdC5qb2luKFwiXCIpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuLi9leHByZXNzaW9uL1ZhbHVlJztcbmltcG9ydCB7IE5vQXJnQnVpbHRpbiB9IGZyb20gJy4vTm9BcmdCdWlsdGluJztcblxuZXhwb3J0IGNsYXNzIFVwcGVyQ2FzZUJ1aWx0aW4gZXh0ZW5kcyBOb0FyZ0J1aWx0aW4ge1xuXG4gICAgYWNjZXB0KHN1YmplY3Q6IGFueSwgbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gXCJzdHJpbmdcIiAmJiBuYW1lID09PSBcInVwcGVyX2Nhc2VcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3QudG9VcHBlckNhc2UoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5cbmV4cG9ydCBjbGFzcyBVcmxCdWlsdGluIGV4dGVuZHMgTm9BcmdCdWlsdGluIHtcblxuICAgIGFjY2VwdChzdWJqZWN0OiBhbnksIG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIgJiYgbmFtZSA9PT0gXCJ1cmxcIjtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShzdWJqZWN0OiBhbnksIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGVuY29kZVVSSShzdWJqZWN0KSk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi9WYWx1ZSc7XG5pbXBvcnQgeyBOb0FyZ0J1aWx0aW4gfSBmcm9tICcuL05vQXJnQnVpbHRpbic7XG5pbXBvcnQgeyBpc1doaXRlc3BhY2UgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNXaGl0ZXNwYWNlJztcblxuZXhwb3J0IGNsYXNzIFdvcmRMaXN0QnVpbHRpbiBleHRlbmRzIE5vQXJnQnVpbHRpbiB7XG5cbiAgICBhY2NlcHQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdWJqZWN0ID09PSBcInN0cmluZ1wiICYmIG5hbWUgPT09IFwid29yZF9saXN0XCI7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoc3ViamVjdDogYW55LCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZigoc3ViamVjdCBhcyBzdHJpbmcpLnNwbGl0KFwiIFwiKS5maWx0ZXIoYXJnID0+IGFyZy5sZW5ndGgpLmZpbHRlcihhcmcgPT4gIWlzV2hpdGVzcGFjZShhcmcpKSk7XG4gICAgfVxufSIsImltcG9ydCB7IFRoZW5CdWlsdGluIH0gZnJvbSAnLi9UaGVuQnVpbHRpbic7XG5pbXBvcnQgeyBVcHBlckNhc2VCdWlsdGluIH0gZnJvbSAnLi9VcHBlckNhc2VCdWlsdGluJztcbmltcG9ydCB7IExvd2VyQ2FzZUJ1aWx0aW4gfSBmcm9tICcuL0xvd2VyQ2FzZUJ1aWx0aW4nO1xuaW1wb3J0IHsgQ2FwRmlyc3RCdWlsdGluIH0gZnJvbSAnLi9DYXBGaXJzdEJ1aWx0aW4nO1xuaW1wb3J0IHsgQ2FwaXRhbGl6ZUJ1aWx0aW4gfSBmcm9tICcuL0NhcGl0YWxpemVCdWlsdGluJztcbmltcG9ydCB7IFVuY2FwRmlyc3RCdWlsdGluIH0gZnJvbSAnLi9VbmNhcEZpcnN0QnVpbHRpbic7XG5pbXBvcnQgeyBUcmltQnVpbHRpbiB9IGZyb20gJy4vVHJpbUJ1aWx0aW4nO1xuaW1wb3J0IHsgQ2hvcExpbmVicmVha0J1aWx0aW4gfSBmcm9tICcuL0Nob3BMaW5lYnJlYWtCdWlsdGluJztcbmltcG9ydCB7IEJvb2xlYW5CdWlsdGluIH0gZnJvbSAnLi9Cb29sZWFuQnVpbHRpbic7XG5pbXBvcnQgeyBEYXRlQnVpbHRpbiB9IGZyb20gJy4vRGF0ZUJ1aWx0aW4nO1xuaW1wb3J0IHsgRGF0ZXRpbWVCdWlsdGluIH0gZnJvbSAnLi9EYXRldGltZUJ1aWx0aW4nO1xuaW1wb3J0IHsgVGltZUJ1aWx0aW4gfSBmcm9tICcuL1RpbWVCdWlsdGluJztcbmltcG9ydCB7IExlbmd0aEJ1aWx0aW4gfSBmcm9tICcuL0xlbmd0aEJ1aWx0aW4nO1xuaW1wb3J0IHsgU2l6ZUJ1aWx0aW4gfSBmcm9tICcuL1NpemVCdWlsdGluJztcbmltcG9ydCB7IFN0cmluZ0J1aWx0aW4gfSBmcm9tICcuL1N0cmluZ0J1aWx0aW4nO1xuaW1wb3J0IHsgQ29udGFpbnNCdWlsdGluIH0gZnJvbSAnLi9Db250YWluc0J1aWx0aW4nO1xuaW1wb3J0IHsgRW5kc1dpdGhCdWlsdGluIH0gZnJvbSAnLi9FbmRzV2l0aEJ1aWx0aW4nO1xuaW1wb3J0IHsgRW5zdXJlRW5kc1dpdGhCdWlsdGluIH0gZnJvbSAnLi9FbnN1cmVFbmRzV2l0aEJ1aWx0aW4nO1xuaW1wb3J0IHsgRW5zdXJlU3RhcnRzV2l0aEJ1aWx0aW4gfSBmcm9tICcuL0Vuc3VyZVN0YXJ0c1dpdGhCdWlsdGluJztcbmltcG9ydCB7IEluZGV4T2ZXaXRoQnVpbHRpbiB9IGZyb20gJy4vSW5kZXhPZkJ1aWx0aW4nO1xuaW1wb3J0IHsgTGFzdEluZGV4T2ZXaXRoQnVpbHRpbiB9IGZyb20gJy4vTGFzdEluZGV4T2ZCdWlsdGluJztcbmltcG9ydCB7IEtlZXBBZnRlckJ1aWx0aW4gfSBmcm9tICcuL0tlZXBBZnRlckJ1aWx0aW4nO1xuaW1wb3J0IHsgS2VlcEFmdGVyTGFzdEJ1aWx0aW4gfSBmcm9tICcuL0tlZXBBZnRlckxhc3RCdWlsdGluJztcbmltcG9ydCB7IEtlZXBCZWZvcmVCdWlsdGluIH0gZnJvbSAnLi9LZWVwQmVmb3JlQnVpbHRpbic7XG5pbXBvcnQgeyBLZWVwQmVmb3JlTGFzdEJ1aWx0aW4gfSBmcm9tICcuL0tlZXBCZWZvcmVMYXN0QnVpbHRpbic7XG5pbXBvcnQgeyBMZWZ0UGFkQnVpbHRpbiB9IGZyb20gJy4vTGVmdFBhZEJ1aWx0aW4nO1xuaW1wb3J0IHsgUmlnaHRQYWRCdWlsdGluIH0gZnJvbSAnLi9SaWdodFBhZEJ1aWx0aW4nO1xuaW1wb3J0IHsgTWF0Y2hlc0J1aWx0aW4gfSBmcm9tICcuL01hdGNoZXNCdWlsdGluJztcbmltcG9ydCB7IE51bWJlckJ1aWx0aW4gfSBmcm9tICcuL051bWJlckV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmVwbGFjZUJ1aWx0aW4gfSBmcm9tICcuL1JlcGxhY2VCdWlsdGluJztcbmltcG9ydCB7IFJlbW92ZUJlZ2lubmluZ0J1aWx0aW4gfSBmcm9tICcuL1JlbW92ZUJlZ2lubmluZ0J1aWx0aW4nO1xuaW1wb3J0IHsgUmVtb3ZlRW5kaW5nQnVpbHRpbiB9IGZyb20gJy4vUmVtb3ZlRW5kaW5nQnVpbHRpbic7XG5pbXBvcnQgeyBTcGxpdEJ1aWx0aW4gfSBmcm9tICcuL1NwbGl0QnVpbHRpbic7XG5pbXBvcnQgeyBTdGFydHNXaXRoQnVpbHRpbiB9IGZyb20gJy4vU3RhcnRzV2l0aEJ1aWx0aW4nO1xuaW1wb3J0IHsgVHJ1bmNhdGVCdWlsdGluIH0gZnJvbSAnLi9UcnVuY2F0ZUJ1aWx0aW4nO1xuaW1wb3J0IHsgVXJsQnVpbHRpbiB9IGZyb20gJy4vVXJsQnVpbHRpbic7XG5pbXBvcnQgeyBXb3JkTGlzdEJ1aWx0aW4gfSBmcm9tICcuL1dvcmRMaXN0QnVpbHRpbic7XG5pbXBvcnQgeyBJc0luZmluaXRlQnVpbHRpbiB9IGZyb20gJy4vSXNJbmZpbml0ZUJ1aWx0aW4nO1xuaW1wb3J0IHsgSXNOYW5CdWlsdGluIH0gZnJvbSAnLi9Jc05hbkJ1aWx0aW4nO1xuaW1wb3J0IHsgTG93ZXJBYmNCdWlsdGluIH0gZnJvbSAnLi9Mb3dlckFiY0J1aWx0aW4nO1xuaW1wb3J0IHsgVXBwZXJBYmNCdWlsdGluIH0gZnJvbSAnLi9VcHBlckFiY0J1aWx0aW4nO1xuaW1wb3J0IHsgUm91bmRCdWlsdGluIH0gZnJvbSAnLi9Sb3VuZEJ1aWx0aW4nO1xuaW1wb3J0IHsgQ2VpbEJ1aWx0aW4gfSBmcm9tICcuL0NlaWxCdWlsdGluJztcbmltcG9ydCB7IEZsb29yQnVpbHRpbiB9IGZyb20gJy4vRmxvb3JCdWlsdGluJztcbmltcG9ydCB7IENodW5rQnVpbHRpbiB9IGZyb20gJy4vQ2h1bmtCdWlsdGluJztcbmltcG9ydCB7IERyb3BXaGlsZUJ1aWx0aW4gfSBmcm9tICcuL0Ryb3BXaGlsZUJ1aWx0aW4nO1xuaW1wb3J0IHsgRmlsdGVyQnVpbHRpbiB9IGZyb20gJy4vRmlsdGVyQnVpbHRpbic7XG5pbXBvcnQgeyBGaXJzdEJ1aWx0aW4gfSBmcm9tICcuL0ZpcnN0QnVpbHRpbic7XG5pbXBvcnQgeyBKb2luQnVpbHRpbiB9IGZyb20gJy4vSm9pbkJ1aWx0aW4nO1xuaW1wb3J0IHsgTGFzdEJ1aWx0aW4gfSBmcm9tICcuL0xhc3RCdWlsdGluJztcbmltcG9ydCB7IE1hcEJ1aWx0aW4gfSBmcm9tICcuL01hcEJ1aWx0aW4nO1xuaW1wb3J0IHsgTWluQnVpbHRpbiB9IGZyb20gJy4vTWluQnVpbHRpbic7XG5pbXBvcnQgeyBNYXhCdWlsdGluIH0gZnJvbSAnLi9NYXhCdWlsdGluJztcbmltcG9ydCB7IFJldmVyc2VCdWlsdGluIH0gZnJvbSAnLi9SZXZlcnNlQnVpbHRpbic7XG5pbXBvcnQgeyBTZXFDb250YWluc0J1aWx0aW4gfSBmcm9tICcuL1NlcUNvbnRhaW5zQnVpbHRpbic7XG5pbXBvcnQgeyBTZXFJbmRleE9mQnVpbHRpbiB9IGZyb20gJy4vU2VxSW5kZXhPZkJ1aWx0aW4nO1xuaW1wb3J0IHsgU2VxTGFzdEluZGV4T2ZCdWlsdGluIH0gZnJvbSAnLi9TZXFMYXN0SW5kZXhPZkJ1aWx0aW4nO1xuaW1wb3J0IHsgU29ydEJ1aWx0aW4gfSBmcm9tICcuL1NvcnRCdWlsdGluJztcbmltcG9ydCB7IFNvcnRCeUJ1aWx0aW4gfSBmcm9tICcuL1NvcnRCeUJ1aWx0aW4nO1xuaW1wb3J0IHsgVGFrZVdoaWxlQnVpbHRpbiB9IGZyb20gJy4vVGFrZVdoaWxlQnVpbHRpbic7XG5pbXBvcnQgeyBIYXNDb250ZW50QnVpbHRpbiB9IGZyb20gJy4vSGFzQ29udGVudEJ1aWx0aW4nO1xuXG5jb25zdCByZWdpc3RyeSA9IFtcbiAgICBuZXcgVGhlbkJ1aWx0aW4oKSxcbiAgICBuZXcgVXBwZXJDYXNlQnVpbHRpbigpLFxuICAgIG5ldyBMb3dlckNhc2VCdWlsdGluKCksXG4gICAgbmV3IENhcEZpcnN0QnVpbHRpbigpLFxuICAgIG5ldyBDYXBpdGFsaXplQnVpbHRpbigpLFxuICAgIG5ldyBVbmNhcEZpcnN0QnVpbHRpbigpLFxuICAgIG5ldyBUcmltQnVpbHRpbigpLFxuICAgIG5ldyBDaG9wTGluZWJyZWFrQnVpbHRpbigpLFxuICAgIG5ldyBCb29sZWFuQnVpbHRpbigpLFxuICAgIG5ldyBEYXRlQnVpbHRpbigpLFxuICAgIG5ldyBEYXRldGltZUJ1aWx0aW4oKSxcbiAgICBuZXcgVGltZUJ1aWx0aW4oKSxcbiAgICBuZXcgTGVuZ3RoQnVpbHRpbigpLFxuICAgIG5ldyBTaXplQnVpbHRpbigpLFxuICAgIG5ldyBTdHJpbmdCdWlsdGluKCksXG4gICAgbmV3IENvbnRhaW5zQnVpbHRpbigpLFxuICAgIG5ldyBFbmRzV2l0aEJ1aWx0aW4oKSxcbiAgICBuZXcgRW5zdXJlRW5kc1dpdGhCdWlsdGluKCksXG4gICAgbmV3IEVuc3VyZVN0YXJ0c1dpdGhCdWlsdGluKCksXG4gICAgbmV3IEluZGV4T2ZXaXRoQnVpbHRpbigpLFxuICAgIG5ldyBMYXN0SW5kZXhPZldpdGhCdWlsdGluKCksXG4gICAgbmV3IEtlZXBBZnRlckJ1aWx0aW4oKSxcbiAgICBuZXcgS2VlcEFmdGVyTGFzdEJ1aWx0aW4oKSxcbiAgICBuZXcgS2VlcEJlZm9yZUJ1aWx0aW4oKSxcbiAgICBuZXcgS2VlcEJlZm9yZUxhc3RCdWlsdGluKCksXG4gICAgbmV3IExlZnRQYWRCdWlsdGluKCksXG4gICAgbmV3IFJpZ2h0UGFkQnVpbHRpbigpLFxuICAgIG5ldyBNYXRjaGVzQnVpbHRpbigpLFxuICAgIG5ldyBOdW1iZXJCdWlsdGluKCksXG4gICAgbmV3IFJlcGxhY2VCdWlsdGluKCksXG4gICAgbmV3IFJlbW92ZUJlZ2lubmluZ0J1aWx0aW4oKSxcbiAgICBuZXcgUmVtb3ZlRW5kaW5nQnVpbHRpbigpLFxuICAgIG5ldyBTcGxpdEJ1aWx0aW4oKSxcbiAgICBuZXcgU3RhcnRzV2l0aEJ1aWx0aW4oKSxcbiAgICBuZXcgVHJ1bmNhdGVCdWlsdGluKCksXG4gICAgbmV3IFVybEJ1aWx0aW4oKSxcbiAgICBuZXcgV29yZExpc3RCdWlsdGluKCksXG4gICAgbmV3IElzSW5maW5pdGVCdWlsdGluKCksXG4gICAgbmV3IElzTmFuQnVpbHRpbigpLFxuICAgIG5ldyBMb3dlckFiY0J1aWx0aW4oKSxcbiAgICBuZXcgVXBwZXJBYmNCdWlsdGluKCksXG4gICAgbmV3IFJvdW5kQnVpbHRpbigpLFxuICAgIG5ldyBDZWlsQnVpbHRpbigpLFxuICAgIG5ldyBGbG9vckJ1aWx0aW4oKSxcbiAgICBuZXcgQ2h1bmtCdWlsdGluKCksXG4gICAgbmV3IERyb3BXaGlsZUJ1aWx0aW4oKSxcbiAgICBuZXcgRmlsdGVyQnVpbHRpbigpLFxuICAgIG5ldyBGaXJzdEJ1aWx0aW4oKSxcbiAgICBuZXcgSm9pbkJ1aWx0aW4oKSxcbiAgICBuZXcgTGFzdEJ1aWx0aW4oKSxcbiAgICBuZXcgTWFwQnVpbHRpbigpLFxuICAgIG5ldyBNaW5CdWlsdGluKCksXG4gICAgbmV3IE1heEJ1aWx0aW4oKSxcbiAgICBuZXcgUmV2ZXJzZUJ1aWx0aW4oKSxcbiAgICBuZXcgU2VxQ29udGFpbnNCdWlsdGluKCksXG4gICAgbmV3IFNlcUluZGV4T2ZCdWlsdGluKCksXG4gICAgbmV3IFNlcUxhc3RJbmRleE9mQnVpbHRpbigpLFxuICAgIG5ldyBTb3J0QnVpbHRpbigpLFxuICAgIG5ldyBTb3J0QnlCdWlsdGluKCksXG4gICAgbmV3IFRha2VXaGlsZUJ1aWx0aW4oKSxcbiAgICBuZXcgSGFzQ29udGVudEJ1aWx0aW4oKVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoc3ViamVjdDogYW55LCBuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVnaXN0cnkuZmluZChidWlsdGluID0+IGJ1aWx0aW4uYWNjZXB0KHN1YmplY3QsIG5hbWUpKTtcbn0iLCJpbXBvcnQgeyBUb2tlbiwgdG9rZW5pemUsIFRva2VuVHlwZSB9IGZyb20gJy4vZXhwcmVzc2lvbi90b2tlbml6ZSc7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgRXF1YWxFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0VxdWFsRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBBZGRpdGlvbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQWRkaXRpb25FeHByZXNzaW9uJztcbmltcG9ydCB7IERpdmlzaW9uRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9EaXZpc2lvbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgQW5kRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9BbmRFeHByZXNzaW9uJztcbmltcG9ydCB7IERlY3JlbWVudEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vRGVjcmVtZW50RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBBc3NpZ25FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0Fzc2lnbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgRGVyZWZlcmVuY2VFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0RlcmVmZXJlbmNlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBDYWxsTWV0aG9kRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9DYWxsTWV0aG9kRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBDYWxsQnVpbHRpbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQ2FsbEJ1aWx0aW5FeHByZXNzaW9uJztcbmltcG9ydCB7IE5lZ2F0aXZlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9OZWdhdGl2ZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUG9zaXRpdmVFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1Bvc2l0aXZlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBOb3RFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL05vdEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmVmZXJlbmNlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9SZWZlcmVuY2VFeHByZXNzaW9uJztcbmltcG9ydCB7IFN0cmluZ0V4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vU3RyaW5nRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUcnVlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9UcnVlRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBGYWxzZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vRmFsc2VFeHByZXNzaW9uJztcbmltcG9ydCB7IE51bWJlckV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTnVtYmVyRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBTZXF1ZW5jZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vU2VxdWVuY2VFeHByZXNzaW9uJztcbmltcG9ydCB7IEhhc2hFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0hhc2hFeHByZXNzaW9uJztcbmltcG9ydCB7IERlZmF1bHRFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0RlZmF1bHRFeHByZXNzaW9uJztcbmltcG9ydCB7IFN1YnRyYWN0aW9uRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9TdWJzdHJhY3Rpb25FeHByZXNzaW9uJztcbmltcG9ydCB7IE11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9NdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTW9kdWx1c0V4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTW9kdWx1c0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTm90RXF1YWxFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL05vdEVxdWFsRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBPckV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vT3JFeHByZXNzaW9uJztcbmltcG9ydCB7IExlc3NUaGFuRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9MZXNzVGhhbkV4cHJlc3Npb24nO1xuaW1wb3J0IHsgR3JlYXRlclRoYW5FeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0dyZWF0ZXJUaGFuRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMZXNzVGhhbk9yRXF1YWxFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0xlc3NUaGFuT3JFcXVhbEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgR3JlYXRlclRoYW5PckVxdWFsRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9HcmVhdGVyVGhhbk9yRXF1YWxFeHByZXNzaW9uJztcbmltcG9ydCB7IEFkZEFuZEFzc2lnbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQWRkQW5kQXNzaWduRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBTdWJ0cmFjdEFuZEFzc2lnbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vU3Vic3RyYWN0QW5kQXNzaWduRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBNdWx0aXBseUFuZEFzc2lnbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vTXVsdGlwbHlBbmRBc3NpZ25FeHByZXNzaW9uJztcbmltcG9ydCB7IERpdmlkZUFuZEFzc2lnbkV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vRGl2aWRlQW5kQXNzaWduRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBNb2R1bHVzQW5kQXNzaWduRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Nb2R1bHVzQW5kQXNzaWduRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9SYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSYW5nZUluY2x1c2l2ZUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUmFuZ2VJbmNsdXNpdmVFeHByZXNzaW9uJztcbmltcG9ydCB7IFJhbmdlRXhjbHVzaXZlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9SYW5nZUV4Y2x1c2l2ZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL1JhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSYW5nZUxlbmd0aERlY3JlbWVudEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uJztcbmltcG9ydCB7IFNsaWNlRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9TbGljZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgSXNEZWZpbmVkRXhwcmVzc2lvbiB9IGZyb20gJy4vZXhwcmVzc2lvbi9Jc0RlZmluZWRFeHByZXNzaW9uJztcbmltcG9ydCB7IEluY3JlbWVudEV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vSW5jcmVtZW50RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBQYXJlbnRoZXNpc0V4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vUGFyZW50aGVzaXNFeHByZXNzaW9uJztcbmltcG9ydCB7IEFuY2lsbGFyeUV4cHJlc3Npb24gfSBmcm9tICcuL2V4cHJlc3Npb24vQW5jaWxsYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMYW1iZGFFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0xhbWJkYUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgaXNDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9leHByZXNzaW9uL0NvbXBvc2luZ0V4cHJlc3Npb24nO1xuXG5jb25zdCBQUkVDRURFTkNFOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xuICAgICc/JzogMixcbiAgICAnLic6IDIsXG4gICAgJz8/JzogMixcbiAgICAnZGVmYXVsdCc6IDIsXG4gICAgJygnOiAyLFxuICAgICdbJzogMixcbiAgICAnLyc6IDMsXG4gICAgJyonOiAzLFxuICAgICclJzogMyxcbiAgICAnKyc6IDQsXG4gICAgJy0nOiA0LFxuICAgICcuLjwnOiA1LFxuICAgICcuLiEnOiA1LFxuICAgICcuLionOiA1LFxuICAgICcuLic6IDUsXG4gICAgJy4uKi0nOiA1LFxuICAgICcuLiorJzogNSxcbiAgICAnbm90JzogNSxcbiAgICAnPCc6IDYsXG4gICAgJz4nOiA2LFxuICAgICc+PSc6IDYsXG4gICAgJzw9JzogNixcbiAgICAnPT0nOiA3LFxuICAgICchPSc6IDcsXG4gICAgJyYmJzogOCxcbiAgICAnfHwnOiA5LFxuICAgICctPic6IDEwLFxuICAgICcrPSc6IDExLFxuICAgICctPSc6IDExLFxuICAgICcvPSc6IDExLFxuICAgICclPSc6IDExLFxuICAgICcqPSc6IDExLFxuICAgICc9JzogMTEsXG59O1xuXG5mdW5jdGlvbiBpbnRlcnByZXRPcGVyYW5kKHRva2VuczogVG9rZW5bXSk6IFtFeHByZXNzaW9uIHwgdW5kZWZpbmVkLCB0b2tlbjogVG9rZW5dIHtcblxuICAgIGxldCB0b2tlbiA9IHRva2Vucy5zaGlmdCgpLCBleHByZXNzaW9uID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGhhcHBlblwiKTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DTE9TRV9IQVNIKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DTE9TRV9QQVJFTlRIRVNJUykge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk9QRU5fUEFSRU5USEVTSVMpIHtcblxuICAgICAgICBjb25zdCByb3cgPSB0b2tlbi5nZXRSb3coKTtcbiAgICAgICAgY29uc3QgY29sdW1uID0gdG9rZW4uZ2V0Q29sdW1uKCk7XG5cbiAgICAgICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgICAgICBpZiAodG9rZW4/LmdldFR5cGUoKSAhPSBUb2tlblR5cGUuQ0xPU0VfUEFSRU5USEVTSVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgT3BlbiBwYXJlbnRoZXNpcyBub3QgY2xvc2VkIHdpdGggYSBjbG9zZSBwYXJlbnRoZXNpc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBQYXJlbnRoZXNpcyBpcyBlbXB0eWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtuZXcgUGFyZW50aGVzaXNFeHByZXNzaW9uKGV4cHJlc3Npb24sIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5QTFVTKSB7XG4gICAgICAgIC8vd2UgaGF2ZSBlbmNvdW50ZXJlZCBhICsgc3ltYm9sIHdoZXJlIHdlIGV4cGVjdCBhbiBleHByZXNzaW9uLCBzbyBpdCBpcyB0aGUgc2lnbiBmb3IgYSBudW1iZXIgdGhhdCBmb2xsb3dzLlxuICAgICAgICBjb25zdCBbYXJnLCB0b2tlbl0gPSBpbnRlcnByZXRPcGVyYW5kKHRva2Vucyk7XG4gICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBgVW5hcnkgb3BlcmF0b3IgJyR7dG9rZW4uZ2V0VG9rZW4oKX0nIGV4cGVjdHMgYW4gZXhwcmVzc2lvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbmV3IFBvc2l0aXZlRXhwcmVzc2lvbihhcmcsIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NSU5VUykge1xuICAgICAgICAvL3dlIGhhdmUgZW5jb3VudGVyZWQgYSAtIHN5bWJvbCB3aGVyZSB3ZSBleHBlY3QgYW4gZXhwcmVzc2lvbiwgc28gaXQgaXMgdGhlIHNpZ24gZm9yIGEgbnVtYmVyIHRoYXQgZm9sbG93cy5cbiAgICAgICAgY29uc3QgW2FyZywgdG9rZW5dID0gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnMpO1xuICAgICAgICBpZiAoYXJnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYFVuYXJ5IG9wZXJhdG9yICcke3Rva2VuLmdldFRva2VuKCl9JyBleHBlY3RzIGFuIGV4cHJlc3Npb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25ldyBOZWdhdGl2ZUV4cHJlc3Npb24oYXJnLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQkFORykge1xuXG4gICAgICAgIGNvbnN0IFthcmcsIHRva2VuXSA9IGludGVycHJldE9wZXJhbmQodG9rZW5zKTtcbiAgICAgICAgaWYgKGFyZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIGBVbmFyeSBvcGVyYXRvciAnJHt0b2tlbi5nZXRUb2tlbigpfScgZXhwZWN0cyBhbiBleHByZXNzaW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtuZXcgTm90RXhwcmVzc2lvbihhcmcsIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSksIHRva2VuXTtcbiAgICB9IGVsc2UgaWYgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SRUZFUkVOQ0UpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgUmVmZXJlbmNlRXhwcmVzc2lvbih0b2tlbi5nZXRUb2tlbigpLCB0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuU1RSSU5HKSB7XG4gICAgICAgIHJldHVybiBbbmV3IFN0cmluZ0V4cHJlc3Npb24odG9rZW4uZ2V0VG9rZW4oKSwgdG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlRSVUUpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgVHJ1ZUV4cHJlc3Npb24odG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkZBTFNFKSB7XG4gICAgICAgIHJldHVybiBbbmV3IEZhbHNlRXhwcmVzc2lvbih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCkpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTlVNQkVSKSB7XG4gICAgICAgIHJldHVybiBbbmV3IE51bWJlckV4cHJlc3Npb24odG9rZW4uZ2V0VG9rZW4oKSwgdG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpKSwgdG9rZW5dO1xuICAgIH0gZWxzZSBpZiAodG9rZW4/LmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk9QRU5fU0VRVUVOQ0UpIHtcblxuICAgICAgICBjb25zdCBlbGVtZW50czogRXhwcmVzc2lvbltdID0gW107XG5cbiAgICAgICAgbGV0IHJvdyA9IHRva2VuLmdldFJvdygpLCBjb2x1bW4gPSB0b2tlbi5nZXRDb2x1bW4oKTtcblxuICAgICAgICBbZXhwcmVzc2lvbiwgdG9rZW5dID0gaW50ZXJwcmV0RXhwcmVzc2lvbih0b2tlbnMpO1xuXG4gICAgICAgIGlmICh0b2tlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYHNlcXVlbmNlIGluY29ycmVjdGx5IHRlcm1pbmF0ZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ09NTUEpIHtcblxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYEV4cHJlc3Npb24gcHJlY2VkaW5nIGNvbW1hIGluIHNlcXVlbmNlIGlzIGVtcHR5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGV4cHJlc3Npb24pO1xuXG4gICAgICAgICAgICByb3cgPSB0b2tlbi5nZXRSb3coKTtcbiAgICAgICAgICAgIGNvbHVtbiA9IHRva2VuLmdldENvbHVtbigpO1xuXG4gICAgICAgICAgICBbZXhwcmVzc2lvbiwgdG9rZW5dID0gaW50ZXJwcmV0RXhwcmVzc2lvbih0b2tlbnMpO1xuXG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgc2VxdWVuY2UgaW5jb3JyZWN0bHkgdGVybWluYXRlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHByZXNzaW9uKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuPy5nZXRUeXBlKCkgIT09IFRva2VuVHlwZS5DTE9TRV9TRVFVRU5DRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodG9rZW4uZ2V0Um93KCksIHRva2VuLmdldENvbHVtbigpLCBgT3BlbiBzZXF1ZW5jZSBtaXNzaW5nIGNsb3NlIHNlcXVlbmNlYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW25ldyBTZXF1ZW5jZUV4cHJlc3Npb24oZWxlbWVudHMpLCB0b2tlbl07XG4gICAgfSBlbHNlIGlmICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuT1BFTl9IQVNIKSB7XG5cbiAgICAgICAgbGV0IHJvdyA9IHRva2VuLmdldFJvdygpLCBjb2x1bW4gPSB0b2tlbi5nZXRDb2x1bW4oKTtcblxuICAgICAgICBjb25zdCBoYXNoOiBSZWNvcmQ8c3RyaW5nLCBFeHByZXNzaW9uPiA9IHt9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlYWRLZXlQYWlyKCkge1xuICAgICAgICAgICAgaWYgKGtleT8uZ2V0VHlwZSgpICE9PSBUb2tlblR5cGUuU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBIYXNoIG1pc3Npbmcga2V5IHN0cmluZ2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY29sb24gPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgICAgICAgaWYgKGNvbG9uPy5nZXRUeXBlKCkgIT09IFRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgSGFzaCBtaXNzaW5nIGNvbG9uIHNlcGFyYXRvciBmb3Iga2V5IHZhbHVlIHBhaXJgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHJvdywgY29sdW1uLCBgRXhwcmVzc2lvbiBmb3IgdmFsdWUgaW4gaGFzaCBpcyBlbXB0eWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYXNoW2tleS5nZXRUb2tlbigpXSA9IGV4cHJlc3Npb247XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5ID0gdG9rZW5zLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKGtleT8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfSEFTSCkge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgSGFzaEV4cHJlc3Npb24oaGFzaCksIHRva2VuXTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmVhZEtleVBhaXIoKTtcblxuICAgICAgICAgICAgd2hpbGUgKHRva2VuPy5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DT01NQSkge1xuICAgICAgICAgICAgICAgIGtleSA9IHRva2Vucy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgcmVhZEtleVBhaXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbj8uZ2V0VHlwZSgpICE9PSBUb2tlblR5cGUuQ0xPU0VfSEFTSCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBPcGVuIGhhcyAgaCBtaXNzaW5nIGNsb3NlIGhhc2hgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbbmV3IEhhc2hFeHByZXNzaW9uKGhhc2gpLCB0b2tlbl07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHRva2VuXTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gaXNCaW5hcnlPcGVyYXRvcihvcGVyYXRvcjogVG9rZW4pIHtcblxuICAgIHJldHVybiBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5CQU5HIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlBMVVMgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTUlOVVMgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuRElWSURFIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1VTFRJUExZIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1PRFVMVVMgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuRVFVQUwgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTk9UX0VRVUFMIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkFORCB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5PUiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5MRVNTX1RIQU4gfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuR1JFQVRFUl9USEFOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkxFU1NfVEhBTl9PUl9FUVVBTCB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUwgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQUREX0FORF9BU1NJR04gfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuU1VCVFJBQ1RfQU5EX0FTU0lHTiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NVUxUSVBMWV9BTkRfQVNTSUdOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkRJVklERV9BTkRfQVNTSUdOIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1PRFVMVVNfQU5EX0FTU0lHTiB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5BU1NJR04gfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuREVSRUZFUkVOQ0UgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTEFNQkRBIHx8XG4gICAgICAgIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0lOQ0xVU0lWRSB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9FWENMVVNJVkUgfHxcbiAgICAgICAgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0RFQyB8fFxuICAgICAgICBvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9MRU5HVEhfSU5DO1xufVxuXG5mdW5jdGlvbiBidWlsZEJpbmFyeUV4cHJlc3Npb24ob3BlcmF0b3I6IFRva2VuLCBsaHM6IEV4cHJlc3Npb24sIHJoczogRXhwcmVzc2lvbik6IEV4cHJlc3Npb24ge1xuICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5CQU5HKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5QTFVTKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWRkaXRpb25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTUlOVVMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJ0cmFjdGlvbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5ESVZJREUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEaXZpc2lvbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NVUxUSVBMWSkge1xuICAgICAgICByZXR1cm4gbmV3IE11bHRpcGxpY2F0aW9uRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1PRFVMVVMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkVRVUFMKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXF1YWxFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTk9UX0VRVUFMKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90RXF1YWxFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQU5EKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5kRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk9SKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3JFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTEVTU19USEFOKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGVzc1RoYW5FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuR1JFQVRFUl9USEFOKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JlYXRlclRoYW5FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTEVTU19USEFOX09SX0VRVUFMKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkdSRUFURVJfVEhBTl9PUl9FUVVBTCkge1xuICAgICAgICByZXR1cm4gbmV3IEdyZWF0ZXJUaGFuT3JFcXVhbEV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5BRERfQU5EX0FTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IEFkZEFuZEFzc2lnbkV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5TVUJUUkFDVF9BTkRfQVNTSUdOKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3VidHJhY3RBbmRBc3NpZ25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTVVMVElQTFlfQU5EX0FTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IE11bHRpcGx5QW5kQXNzaWduRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkRJVklERV9BTkRfQVNTSUdOKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGl2aWRlQW5kQXNzaWduRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk1PRFVMVVNfQU5EX0FTU0lHTikge1xuICAgICAgICByZXR1cm4gbmV3IE1vZHVsdXNBbmRBc3NpZ25FeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQVNTSUdOKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXNzaWduRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkRFUkVGRVJFTkNFKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVyZWZlcmVuY2VFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuTEFNQkRBKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGFtYmRhRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0lOQ0xVU0lWRSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlSW5jbHVzaXZlRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0VYQ0xVU0lWRSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlRXhjbHVzaXZlRXhwcmVzc2lvbihsaHMsIHJocywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9JTkMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUxlbmd0aEluY3JlbWVudEV4cHJlc3Npb24obGhzLCByaHMsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9MRU5HVEhfREVDKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uKGxocywgcmhzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSwgYFVua25vd24gdG9rZW4gdHlwZSAnJHtvcGVyYXRvci5nZXRUeXBlKCl9J2ApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0U2xpY2UodG9rZW5zOiBUb2tlbltdKTogRXhwcmVzc2lvbiB7XG4gICAgbGV0IFtleHByZXNzaW9uLCB0b2tlbl0gPSBpbnRlcnByZXRPcGVyYW5kKHRva2Vucyk7XG5cbiAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYEVtcHR5IHJhbmdlIGFyZ3VtZW50cyB0byBzbGljZSBvcGVyYXRvcmApO1xuICAgIH1cblxuICAgIGNvbnN0IG9wZXJhdG9yID0gdG9rZW5zLnNoaWZ0KCkhO1xuXG4gICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNMT1NFX1NFUVVFTkNFKSB7XG4gICAgICAgIHJldHVybiBleHByZXNzaW9uO1xuICAgIH1cblxuICAgIGNvbnN0IHJocyA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgIGlmIChyaHMuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UgJiYgb3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfSU5DTFVTSVZFKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24oZXhwcmVzc2lvbiwgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlJBTkdFX0lOQ0xVU0lWRSkge1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSBuZXcgUmFuZ2VJbmNsdXNpdmVFeHByZXNzaW9uKGV4cHJlc3Npb24sIG5ldyBOdW1iZXJFeHByZXNzaW9uKHJocy5nZXRUb2tlbigpLCByaHMuZ2V0Um93KCksIHJocy5nZXRDb2x1bW4oKSksIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9FWENMVVNJVkUpIHtcblxuICAgICAgICBleHByZXNzaW9uID0gbmV3IFJhbmdlRXhjbHVzaXZlRXhwcmVzc2lvbihleHByZXNzaW9uLCBuZXcgTnVtYmVyRXhwcmVzc2lvbihyaHMuZ2V0VG9rZW4oKSwgcmhzLmdldFJvdygpLCByaHMuZ2V0Q29sdW1uKCkpLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpO1xuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0lOQykge1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSBuZXcgUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uKGV4cHJlc3Npb24sIG5ldyBOdW1iZXJFeHByZXNzaW9uKHJocy5nZXRUb2tlbigpLCByaHMuZ2V0Um93KCksIHJocy5nZXRDb2x1bW4oKSksIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgfSBlbHNlIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5SQU5HRV9MRU5HVEhfREVDKSB7XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBSYW5nZUxlbmd0aERlY3JlbWVudEV4cHJlc3Npb24oZXhwcmVzc2lvbiwgbmV3IE51bWJlckV4cHJlc3Npb24ocmhzLmdldFRva2VuKCksIHJocy5nZXRSb3coKSwgcmhzLmdldENvbHVtbigpKSwgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCksIGBJbnZhbGlkIHJhbmdlIHNwZWNpZmljYXRpb25gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjbG9zZSA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgIGlmIChjbG9zZS5nZXRUeXBlKCkgIT09IFRva2VuVHlwZS5DTE9TRV9TRVFVRU5DRSkge1xuICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihjbG9zZS5nZXRSb3coKSwgY2xvc2UuZ2V0Q29sdW1uKCksIGBDbG9zZSBzZXF1ZW5jZSBleHBlY3RlZGApO1xuICAgIH1cblxuICAgIHJldHVybiBleHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRGdW5jdGlvbkFyZ3VtZW50cyh0b2tlbnM6IFRva2VuW10pOiBFeHByZXNzaW9uW10ge1xuICAgIGNvbnN0IHJlc3VsdDogRXhwcmVzc2lvbltdID0gW107XG4gICAgbGV0IGV4cHJlc3Npb24sIHRva2VuO1xuXG4gICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgIHdoaWxlICh0b2tlbj8uZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ09NTUEpIHtcblxuICAgICAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZXhwcmVzc2lvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0b2tlbi5nZXRSb3coKSwgdG9rZW4uZ2V0Q29sdW1uKCksIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBwcmVjZWRpbmcgY29tbWEgaW4gZnVuY3Rpb24gYXJndW1lbnRzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcbiAgICB9XG5cbiAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICByZXN1bHQucHVzaChleHByZXNzaW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmZ1bmN0aW9uIGludGVycHJldEV4cHJlc3Npb24odG9rZW5zOiBUb2tlbltdKTogW0V4cHJlc3Npb24gfCB1bmRlZmluZWQsIFRva2VuIHwgdW5kZWZpbmVkXSB7XG5cbiAgICBsZXQgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldE9wZXJhbmQodG9rZW5zKTtcblxuICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHRva2VuXTtcbiAgICB9XG5cbiAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkge1xuXG4gICAgICAgIGNvbnN0IG9wZXJhdG9yID0gdG9rZW5zLnNoaWZ0KCkhO1xuXG4gICAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSwgYEJpbmFyeSBvcGVyYXRvciBleHBlY3RzIGxocyBleHByZXNzaW9uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfUEFSRU5USEVTSVMpIHtcbiAgICAgICAgICAgIHJldHVybiBbZXhwcmVzc2lvbiwgb3BlcmF0b3JdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNPTU1BKSB7XG4gICAgICAgICAgICByZXR1cm4gW2V4cHJlc3Npb24sIG9wZXJhdG9yXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DTE9TRV9TRVFVRU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIFtleHByZXNzaW9uLCBvcGVyYXRvcl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0xPU0VfSEFTSCkge1xuICAgICAgICAgICAgcmV0dXJuIFtleHByZXNzaW9uLCBvcGVyYXRvcl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0b3IuZ2V0VHlwZSgpID09PSBUb2tlblR5cGUuQ0FMTF9NRVRIT0QpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBpbnRlcnByZXRGdW5jdGlvbkFyZ3VtZW50cyh0b2tlbnMpO1xuXG4gICAgICAgICAgICBleHByZXNzaW9uID0gd2Fsa1VwTGVmdEJ5UHJlY2VkZW5jZShvcGVyYXRvciwgZXhwcmVzc2lvbiwgKGxocykgPT4gbmV3IENhbGxNZXRob2RFeHByZXNzaW9uKGxocywgYXJncywgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DQUxMX0JVSUxUSU4pIHtcblxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRva2Vucy5zaGlmdCgpITtcblxuICAgICAgICAgICAgbGV0IGFyZ3M6IEV4cHJlc3Npb25bXSA9IFtdO1xuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggJiYgdG9rZW5zWzBdLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkNBTExfTUVUSE9EKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgYXJncyA9IGludGVycHJldEZ1bmN0aW9uQXJndW1lbnRzKHRva2Vucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSB3YWxrVXBMZWZ0QnlQcmVjZWRlbmNlKG9wZXJhdG9yLCBleHByZXNzaW9uLCAobGhzKSA9PiBuZXcgQ2FsbEJ1aWx0aW5FeHByZXNzaW9uKGxocywgbmFtZS5nZXRUb2tlbigpLCBhcmdzLCBvcGVyYXRvci5nZXRSb3coKSwgb3BlcmF0b3IuZ2V0Q29sdW1uKCkpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLk9QRU5fU0xJQ0UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsaWNlID0gaW50ZXJwcmV0U2xpY2UodG9rZW5zKTtcblxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHdhbGtVcExlZnRCeVByZWNlZGVuY2Uob3BlcmF0b3IsIGV4cHJlc3Npb24sIChsaHMpID0+IG5ldyBTbGljZUV4cHJlc3Npb24obGhzLCBzbGljZSwgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5JU19ERUZJTkVEKSB7XG4gICAgICAgICAgICBleHByZXNzaW9uID0gbmV3IElzRGVmaW5lZEV4cHJlc3Npb24oZXhwcmVzc2lvbiwgb3BlcmF0b3IuZ2V0Um93KCksIG9wZXJhdG9yLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLlBMVVNfUExVUykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBJbmNyZW1lbnRFeHByZXNzaW9uKGV4cHJlc3Npb24sIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5NSU5VU19NSU5VUykge1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBEZWNyZW1lbnRFeHByZXNzaW9uKGV4cHJlc3Npb24sIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNCaW5hcnlPcGVyYXRvcihvcGVyYXRvcikpIHtcblxuICAgICAgICAgICAgdG9rZW5zLnVuc2hpZnQob3BlcmF0b3IpO1xuICAgICAgICAgICAgY29uc3QgW2FuY2lsbGFyeSwgdG9rZW5dID0gaW50ZXJwcmV0T3BlcmFuZCh0b2tlbnMpO1xuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBBbmNpbGxhcnlFeHByZXNzaW9uKGV4cHJlc3Npb24sIGFuY2lsbGFyeSEsIG9wZXJhdG9yLmdldFJvdygpLCBvcGVyYXRvci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByaHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwICYmIG9wZXJhdG9yLmdldFR5cGUoKSA9PT0gVG9rZW5UeXBlLkJBTkcpIHtcbiAgICAgICAgICAgIHJocyA9IG5ldyBTdHJpbmdFeHByZXNzaW9uKFwiXCIsIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbcmhzLCB0b2tlbl0gPSBpbnRlcnByZXRPcGVyYW5kKHRva2Vucyk7XG5cbiAgICAgICAgICAgIGlmIChvcGVyYXRvci5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5CQU5HICYmIHJocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnVuc2hpZnQodG9rZW4pO1xuICAgICAgICAgICAgICAgIHJocyA9IG5ldyBTdHJpbmdFeHByZXNzaW9uKFwiXCIsIHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyaHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRva2VuLmdldFJvdygpLCB0b2tlbi5nZXRDb2x1bW4oKSwgYEJpbmFyeSBvcGVyYXRvciBleHBlY3RzIHJocyBleHByZXNzaW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHByZXNzaW9uID0gd2Fsa1VwTGVmdEJ5UHJlY2VkZW5jZShvcGVyYXRvciwgZXhwcmVzc2lvbiwgKGxocykgPT4gYnVpbGRCaW5hcnlFeHByZXNzaW9uKG9wZXJhdG9yLCBsaHMsIHJocykpO1xuICAgIH1cblxuICAgIHJldHVybiBbZXhwcmVzc2lvbiwgdW5kZWZpbmVkXTtcbn1cblxuZnVuY3Rpb24gd2Fsa1VwTGVmdEJ5UHJlY2VkZW5jZShvcGVyYXRvcjogVG9rZW4sIHN1YmplY3Q6IEV4cHJlc3Npb24sIGJ1aWxkZXI6IChsaHM6IEV4cHJlc3Npb24pID0+IEV4cHJlc3Npb24pIHtcbiAgICBpZiAoaXNDb21wb3NpbmdFeHByZXNzaW9uKHN1YmplY3QpICYmIFBSRUNFREVOQ0Vbb3BlcmF0b3IuZ2V0VG9rZW4oKV0gPCBQUkVDRURFTkNFW3N1YmplY3QuZ2V0T3BlcmF0b3IoKV0pIHtcblxuICAgICAgICBsZXQgY3VycmVudCA9IHN1YmplY3Q7XG4gICAgICAgIGxldCBuZXh0ID0gY3VycmVudC5nZXRTdWJqZWN0KCk7XG4gICAgICAgIHdoaWxlIChpc0NvbXBvc2luZ0V4cHJlc3Npb24obmV4dCkgJiYgUFJFQ0VERU5DRVtvcGVyYXRvci5nZXRUb2tlbigpXSA8IFBSRUNFREVOQ0VbbmV4dC5nZXRPcGVyYXRvcigpXSkge1xuICAgICAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICBuZXh0ID0gY3VycmVudC5nZXRTdWJqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudC5yZXBsYWNlU3ViamVjdChidWlsZGVyKGN1cnJlbnQuZ2V0U3ViamVjdCgpKSk7XG5cbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIoc3ViamVjdCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbkVuZ2luZSB7XG5cbiAgICBidWlsZCh0ZXh0OiBzdHJpbmcsIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcik6IEV4cHJlc3Npb24ge1xuXG4gICAgICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplKHRleHQsIHJvdywgY29sdW1uKTtcbiAgICAgICAgY29uc3QgW2V4cHJlc3Npb24sIHRva2VuXSA9IGludGVycHJldEV4cHJlc3Npb24odG9rZW5zKTtcblxuICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEV4cHJlc3Npb24gaXMgZW1wdHlgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEV4cHJlc3Npb24gdGVybWluYXRlZCBpbmNvcnJlY3RseWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHByZXNzaW9uO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgQWRkQW5kQXNzaWduRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcrPSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgY3VycmVudC5hc3NpZ24oY3VycmVudC5yZXRyaWV2ZSgpICsgdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodW5kZWZpbmVkKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IFRlbXBsYXRlRXJyb3IgfSBmcm9tICcuLi9UZW1wbGF0ZUVycm9yJztcbmltcG9ydCB7IGlzSGFzaCB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc0hhc2gnO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEFkZGl0aW9uRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcrJztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuICAgICAgICBjb25zdCByaHMgPSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbGhzID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmhzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihsaHMgKyByaHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaHMgPT09ICdudW1iZXInICYmIHR5cGVvZiByaHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihsaHMgKyByaHMpO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobGhzKSAmJiBBcnJheS5pc0FycmF5KHJocykpIHtcbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKFsuLi5saHMsIC4uLnJoc10pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzSGFzaChsaHMpICYmIGlzSGFzaChyaHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih7IC4uLmxocywgLi4ucmhzIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgSW52YWxpZCBvcGVyYW5kcyBmb3IgYWRkaXRpb25gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIEFuY2lsbGFyeUV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFuY2lsbGFyeTogRXhwcmVzc2lvbiwgc3ViamVjdDogRXhwcmVzc2lvbiwgcm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHN1YmplY3QsIHJvdywgY29sdW1uKTtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICB0aGlzLmFuY2lsbGFyeS5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnYW5jaWxsaWFyeSc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgQW5kRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcmJic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSAmJiB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgQXNzaWduRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICc9JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBsaHMuYXNzaWduKHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJpbmFyeUV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBsaHM6IEV4cHJlc3Npb24sIHByb3RlY3RlZCByaHM6IEV4cHJlc3Npb24sIHByb3RlY3RlZCByb3c6IG51bWJlciwgcHJvdGVjdGVkIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHJocywgcm93LCBjb2x1bW4pO1xuICAgIH1cblxuICAgIGdldFN1YmplY3QoKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJocztcbiAgICB9XG5cbiAgICByZXBsYWNlU3ViamVjdChleHByZXNzaW9uOiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmhzID0gZXhwcmVzc2lvbjtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBnZXRPcGVyYXRvcigpOiBzdHJpbmc7XG5cbiAgICBhYnN0cmFjdCBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWU7XG59XG4iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBMaXRlcmFsLCBSZWZlcmVuY2UsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmltcG9ydCAqIGFzIEJ1aWx0aW5zIGZyb20gJy4uL2J1aWx0aW4nO1xuXG5leHBvcnQgY2xhc3MgQ2FsbEJ1aWx0aW5FeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN1YmplY3Q6IEV4cHJlc3Npb24sIHByaXZhdGUgbmFtZTogc3RyaW5nLCBwcml2YXRlIGFyZ3M6IEV4cHJlc3Npb25bXSwgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgZXhwID0gdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGNvbnN0IGlzTG9vcFZhcmlhYmxlID0gKGV4cCBpbnN0YW5jZW9mIFJlZmVyZW5jZSAmJiBPYmplY3Qua2V5cyhkYXRhKS5pbmNsdWRlcyhgJCR7ZXhwLmdldE5hbWUoKX0kYCkpO1xuICAgICAgICBpZiAoaXNMb29wVmFyaWFibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUgPT09ICdjb3VudGVyJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgY291bnRlciBidWlsdGluIHJlcXVpcmVzIG5vIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXSArIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpbmRleCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYGluZGV4IGJ1aWx0aW4gcmVxdWlyZXMgbm8gYXJndW1lbnRzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaGFzX25leHQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBoYXNfbmV4dCBidWlsdGluIHJlcXVpcmVzIG5vIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXSA8IGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2xlbmd0aCRgXSAtIDEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpc19sYXN0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXNfbGFzdCBidWlsdGluIHJlcXVpcmVzIG5vIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2xlbmd0aCRgXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihpbmRleCA9PT0gbGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubmFtZSA9PT0gJ2lzX2ZpcnN0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXNfZmlyc3QgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gPT09IDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpc19ldmVuX2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBpc19ldmVuX2l0ZW0gYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoKGRhdGFbYCQke2V4cC5nZXROYW1lKCl9X2luZGV4JGBdICsgMSkgJSAyID09PSAwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lID09PSAnaXNfb2RkX2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBpc19vZGRfaXRlbSBidWlsdGluIHJlcXVpcmVzIG5vIGFyZ3VtZW50c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihkYXRhW2AkJHtleHAuZ2V0TmFtZSgpfV9pbmRleCRgXSAlIDIgPT09IDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpdGVtX2N5Y2xlJykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBpdGVtX2N5Y2xlIGJ1aWx0aW4gcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuYXJncy5tYXAoYSA9PiBhLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGFyZ3NbZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gJSBhcmdzLmxlbmd0aF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpdGVtX3Bhcml0eScpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgaXRlbV9wYXJpdHkgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZigoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gKyAxKSAlIDIgPT09IDAgPyBcImV2ZW5cIiA6IFwib2RkXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5hbWUgPT09ICdpdGVtX3Bhcml0eV9jYXAnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLGBpdGVtX3Bhcml0eV9jYXAgYnVpbHRpbiByZXF1aXJlcyBubyBhcmd1bWVudHNgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZigoZGF0YVtgJCR7ZXhwLmdldE5hbWUoKX1faW5kZXgkYF0gKyAxKSAlIDIgPT09IDAgPyBcIkV2ZW5cIiA6IFwiT2RkXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sYFVuc3VwcG9ydGVkIGJ1aWx0aW4gKCR7dGhpcy5uYW1lfSkgZm9yIHN1YmplY3QgJHt0aGlzLnJvd306JHt0aGlzLmNvbHVtbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN1YmplY3QgPSBleHAucmV0cmlldmUoKTtcblxuICAgICAgICBjb25zdCBidWlsdGluID0gQnVpbHRpbnMuZmluZChzdWJqZWN0LCB0aGlzLm5hbWUpO1xuICAgICAgICBpZiAoYnVpbHRpbikge1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWx0aW4uY2FsY3VsYXRlKHN1YmplY3QsIHRoaXMuYXJncywgZGF0YSwgdGhpcy5yb3csIHRoaXMuY29sdW1uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbixgVW5zdXBwb3J0ZWQgYnVpbHRpbiAoJHt0aGlzLm5hbWV9KSBmb3Igc3ViamVjdCAke3RoaXMucm93fToke3RoaXMuY29sdW1ufWApO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IFJlZmVyZW5jZUV4cHJlc3Npb24gfSBmcm9tICcuL1JlZmVyZW5jZUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IERlcmVmZXJlbmNlRXhwcmVzc2lvbiB9IGZyb20gJy4vRGVyZWZlcmVuY2VFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIENhbGxNZXRob2RFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWZlcmVuY2U6IEV4cHJlc3Npb24sIHByaXZhdGUgYXJnczogRXhwcmVzc2lvbltdLCBwcml2YXRlIHJvdzogbnVtYmVyLCBwcml2YXRlIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2UgaW5zdGFuY2VvZiBSZWZlcmVuY2VFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSB0aGlzLnJlZmVyZW5jZS5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihtZXRob2QoLi4udGhpcy5hcmdzLm1hcChhcmcgPT4gYXJnLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWZlcmVuY2UgaW5zdGFuY2VvZiBEZXJlZmVyZW5jZUV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMucmVmZXJlbmNlLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKG1ldGhvZCguLi50aGlzLmFyZ3MubWFwKGFyZyA9PiBhcmcuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYEludmFsaWQgc3ViamVjdCBvZiBtZXRob2QgY2FsbCwgZXhwZWN0ZWQgcmVmZXJlbmNlIHJlc29sdmluZyB0byBhIG1ldGhvZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9zaW5nRXhwcmVzc2lvbiBpbXBsZW1lbnRzIEV4cHJlc3Npb24ge1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIHN1YmplY3Q6IEV4cHJlc3Npb24sIHByb3RlY3RlZCByb3c6IG51bWJlciwgcHJvdGVjdGVkIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZ2V0U3ViamVjdCgpOiBFeHByZXNzaW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViamVjdDtcbiAgICB9XG5cbiAgICByZXBsYWNlU3ViamVjdChleHByZXNzaW9uOiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3ViamVjdCA9IGV4cHJlc3Npb247XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0T3BlcmF0b3IoKTogc3RyaW5nO1xuXG4gICAgYWJzdHJhY3QgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb21wb3NpbmdFeHByZXNzaW9uKHRlc3Q6IGFueSk6IHRlc3QgaXMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG4gICAgcmV0dXJuIHRlc3QgaW5zdGFuY2VvZiBDb21wb3NpbmdFeHByZXNzaW9uO1xufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIERlY3JlbWVudEV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGN1cnJlbnQucmV0cmlldmUoKTtcblxuICAgICAgICBjdXJyZW50LmFzc2lnbihvcmlnaW5hbCAtIDEpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICctLSc7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmVmZXJlbmNlTm90Rm91bmRFcnJvciB9IGZyb20gJy4uL1JlZmVyZW5jZU5vdEZvdW5kRXJyb3InO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxocyA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgICAgICBpZiAobGhzLnJldHJpZXZlKCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaHM7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFJlZmVyZW5jZU5vdEZvdW5kRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBpc0hhc2ggfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNIYXNoJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBEZXJlZmVyZW5jZUV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpO1xuXG4gICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgU3ViamVjdCBpcyB1bmRlZmluZWQgZm9yIGRlcmVmZXJlbmNlIG9wZXJhdG9yYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzSGFzaChvYmopKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcih0aGlzLnJvdywgdGhpcy5jb2x1bW4sIGBJbnZhbGlkIHN1YmplY3QgZm9yIGRlcmVmZXJlbmNlIG9wZXJhdG9yYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmhzLmV2YWx1YXRlKG9iaikucmV0cmlldmUoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuY2FsbChvYmosIC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih2YWx1ZSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIERpdmlkZUFuZEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnLz0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGN1cnJlbnQuYXNzaWduKGN1cnJlbnQucmV0cmlldmUoKSAvIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIERpdmlzaW9uRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpIC8gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEVxdWFsRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICc9PSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSA9PT0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBGYWxzZUV4cHJlc3Npb24gaW1wbGVtZW50cyBFeHByZXNzaW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcm93OiBudW1iZXIsIHByaXZhdGUgY29sdW1uOiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihmYWxzZSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEdyZWF0ZXJUaGFuRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICc+JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpID4gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIEdyZWF0ZXJUaGFuT3JFcXVhbEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPj0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pIDogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpID49IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgSGFzaEV4cHJlc3Npb24gaW1wbGVtZW50cyBFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGhhc2g6IFJlY29yZDxzdHJpbmcsIEV4cHJlc3Npb24+KSB7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBleHByZXNzaW9uXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmhhc2gpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IGV4cHJlc3Npb24uZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIEluY3JlbWVudEV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcblxuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGN1cnJlbnQucmV0cmlldmUoKTtcblxuICAgICAgICBjdXJyZW50LmFzc2lnbihvcmlnaW5hbCArIDEpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcrKyc7XG4gICAgfVxufSIsImltcG9ydCB7IFJlZmVyZW5jZU5vdEZvdW5kRXJyb3IgfSBmcm9tICcuLi9SZWZlcmVuY2VOb3RGb3VuZEVycm9yJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIElzRGVmaW5lZEV4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKCEoc3ViamVjdCA9PT0gdW5kZWZpbmVkIHx8IHN1YmplY3QgPT09IG51bGwpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgUmVmZXJlbmNlTm90Rm91bmRFcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnPz8nO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBMYW1iZGFFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJy0+JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICBjb25zdCBsb2NhbCA9IHsgLi4uZGF0YSB9O1xuXG4gICAgICAgIGNvbnN0IGxocyA9IHRoaXMubGhzLmV2YWx1YXRlKGxvY2FsKTtcblxuICAgICAgICBsaHMuYXNzaWduKGRhdGFbJyQkJ10pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJocy5ldmFsdWF0ZShsb2NhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTGVzc1RoYW5FeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJzwnO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgPCB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTGVzc1RoYW5PckVxdWFsRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICc8JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpIDw9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBNb2R1bHVzQW5kQXNzaWduRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICclPSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgY3VycmVudC5hc3NpZ24oY3VycmVudC5yZXRyaWV2ZSgpICUgdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodW5kZWZpbmVkKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTW9kdWx1c0V4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnJSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSAlIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBsaWNhdGlvbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSAqIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCaW5hcnlFeHByZXNzaW9uIH0gZnJvbSAnLi9CaW5hcnlFeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBseUFuZEFzc2lnbkV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKj0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpO1xuXG4gICAgICAgIGN1cnJlbnQuYXNzaWduKGN1cnJlbnQucmV0cmlldmUoKSAqIHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHVuZGVmaW5lZCk7XG4gICAgfVxufSIsImltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBDb21wb3NpbmdFeHByZXNzaW9uIH0gZnJvbSAnLi9Db21wb3NpbmdFeHByZXNzaW9uJztcblxuZXhwb3J0IGNsYXNzIE5lZ2F0aXZlRXhwcmVzc2lvbiBleHRlbmRzIENvbXBvc2luZ0V4cHJlc3Npb24ge1xuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YoLTEgKiB0aGlzLnN1YmplY3QuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICctJztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgTm90RXF1YWxFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyE9JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpICE9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBOb3RFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZighdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnbm90JztcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIE51bWJlckV4cHJlc3Npb24gaW1wbGVtZW50cyBFeHByZXNzaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN1YmplY3Q6IHN0cmluZywgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKE51bWJlcih0aGlzLnN1YmplY3QpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgT3JFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ3x8JztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZih0aGlzLmxocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpIHx8IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBQYXJlbnRoZXNpc0V4cHJlc3Npb24gZXh0ZW5kcyBDb21wb3NpbmdFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmplY3QuZXZhbHVhdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcoJztcbiAgICB9XG59IiwiaW1wb3J0IHsgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcbmltcG9ydCB7IENvbXBvc2luZ0V4cHJlc3Npb24gfSBmcm9tICcuL0NvbXBvc2luZ0V4cHJlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgUG9zaXRpdmVFeHByZXNzaW9uIGV4dGVuZHMgQ29tcG9zaW5nRXhwcmVzc2lvbiB7XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmV2YWx1YXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGdldE9wZXJhdG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnKyc7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlRXhjbHVzaXZlRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcuLic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgY29uc3QgbGhzID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgY29uc3QgcmhzID0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBpZiAobGhzIDwgcmhzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGhzOyBpIDwgcmhzOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsaHMgPiByaHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsaHM7IGkgPiByaHM7IGktLSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobGhzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlSW5jbHVzaXZlRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcuLic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgY29uc3QgbGhzID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgY29uc3QgcmhzID0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBpZiAobGhzIDwgcmhzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGhzOyBpIDw9IHJoczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGhzID4gcmhzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbGhzOyBpID49IHJoczsgaS0tKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChsaHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJy4uJztcbiAgICB9XG5cbiAgICBldmFsdWF0ZShkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogVmFsdWUge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goc3RhcnQgLSBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHJlc3VsdCk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlTGVuZ3RoSW5jcmVtZW50RXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcuLic7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PikgOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0YXJ0ICsgaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQ29tcG9zaW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vQ29tcG9zaW5nRXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbiBleHRlbmRzIENvbXBvc2luZ0V4cHJlc3Npb24ge1xuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ViamVjdC5ldmFsdWF0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ1snO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBSZWZlcmVuY2UsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWZlcmVuY2U6IHN0cmluZywgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBSZWZlcmVuY2Uub2YodGhpcy5yZWZlcmVuY2UsIGRhdGEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi4vRXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgU2VxdWVuY2VFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50czogRXhwcmVzc2lvbltdKSB7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodGhpcy5lbGVtZW50cy5tYXAoZWwgPT4gZWwuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBUZW1wbGF0ZUVycm9yIH0gZnJvbSAnLi4vVGVtcGxhdGVFcnJvcic7XG5pbXBvcnQgeyBSYW5nZVN0YXJ0aW5nRXhwcmVzc2lvbiB9IGZyb20gJy4vUmFuZ2VTdGFydGluZ0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9SYW5nZUxlbmd0aEluY3JlbWVudEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uIH0gZnJvbSAnLi9SYW5nZUxlbmd0aERlY3JlbWVudEV4cHJlc3Npb24nO1xuaW1wb3J0IHsgaXNIYXNoIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzSGFzaCc7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5cbmV4cG9ydCBjbGFzcyBTbGljZUV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlFeHByZXNzaW9uIHtcblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3Qgc3ViamVjdCA9IHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG4gICAgICAgIGNvbnN0IGFyZyA9IHRoaXMucmhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCk7XG5cbiAgICAgICAgY29uc3QgbGVuaWVudCA9IHRoaXMucmhzIGluc3RhbmNlb2YgUmFuZ2VMZW5ndGhJbmNyZW1lbnRFeHByZXNzaW9uIHx8IHRoaXMucmhzIGluc3RhbmNlb2YgUmFuZ2VMZW5ndGhEZWNyZW1lbnRFeHByZXNzaW9uO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJocyBpbnN0YW5jZW9mIFJhbmdlU3RhcnRpbmdFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZShhcmcpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN1YmplY3RbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbGVuaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgSW52YWxpZCBpbmRleCBmb3Igc2xpY2VgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdFthcmddKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgVW5zdXBwb3J0ZWQgYXJnIG9mIHNsaWNlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNIYXNoKHN1YmplY3QpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHN1YmplY3RbYXJnXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYFVuc3VwcG9ydGVkIGFyZyBvZiBzbGljZSB3aGVuIGFwcGxpZWQgdG8gaGFzaGApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1YmplY3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJocyBpbnN0YW5jZW9mIFJhbmdlU3RhcnRpbmdFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5zbGljZShhcmcpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgc3ViamVjdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN1YmplY3QuY2hhckF0KGluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWxlbmllbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYEludmFsaWQgaW5kZXggZm9yIHNsaWNlYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2YocmVzdWx0LmpvaW4oXCJcIikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExpdGVyYWwub2Yoc3ViamVjdC5jaGFyQXQoYXJnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUZW1wbGF0ZUVycm9yKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgYFVuc3VwcG9ydGVkIGFyZyBvZiBzbGljZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IodGhpcy5yb3csIHRoaXMuY29sdW1uLCBgVW5zdXBwb3J0ZWQgc3ViamVjdCBvZiBzbGljZWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdzbGljZSc7XG4gICAgfVxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tICcuLi9FeHByZXNzaW9uJztcbmltcG9ydCB7IExpdGVyYWwsIFZhbHVlIH0gZnJvbSAnLi9WYWx1ZSc7XG5pbXBvcnQgeyBTdHJpbmdCdWZmZXIgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCB7IEV4cHJlc3Npb25FbmdpbmUgfSBmcm9tICcuLi9leHByZXNzaW9uLWVuZ2luZSc7XG5cbmVudW0gU3RhZ2Uge1xuICAgIE9QRU4sXG4gICAgSU5URVJQT0xBVElPTlxufVxuXG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdHI6IHN0cmluZywgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG5cbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IFN0cmluZ0J1ZmZlcih0aGlzLnN0ciwgdGhpcy5yb3csIHRoaXMuY29sdW1uKTtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICBsZXQgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgIGxldCBjb2x1bW4sIHJvdztcblxuICAgICAgICBsZXQgc3RhZ2UgPSBTdGFnZS5PUEVOO1xuXG4gICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG5cbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuXG5cbiAgICAgICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuT1BFTikge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAod3JpdGVyLmVuZHNXaXRoKCckeycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IGNoYXJhY3Rlci5nZXRSb3coKTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAyKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuSU5URVJQT0xBVElPTjtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLklOVEVSUE9MQVRJT04pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnfScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdyaXRlci50b1N0cmluZygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ciA9IG5ldyBFeHByZXNzaW9uRW5naW5lKCkuYnVpbGQodGV4dCwgcm93ISwgY29sdW1uISkuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcoc3RyKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuT1BFTjtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuYXBwZW5kKHdyaXRlci50b1N0cmluZygpKTtcblxuICAgICAgICByZXR1cm4gTGl0ZXJhbC5vZihyZXN1bHQudG9TdHJpbmcoKSk7XG4gICAgfVxufSIsImltcG9ydCB7IEJpbmFyeUV4cHJlc3Npb24gfSBmcm9tICcuL0JpbmFyeUV4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFN1YnRyYWN0QW5kQXNzaWduRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeUV4cHJlc3Npb24ge1xuXG4gICAgZ2V0T3BlcmF0b3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICctPSc7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcblxuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5saHMuZXZhbHVhdGUoZGF0YSk7XG5cbiAgICAgICAgY3VycmVudC5hc3NpZ24oY3VycmVudC5yZXRyaWV2ZSgpIC0gdGhpcy5yaHMuZXZhbHVhdGUoZGF0YSkucmV0cmlldmUoKSk7XG5cbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodW5kZWZpbmVkKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmluYXJ5RXhwcmVzc2lvbiB9IGZyb20gJy4vQmluYXJ5RXhwcmVzc2lvbic7XG5pbXBvcnQgeyBMaXRlcmFsLCBWYWx1ZSB9IGZyb20gJy4vVmFsdWUnO1xuXG5leHBvcnQgY2xhc3MgU3VidHJhY3Rpb25FeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5RXhwcmVzc2lvbiB7XG5cbiAgICBnZXRPcGVyYXRvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJy0nO1xuICAgIH1cblxuICAgIGV2YWx1YXRlKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pOiBWYWx1ZSB7XG4gICAgICAgIHJldHVybiBMaXRlcmFsLm9mKHRoaXMubGhzLmV2YWx1YXRlKGRhdGEpLnJldHJpZXZlKCkgLSB0aGlzLnJocy5ldmFsdWF0ZShkYXRhKS5yZXRyaWV2ZSgpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gJy4uL0V4cHJlc3Npb24nO1xuaW1wb3J0IHsgTGl0ZXJhbCwgVmFsdWUgfSBmcm9tICcuL1ZhbHVlJztcblxuZXhwb3J0IGNsYXNzIFRydWVFeHByZXNzaW9uIGltcGxlbWVudHMgRXhwcmVzc2lvbiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdzogbnVtYmVyLCBwcml2YXRlIGNvbHVtbjogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZXZhbHVhdGUoZGF0YTogUmVjb3JkPHN0cmluZywgYW55Pik6IFZhbHVlIHtcbiAgICAgICAgcmV0dXJuIExpdGVyYWwub2YodHJ1ZSk7XG4gICAgfVxufSIsImV4cG9ydCBpbnRlcmZhY2UgVmFsdWUge1xuICAgIGFzc2lnbih2YWw6IGFueSk6IHZvaWQ7XG5cbiAgICByZXRyaWV2ZSgpOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBMaXRlcmFsIGltcGxlbWVudHMgVmFsdWUge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB2YWx1ZTogYW55KSB7XG4gICAgfVxuXG4gICAgYXNzaWduKHZhbDogYW55KTogdm9pZCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXNzaWdubWVudCB0YXJnZXRcIik7XG4gICAgfVxuXG4gICAgcmV0cmlldmUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mKHZhbHVlOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaXRlcmFsKHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2UgaW1wbGVtZW50cyBWYWx1ZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5hbWU6IHN0cmluZywgcHJpdmF0ZSBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gICAgfVxuXG4gICAgYXNzaWduKHZhbDogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGF0YVt0aGlzLm5hbWVdID0gdmFsO1xuICAgIH1cblxuICAgIHJldHJpZXZlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5uYW1lXTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHN0YXRpYyBvZihuYW1lOiBzdHJpbmcsIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2UobmFtZSwgZGF0YSk7XG4gICAgfVxufSIsImltcG9ydCB7IFN0cmluZ0J1ZmZlciB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9TdHJpbmdCdWZmZXInO1xuaW1wb3J0IHsgaXNXaGl0ZXNwYWNlIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzV2hpdGVzcGFjZSc7XG5pbXBvcnQgeyBpc0FscGhhYmV0aWMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvaXNBbHBoYWJldGljJztcbmltcG9ydCB7IGlzQWxwaGFudW1lcmljIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL2lzQWxwaGFudW1lcmljJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc051bWVyaWMnO1xuaW1wb3J0IHsgVGVtcGxhdGVFcnJvciB9IGZyb20gJy4uL1RlbXBsYXRlRXJyb3InO1xuXG5jb25zdCBlbnVtIFN0YWdlIHtcbiAgICBPUEVOLFxuICAgIE9QRVJBVE9SLFxuICAgIFJFRkVSRU5DRSxcbiAgICBTVFJJTkcsXG4gICAgUkFXX1NUUklORyxcbiAgICBOVU1CRVJcbn1cblxuZXhwb3J0IGNvbnN0IFRva2VuVHlwZSA9IHtcbiAgICBFUVVBTDogJ0VRVUFMJyxcbiAgICBOT1RfRVFVQUw6ICdOT1RfRVFVQUwnLFxuICAgIExFU1NfVEhBTjogJ0xFU1NfVEhBTicsXG4gICAgTEVTU19USEFOX09SX0VRVUFMOiAnTEVTU19USEFOX09SX0VRVUFMJyxcbiAgICBHUkVBVEVSX1RIQU46ICdHUkVBVEVSX1RIQU4nLFxuICAgIEdSRUFURVJfVEhBTl9PUl9FUVVBTDogJ0dSRUFURVJfVEhBTl9PUl9FUVVBTCcsXG4gICAgT1I6ICdPUicsXG4gICAgQU5EOiAnQU5EJyxcbiAgICBCQU5HOiAnQkFORycsXG4gICAgUkVGRVJFTkNFOiAnUkVGRVJFTkNFJyxcbiAgICBCVUlMVElOOiAnQlVJTFRJTicsXG4gICAgR0xPQkFMX1ZBUklBQkxFOiAnR0xPQkFMX1ZBUklBQkxFJyxcbiAgICBUUlVFOiAnVFJVRScsXG4gICAgRkFMU0U6ICdGQUxTRScsXG4gICAgU1RSSU5HOiAnU1RSSU5HJyxcbiAgICBOVU1CRVI6ICdOVU1CRVInLFxuICAgIE9QRU5fUEFSRU5USEVTSVM6ICdPUEVOX1BBUkVOVEhFU0lTJyxcbiAgICBDTE9TRV9QQVJFTlRIRVNJUzogJ0NMT1NFX1BBUkVOVEhFU0lTJyxcbiAgICBPUEVOX1NFUVVFTkNFOiAnT1BFTl9TRVFVRU5DRScsXG4gICAgQ0xPU0VfU0VRVUVOQ0U6ICdDTE9TRV9TRVFVRU5DRScsXG4gICAgT1BFTl9TTElDRTogJ09QRU5fU0xJQ0UnLFxuICAgIE9QRU5fSEFTSDogJ09QRU5fSEFTSCcsXG4gICAgQ0xPU0VfSEFTSDogJ0NMT1NFX0hBU0gnLFxuICAgIENPTU1BOiAnQ09NTUEnLFxuICAgIENPTE9OOiAnQ09MT04nLFxuICAgIEFTU0lHTjogJ0FTU0lHTicsXG4gICAgQUREX0FORF9BU1NJR046ICdBRERfQU5EX0FTU0lHTicsXG4gICAgU1VCVFJBQ1RfQU5EX0FTU0lHTjogJ1NVQlRSQUNUX0FORF9BU1NJR04nLFxuICAgIE1VTFRJUExZX0FORF9BU1NJR046ICdNVUxUSVBMWV9BTkRfQVNTSUdOJyxcbiAgICBESVZJREVfQU5EX0FTU0lHTjogJ0RJVklERV9BTkRfQVNTSUdOJyxcbiAgICBNT0RVTFVTX0FORF9BU1NJR046ICdNT0RVTFVTX0FORF9BU1NJR04nLFxuICAgIFBMVVM6ICdQTFVTJyxcbiAgICBNSU5VUzogJ01JTlVTJyxcbiAgICBNVUxUSVBMWTogJ01VTFRJUExZJyxcbiAgICBESVZJREU6ICdESVZJREUnLFxuICAgIE1PRFVMVVM6ICdNT0RVTFVTJyxcbiAgICBSQU5HRV9JTkNMVVNJVkU6ICdSQU5HRV9JTkNMVVNJVkUnLFxuICAgIFJBTkdFX0VYQ0xVU0lWRTogJ1JBTkdFX0VYQ0xVU0lWRScsXG4gICAgUkFOR0VfTEVOR1RIX0lOQzogJ1JBTkdFX0xFTkdUSF9JTkMnLFxuICAgIFJBTkdFX0xFTkdUSF9ERUM6ICdSQU5HRV9MRU5HVEhfREVDJyxcbiAgICBERVJFRkVSRU5DRTogJ0RFUkVGRVJFTkNFJyxcbiAgICBDQUxMX0JVSUxUSU46ICdDQUxMX0JVSUxUSU4nLFxuICAgIENBTExfTUVUSE9EOiAnQ0FMTF9NRVRIT0QnLFxuICAgIElTX0RFRklORUQ6ICdJU19ERUZJTkVEJyxcbiAgICBMQU1CREE6ICdMQU1CREEnLFxuICAgIFBMVVNfUExVUzogJ1BMVVNfUExVUycsXG4gICAgTUlOVVNfTUlOVVM6ICdNSU5VU19NSU5VUycsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9rZW4ge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB0eXBlOiBzdHJpbmcsIHByaXZhdGUgdG9rZW46IHN0cmluZywgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSBjb2x1bW46IG51bWJlcikge1xuICAgIH1cblxuICAgIGdldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XG4gICAgfVxuXG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGdldFJvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93O1xuICAgIH1cblxuICAgIGdldENvbHVtbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRva2VuaXplKGV4cHJlc3Npb246IHN0cmluZywgcm93OiBudW1iZXIgPSAwLCBjb2x1bW46IG51bWJlciA9IDApIHtcblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBTdHJpbmdCdWZmZXIoZXhwcmVzc2lvbiwgcm93LCBjb2x1bW4pO1xuICAgIGxldCBzdGFnZSA9IFN0YWdlLk9QRU47XG5cbiAgICBsZXQgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgY29uc3QgcmVzdWx0czogVG9rZW5bXSA9IFtdO1xuXG4gICAgZnVuY3Rpb24gYXBwZW5kVG9rZW4ocm93OiBudW1iZXIsIGNvbHVtbjogbnVtYmVyKSB7XG5cbiAgICAgICAgZnVuY3Rpb24gdGFrZShwYXJ0aWFsOiBzdHJpbmcsIHR5cGU6IHN0cmluZykge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbih0eXBlLCBwYXJ0aWFsLCByb3csIGNvbHVtbiAtIHBhcnRpYWwubGVuZ3RoKSk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4uc3Vic3RyaW5nKHBhcnRpYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0b2tlbiA9IHdyaXRlci50b1N0cmluZygpO1xuXG4gICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuTlVNQkVSKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKHRva2VuKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihyb3csIGNvbHVtbiwgYEludmFsaWQgbnVtYmVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5OVU1CRVIsIHRva2VuLCByb3csIGNvbHVtbiAtIHRva2VuLmxlbmd0aCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRva2VuLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLi4qLScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLiotJywgVG9rZW5UeXBlLlJBTkdFX0xFTkdUSF9ERUMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcuLiorJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy4uKisnLCBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0lOQyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy4uKicpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLionLCBUb2tlblR5cGUuUkFOR0VfTEVOR1RIX0lOQyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy4uPCcpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcuLjwnLCBUb2tlblR5cGUuUkFOR0VfRVhDTFVTSVZFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLi4hJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy4uPCcsIFRva2VuVHlwZS5SQU5HRV9FWENMVVNJVkUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc9PScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc9PScsIFRva2VuVHlwZS5FUVVBTCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJys9JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJys9JywgVG9rZW5UeXBlLkFERF9BTkRfQVNTSUdOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnKysnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnKysnLCBUb2tlblR5cGUuUExVU19QTFVTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLT0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLT0nLCBUb2tlblR5cGUuU1VCVFJBQ1RfQU5EX0FTU0lHTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy0tJywgVG9rZW5UeXBlLk1JTlVTX01JTlVTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLz0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLz0nLCBUb2tlblR5cGUuRElWSURFX0FORF9BU1NJR04pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCclPScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCclPScsIFRva2VuVHlwZS5NT0RVTFVTX0FORF9BU1NJR04pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcqPScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcqPScsIFRva2VuVHlwZS5NVUxUSVBMWV9BTkRfQVNTSUdOKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLT4nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnLT4nLCBUb2tlblR5cGUuTEFNQkRBKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnIT0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnIT0nLCBUb2tlblR5cGUuTk9UX0VRVUFMKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnPD0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPD0nLCBUb2tlblR5cGUuTEVTU19USEFOX09SX0VRVUFMKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnJmd0OycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+JywgVG9rZW5UeXBlLkdSRUFURVJfVEhBTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyZsdDsnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPCcsIFRva2VuVHlwZS5MRVNTX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCdsdCcpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc8JywgVG9rZW5UeXBlLkxFU1NfVEhBTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJ2x0ZScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc8PScsIFRva2VuVHlwZS5MRVNTX1RIQU5fT1JfRVFVQUwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCdndCcpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+JywgVG9rZW5UeXBlLkdSRUFURVJfVEhBTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJ2d0ZScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+PScsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc+PScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+PScsIFRva2VuVHlwZS5HUkVBVEVSX1RIQU5fT1JfRVFVQUwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCcmZ3Q7JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJz49JywgVG9rZW5UeXBlLkdSRUFURVJfVEhBTl9PUl9FUVVBTCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJy4uJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJy4uJywgVG9rZW5UeXBlLlJBTkdFX0lOQ0xVU0lWRSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJz8/JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJz8/JywgVG9rZW5UeXBlLklTX0RFRklORUQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCd8fCcpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCd8fCcsIFRva2VuVHlwZS5PUik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyYmJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyYmJywgVG9rZW5UeXBlLkFORCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyZhbXA7JmFtcDsnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnJiYnLCBUb2tlblR5cGUuQU5EKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgndHJ1ZScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCd0cnVlJywgVG9rZW5UeXBlLlRSVUUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCdmYWxzZScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCdmYWxzZScsIFRva2VuVHlwZS5GQUxTRSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPScsIFRva2VuVHlwZS5BU1NJR04pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCchJykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJyEnLCBUb2tlblR5cGUuQkFORyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJysnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnKycsIFRva2VuVHlwZS5QTFVTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCctJywgVG9rZW5UeXBlLk1JTlVTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCcvJywgVG9rZW5UeXBlLkRJVklERSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyonKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnKicsIFRva2VuVHlwZS5NVUxUSVBMWSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJyUnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnJScsIFRva2VuVHlwZS5NT0RVTFVTKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4uc3RhcnRzV2l0aCgnPicpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0YWtlKCc+JywgVG9rZW5UeXBlLkdSRUFURVJfVEhBTik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnN0YXJ0c1dpdGgoJzwnKSkge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdGFrZSgnPCcsIFRva2VuVHlwZS5MRVNTX1RIQU4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5zdGFydHNXaXRoKCc/JykpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRha2UoJz8nLCBUb2tlblR5cGUuQ0FMTF9CVUlMVElOKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICYmIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXS5nZXRUeXBlKCkgPT09IFRva2VuVHlwZS5DQUxMX0JVSUxUSU4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQlVJTFRJTiwgdG9rZW4sIHJvdywgY29sdW1uIC0gdG9rZW4ubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuUkVGRVJFTkNFLCB0b2tlbiwgcm93LCBjb2x1bW4gLSB0b2tlbi5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldFRva2VuKCkge1xuICAgICAgICBzdGFnZSA9IFN0YWdlLk9QRU47XG4gICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICB9XG5cbiAgICBsZXQgc3RyaW5nRGVsaW1pdGVyID0gbnVsbDtcblxuICAgIGxldCBlc2NhcGUgPSBmYWxzZTtcbiAgICBsZXQgZnVsbFN0b3AgPSBmYWxzZTtcbiAgICBsZXQgbGFzdEZ1bGxTdG9wID0gZmFsc2U7XG5cbiAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuXG4gICAgICAgIGxldCBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuXG4gICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuU1RSSU5HKSB7XG5cbiAgICAgICAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZCgnXCInKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PSAnXFwnJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKCdcXCcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ3snKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoJ3snKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoJz0nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoJ1xcXFwnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdyJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiXFxyXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAndCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIlxcdFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ2InKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCJcXGJcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdmJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiXFxmXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIjxcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdnJykge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiPlwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ2EnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCImXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAneCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9kbyBub3QgZXNjYXBlIHNwZWNpYWwgc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKFwiXFxcXHhcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3IoY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCksIGBVbnN1cHBvcnRlZCBlc2NhcGUgc2VxdWVuY2UgJ1xcXFwke2NoYXJhY3Rlci5nZXRTdHJpbmcoKX0nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSBzdHJpbmdEZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmcgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5TVFJJTkcsIHN0cmluZywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgLSBzdHJpbmcubGVuZ3RoIC0gMSkpO1xuXG4gICAgICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlJBV19TVFJJTkcpIHtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09IHN0cmluZ0RlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZyA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLlNUUklORywgc3RyaW5nLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSAtIHN0cmluZy5sZW5ndGggLSAyKSk7XG5cbiAgICAgICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnKCcpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgaWYgKHN0YWdlID09PSBTdGFnZS5SRUZFUkVOQ0UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5DQUxMX01FVEhPRCwgXCIoXCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLk9QRU5fUEFSRU5USEVTSVMsIFwiKFwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnWycpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIGlmIChzdGFnZSA9PT0gU3RhZ2UuUkVGRVJFTkNFKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuT1BFTl9TTElDRSwgXCJbXCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLk9QRU5fU0VRVUVOQ0UsIFwiW1wiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAneycpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuT1BFTl9IQVNILCBcIntcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJywnKSB7XG4gICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkNPTU1BLCBcIixcIiwgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpKTtcblxuICAgICAgICAgICAgcmVzZXRUb2tlbigpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnOicpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQ09MT04sIFwiOlwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnKScpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQ0xPU0VfUEFSRU5USEVTSVMsIFwiKVwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXScpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQ0xPU0VfU0VRVUVOQ0UsIFwiXVwiLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSkpO1xuXG4gICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnfScpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBUb2tlbihUb2tlblR5cGUuQ0xPU0VfSEFTSCwgXCJ9XCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG5cbiAgICAgICAgICAgIHJlc2V0VG9rZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuUkVGRVJFTkNFKSB7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5ERVJFRkVSRU5DRSwgXCIuXCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG5cbiAgICAgICAgICAgICAgICByZXNldFRva2VuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1wiJyAmJiB3cml0ZXIudG9TdHJpbmcoKSA9PT0gJ3InKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5SQVdfU1RSSU5HO1xuICAgICAgICAgICAgICAgIHN0cmluZ0RlbGltaXRlciA9ICdcIic7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcXCcnICYmIHdyaXRlci50b1N0cmluZygpID09PSAncicpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlJBV19TVFJJTkc7XG4gICAgICAgICAgICAgICAgc3RyaW5nRGVsaW1pdGVyID0gJ1xcJyc7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhbnVtZXJpYyhjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdfJykge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICAgICAgLy9lbmNvdW50ZXJlZCB3ZWlyZCBjaGFyYWN0ZXIgLSBvcGVyYXRvci5cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLk9QRVJBVE9SO1xuXG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcIicpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgc3RyaW5nRGVsaW1pdGVyID0gJ1wiJztcbiAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuU1RSSU5HO1xuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1xcJycpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgc3RyaW5nRGVsaW1pdGVyID0gJ1xcJyc7XG4gICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlNUUklORztcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuT1BFUkFUT1IpIHtcbiAgICAgICAgICAgIGlmIChpc0FscGhhYmV0aWMoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUkVGRVJFTkNFO1xuXG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOdW1lcmljKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLk5VTUJFUjtcblxuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuTlVNQkVSKSB7XG4gICAgICAgICAgICBpZiAobGFzdEZ1bGxTdG9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpIC0gMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVSQVRPUjtcbiAgICAgICAgICAgICAgICAgICAgZnVsbFN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZ1bGxTdG9wID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXN0RnVsbFN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZCgnLicpO1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0RnVsbFN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9kb3VibGUgZnVsbFN0b3AgLSB3ZSBoYXZlIGEgcmFuZ2Ugb3BlcmF0b3IuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmdWxsU3RvcCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVGVtcGxhdGVFcnJvcihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSwgYEludmFsaWQgZGVjaW1hbCBwb2ludCwgZGVjaW1hbCBwb2ludCBhbHJlYWR5IHByb2Nlc3NlZGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdWxsU3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGFzdEZ1bGxTdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOdW1lcmljKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICBsYXN0RnVsbFN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQWxwaGFiZXRpYyhjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5SRUZFUkVOQ0U7XG5cbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUb2tlbihjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG5cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLk9QRVJBVE9SO1xuXG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICcuJykge1xuICAgICAgICAgICAgYXBwZW5kVG9rZW4oY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IFRva2VuKFRva2VuVHlwZS5ERVJFRkVSRU5DRSwgXCIuXCIsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKSk7XG5cbiAgICAgICAgICAgIHJlc2V0VG9rZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhYmV0aWMoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgLy8gcmVmZXJlbmNlIGlzIGEgc3BlY2lhbCBtb2RlIHdoZXJlIGFscGhhbnVtZXJpY3MgZm9yIGEgdG9rZW4sIGFuZCBhbnl0aGluZyBlbHNlIHRlcm1pbmF0ZXMgdGhlIHRva2VuLlxuICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5SRUZFUkVOQ0U7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1lcmljKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgIC8vIG51bWJlciBpcyBhIHNwZWNpYWwgbW9kZSB3aGVyZSBmdWxsc3RvcCBtZWFucyBzb21ldGhpbmcgc3BlY2lmaWMsIGEgZGVjaW1hbCBwb2ludC4gQWxwaGFiZXRpYyBjaGFyYWN0ZXJzIGFyZSBpbnZhbGlkLlxuICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5OVU1CRVI7XG4gICAgICAgICAgICBmdWxsU3RvcCA9IGZhbHNlO1xuICAgICAgICAgICAgbGFzdEZ1bGxTdG9wID0gZmFsc2U7XG4gICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnLicpIHtcbiAgICAgICAgICAgIGFwcGVuZFRva2VuKGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcblxuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIi5cIik7XG4gICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlJFRkVSRU5DRTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVSQVRPUjtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaWYgKHN0YWdlID09PSBTdGFnZS5TVFJJTkcgfHwgc3RhZ2UgPT09IFN0YWdlLlJBV19TVFJJTkcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRlbXBsYXRlRXJyb3Iocm93LCBjb2x1bW4sIGBVbmNsb3NlZCBzdHJpbmdgKTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb2tlbihyZWFkZXIuZ2V0Um93KCksIHJlYWRlci5nZXRDb2x1bW4oKSk7XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuIiwiZXhwb3J0IGNsYXNzIExleGljYWxUb2tlbiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHR5cGU6IHN0cmluZywgcHJpdmF0ZSBjb2x1bW46IG51bWJlciwgcHJpdmF0ZSByb3c6IG51bWJlciwgcHJpdmF0ZSB0ZXh0OiBzdHJpbmcsIHByaXZhdGUgcGFyYW1zPzogc3RyaW5nLCBwcml2YXRlIHBhcmFtc1Jvdz86IG51bWJlciwgcHJpdmF0ZSBwYXJhbXNDb2x1bW4/OiBudW1iZXIpIHtcbiAgICB9XG5cbiAgICBnZXRUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xuICAgIH1cblxuICAgIGdldFJvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93O1xuICAgIH1cblxuICAgIGdldENvbHVtbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uO1xuICAgIH1cblxuICAgIGdldFRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXM7XG4gICAgfVxuXG4gICAgZ2V0UGFyYW1zUm93KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNSb3c7XG4gICAgfVxuXG4gICAgZ2V0UGFyYW1zQ29sdW1uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXNDb2x1bW47XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBMZXhpY2FsVG9rZW5UeXBlID0ge1xuICAgIE9QRU5fRElSRUNUSVZFOiAnT1BFTl9ESVJFQ1RJVkUnLFxuICAgIENMT1NFX0RJUkVDVElWRTogJ0NMT1NFX0RJUkVDVElWRScsXG4gICAgVEVYVDogJ1RFWFQnLFxuICAgIElOVEVSUE9MQVRJT046ICdJTlRFUlBPTEFUSU9OJyxcbn07IiwiaW1wb3J0IHsgTGV4aWNhbFRva2VuIH0gZnJvbSAnLi9MZXhpY2FsVG9rZW4nO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL1N0cmluZ0J1ZmZlcic7XG5pbXBvcnQgeyBMZXhpY2FsVG9rZW5UeXBlIH0gZnJvbSAnLi9MZXhpY2FsVG9rZW5UeXBlJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9pc1doaXRlc3BhY2UnO1xuXG5cbmVudW0gSW50ZXJwb2xhdGlvblN0YWdlIHtcbiAgICBPUEVOLFxuICAgIFNUUklORyxcbiAgICBSQVdfU1RSSU5HXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRlbXBsYXRlOiBzdHJpbmcpOiBMZXhpY2FsVG9rZW5bXSB7XG5cbiAgICBjb25zdCByZXN1bHRzOiBMZXhpY2FsVG9rZW5bXSA9IFtdO1xuXG4gICAgbGV0IHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICBsZXQgc3RhcnRDb2x1bW4gPSAwLCBzdGFydFJvdyA9IDA7XG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgU3RyaW5nQnVmZmVyKHRlbXBsYXRlKTtcblxuICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG5cbiAgICAgICAgbGV0IGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG4gICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcblxuICAgICAgICBpZiAod3JpdGVyLmVuZHNXaXRoKCc8LyMnKSkge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoIC0gMykge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgTGV4aWNhbFRva2VuKExleGljYWxUb2tlblR5cGUuVEVYVCwgc3RhcnRDb2x1bW4sIHN0YXJ0Um93LCB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIDMpLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICAgICAgICBzdGFydENvbHVtbiA9IGNoYXJhY3Rlci5nZXRDb2x1bW4oKSAtIDI7XG4gICAgICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpIHx8IGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgTGV4aWNhbFRva2VuKExleGljYWxUb2tlblR5cGUuQ0xPU0VfRElSRUNUSVZFLCBzdGFydENvbHVtbiwgc3RhcnRSb3csIGRpcmVjdGl2ZSwgd3JpdGVyLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgKyAxO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh3cml0ZXIuZW5kc1dpdGgoJzwjJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IExleGljYWxUb2tlbihMZXhpY2FsVG9rZW5UeXBlLlRFWFQsIHN0YXJ0Q29sdW1uLCBzdGFydFJvdywgdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAyKSkpO1xuXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgLSAxO1xuICAgICAgICAgICAgICAgIHN0YXJ0Um93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSB8fCBjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgICAgICBsZXQgcGFyYW1zUm93LCBwYXJhbXNDb2x1bW47XG5cbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoY2hhcmFjdGVyLmdldFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIGxldCBsZWFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXJhbXNSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zQ29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGVhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVhZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVhZGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgTGV4aWNhbFRva2VuKExleGljYWxUb2tlblR5cGUuT1BFTl9ESVJFQ1RJVkUsIHN0YXJ0Q29sdW1uLCBzdGFydFJvdywgZGlyZWN0aXZlLCB3cml0ZXIudG9TdHJpbmcoKSwgcGFyYW1zUm93LCBwYXJhbXNDb2x1bW4pKTtcbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgKyAxO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG4gICAgICAgIH0gZWxzZSBpZiAod3JpdGVyLmVuZHNXaXRoKCckeycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBMZXhpY2FsVG9rZW4oTGV4aWNhbFRva2VuVHlwZS5URVhULCBzdGFydENvbHVtbiwgc3RhcnRSb3csIHRleHQuc3Vic3RyaW5nKDAsIHRleHQubGVuZ3RoIC0gMiksIHVuZGVmaW5lZCkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY2hhcmFjdGVyLmdldENvbHVtbigpIC0gMTtcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IGNoYXJhY3Rlci5nZXRSb3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcblxuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkgLSAxO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSBjaGFyYWN0ZXIuZ2V0Um93KCk7XG5cbiAgICAgICAgICAgIGxldCBwYXJhbXNSb3csIHBhcmFtc0NvbHVtbiwgbGVhZGluZyA9IHRydWUsIGlzUmF3ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBzdGFnZSA9IEludGVycG9sYXRpb25TdGFnZS5PUEVOO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVhZGVyLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlciA9IHJlYWRlci5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGVhZGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zUm93ID0gY2hhcmFjdGVyLmdldFJvdygpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNDb2x1bW4gPSBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhZ2UgPT09IEludGVycG9sYXRpb25TdGFnZS5PUEVOKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Jhdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlID0gSW50ZXJwb2xhdGlvblN0YWdlLlJBV19TVFJJTkc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlID0gSW50ZXJwb2xhdGlvblN0YWdlLlNUUklORztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmF3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyLmdldFN0cmluZygpID09PSBcInJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNSYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNSYXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gSW50ZXJwb2xhdGlvblN0YWdlLlJBV19TVFJJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhZ2UgPSBJbnRlcnBvbGF0aW9uU3RhZ2UuT1BFTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gSW50ZXJwb2xhdGlvblN0YWdlLlNUUklORykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWRlci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSByZWFkZXIubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoY2hhcmFjdGVyLmdldFN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIuZ2V0U3RyaW5nKCkgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdlID0gSW50ZXJwb2xhdGlvblN0YWdlLk9QRU47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGNoYXJhY3Rlci5nZXRTdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gobmV3IExleGljYWxUb2tlbihMZXhpY2FsVG9rZW5UeXBlLklOVEVSUE9MQVRJT04sIHN0YXJ0Q29sdW1uLCBzdGFydFJvdywgJycsIHdyaXRlci50b1N0cmluZygpLCBwYXJhbXNSb3csIHBhcmFtc0NvbHVtbikpO1xuICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IGNoYXJhY3Rlci5nZXRDb2x1bW4oKSArIDE7XG4gICAgICAgICAgICBzdGFydFJvdyA9IGNoYXJhY3Rlci5nZXRSb3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICBpZiAodGV4dC5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBMZXhpY2FsVG9rZW4oTGV4aWNhbFRva2VuVHlwZS5URVhULCBzdGFydENvbHVtbiwgc3RhcnRSb3csIHRleHQsIHVuZGVmaW5lZCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufSIsIiMhIC91c3IvYmluL2VudiBub2RlXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEVsZW1lbnQsIHBhcnNlIH0gZnJvbSAnLi9wYXJzZXInO1xuXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgVGVtcGxhdGVFbmdpbmUgfSBmcm9tICcuL2ZyZWVtYXJrZXInO1xuaW1wb3J0IFN0b3JlIGZyb20gJy4vc3RvcmUvU3RvcmUnO1xuaW1wb3J0IGZvcm1hdCBmcm9tICdodG1sLWZvcm1hdCc7XG5pbXBvcnQgeyBQbGFudGFpblN1YnN0aXR1dGlvbnMsIFN1YnN0aXR1dGlvbnMgfSBmcm9tICcuL1N1YnN0aXR1dGlvbnMnO1xuaW1wb3J0IFJlbmRlcmluZ0VuZ2luZSBmcm9tICcuL1JlbmRlcmluZ0VuZ2luZSc7XG5pbXBvcnQgeyBGcmVlbWFya2VyRXJyb3IgfSBmcm9tICcuL2ZyZWVtYXJrZXIvRnJlZW1hcmtlckVycm9yJztcbmltcG9ydCBjb21tYW5kZXIgPSByZXF1aXJlKCdjb21tYW5kZXInKTtcblxuY29uc3Qgb3B0aW9ucyA9IGNvbW1hbmRlclxuICAgIC52ZXJzaW9uKCcxLjAuMCcsICctdiwgLS12ZXJzaW9uJylcbiAgICAudXNhZ2UoJ1tPUFRJT05TXS4uLicpXG4gICAgLm9wdGlvbignLWQsIC0tZGlyIDx2YWx1ZT4nLCAnU3BlY2lmaWVzIGxvY2F0aW9uIG9mIHRoZSBtYXRlcmlhbHMuJywgJy4vJylcbiAgICAub3B0aW9uKCctbywgLS1vdXRwdXQgPHZhbHVlPicsICdTcGVjaWZpZXMgbG9jYXRpb24gb2YgdGhlIG91dHB1dC4nLCAnLi9odG1sJylcbiAgICAub3B0aW9uKCctcywgLS1wYWdlIDx2YWx1ZT4nLCAnU3BlY2lmaWVzIGEgc2luZ2xlIHBhZ2UgdG8gcHJvY2Vzcy4nKVxuICAgIC5wYXJzZShwcm9jZXNzLmFyZ3YpXG4gICAgLm9wdHMoKTtcblxuXG5pZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgb3B0aW9ucy5vdXRwdXQpKSkge1xuICAgIGZzLm1rZGlyU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCBvcHRpb25zLm91dHB1dCkpO1xufVxuXG5jb25zdCBjbGFzc01hcHBpbmdzRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5lbnYuSU5JVF9DV0QhLCBvcHRpb25zLmRpciwgJ2NsYXNzLW1hcHBpbmdzLnByb3BlcnRpZXMnKSwgJ3V0ZjgnKTtcblxuY29uc3QgY2xhc3NNYXBwaW5ncyA9IG5ldyBQcm9wZXJ0aWVzKGNsYXNzTWFwcGluZ3NEYXRhKTtcblxuY29uc3QgcGxhbnRhaW5TdWJzdGl0dXRpb25zID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgb3B0aW9ucy5kaXIsICdwbGFudGFpbi1zdWJzdGl0dXRpb25zLmpzb24nKSwgJ3V0ZjgnKSkgYXMgUGxhbnRhaW5TdWJzdGl0dXRpb25zO1xuXG5mdW5jdGlvbiBwcm9jZXNzRGlyZWN0b3J5KGRpcjogc3RyaW5nLCBzdWZmaXg6IHN0cmluZywgYmFzZVRlbXBsYXRlOiBzdHJpbmcpIHtcblxuICAgIGZzLnJlYWRkaXIocGF0aC5qb2luKHByb2Nlc3MuZW52LklOSVRfQ1dEISwgb3B0aW9ucy5kaXIsIGRpciksIGZ1bmN0aW9uKGVycjogTm9kZUpTLkVycm5vRXhjZXB0aW9uIHwgbnVsbCwgZmlsZXM6IHN0cmluZ1tdKSB7XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdVbmFibGUgdG8gc2NhbiBkaXJlY3Rvcnk6ICcgKyBlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBhZ2UgJiYgZmlsZSAhPT0gb3B0aW9ucy5wYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdG9yZS5jbGVhcigpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvY2Vzc2luZyAnICsgZmlsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YnN0aXR1dGlvbnMgPSBwbGFudGFpblN1YnN0aXR1dGlvbnNbZmlsZV0gfHwge30gYXMgU3Vic3RpdHV0aW9ucztcblxuICAgICAgICAgICAgY29uc3QgZG9tID0gcGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMuZGlyLCBkaXIsIGZpbGUpLCAndXRmOCcpKTtcblxuICAgICAgICAgICAgY29uc3QgcmVuZGVyaW5nRW5naW5lID0gbmV3IFJlbmRlcmluZ0VuZ2luZShmaWxlLCBjbGFzc01hcHBpbmdzLCBzdWJzdGl0dXRpb25zLCBvcHRpb25zLmRpcik7XG5cbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSByZW5kZXJpbmdFbmdpbmUucmVuZGVyRWxlbWVudChkb20ucm9vdCBhcyBFbGVtZW50KTtcblxuICAgICAgICAgICAgY29uc3QgbWFpblRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMuZGlyLCBiYXNlVGVtcGxhdGUpLCAndXRmOCcpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBuZXcgVGVtcGxhdGVFbmdpbmUoKS5yZW5kZXIobWFpblRlbXBsYXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAoZG9tLnJvb3QgYXMgRWxlbWVudCkuYXR0cmlidXRlcy50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmVudi5JTklUX0NXRCEsIG9wdGlvbnMub3V0cHV0LCBmaWxlLnJlcGxhY2VBbGwoc3VmZml4LCBcIi5odG1sXCIpKSwgZm9ybWF0KGh0bWwpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGcmVlbWFya2VyRXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZnRsIHRlbXBsYXRlICdtYWluLmZ0bCdgLCBlcnIgYXMgRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxucHJvY2Vzc0RpcmVjdG9yeSgncGFnZXMnLCBcIi5wYWdlLnhtbFwiLCBcIm1haW4uZnRsXCIpO1xucHJvY2Vzc0RpcmVjdG9yeSgnZW1haWxzJywgXCIuZW1haWwueG1sXCIsIFwiZW1haWwuZnRsXCIpO1xuIiwiaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSB9IGZyb20gJy4vdXRpbGl0aWVzL2lzV2hpdGVzcGFjZSc7XG5pbXBvcnQgeyBpc0FscGhhYmV0aWMgfSBmcm9tICcuL3V0aWxpdGllcy9pc0FscGhhYmV0aWMnO1xuaW1wb3J0IHsgaXNBbHBoYW51bWVyaWMgfSBmcm9tICcuL3V0aWxpdGllcy9pc0FscGhhbnVtZXJpYyc7XG5cbmludGVyZmFjZSBEaWN0aW9uYXJ5PFQ+IHtcbiAgICBbS2V5OiBzdHJpbmddOiBUO1xufVxuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnQge1xuICAgIHB1YmxpYyBwcm9jZXNzaW5nOiBEaWN0aW9uYXJ5PERpY3Rpb25hcnk8c3RyaW5nPj47XG4gICAgcHVibGljIHJvb3Q6IE5vZGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9jZXNzaW5nOiBEaWN0aW9uYXJ5PERpY3Rpb25hcnk8c3RyaW5nPj4sIHJvb3Q6IE5vZGUpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nID0gcHJvY2Vzc2luZztcbiAgICAgICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICB9XG59XG5cbmludGVyZmFjZSBOb2RlIHtcblxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KHN1YmplY3Q6IE5vZGUpOiBzdWJqZWN0IGlzIEVsZW1lbnQge1xuICAgIHJldHVybiAoc3ViamVjdCBhcyBFbGVtZW50KS5uYW1lICE9PSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RleHQoc3ViamVjdDogTm9kZSk6IHN1YmplY3QgaXMgVGV4dCB7XG4gICAgcmV0dXJuIChzdWJqZWN0IGFzIFRleHQpLnRleHQgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkobm9kZXM6IE5vZGVbXSkge1xuICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCBmaXJzdCA9IG5vZGVzWzBdO1xuICAgICAgICBpZiAoZmlyc3QgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QudGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgRWxlbWVudCBpbXBsZW1lbnRzIE5vZGUge1xuICAgIG5hbWU6IHN0cmluZyA9ICcnO1xuICAgIGF0dHJpYnV0ZXM6IERpY3Rpb25hcnk8c3RyaW5nPiA9IHt9O1xuICAgIGNoaWxkcmVuOiBOb2RlW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU/OiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBEaWN0aW9uYXJ5PHN0cmluZz4sIGNoaWxkcmVuOiBOb2RlW10gPSBbXSkge1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0IGltcGxlbWVudHMgTm9kZSB7XG4gICAgdGV4dDogc3RyaW5nID0gJyc7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG59XG5cbmNvbnN0IFN0YWdlID0ge1xuICAgIE9QRU46ICdPUEVOJyxcbiAgICBUQUc6ICdUQUcnLFxuICAgIENMT1NJTkdfVEFHOiAnQ0xPU0lOR19UQUcnLFxuICAgIENMT1NJTkdfVEFHX09QRU46ICdDTE9TSU5HX1RBR19PUEVOJyxcbiAgICBQUk9DRVNTSU5HX1RBRzogJ1BST0NFU1NJTkdfVEFHJyxcbiAgICBQUk9DRVNTSU5HX1RBR19OQU1FOiAnUFJPQ0VTU0lOR19UQUdfTkFNRScsXG4gICAgUFJPQ0VTU0lOR19UQUdfT1BFTjogJ1BST0NFU1NJTkdfVEFHX09QRU4nLFxuICAgIFBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9OQU1FOiAnUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX05BTUUnLFxuICAgIFBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9FUVVBTFM6ICdQUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfRVFVQUxTJyxcbiAgICBQUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfVkFMVUU6ICdQUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfVkFMVUUnLFxuICAgIFBST0NFU1NJTkdfVEFHX0NMT1NJTkc6ICdQUk9DRVNTSU5HX1RBR19DTE9TSU5HJyxcbiAgICBFTEVNRU5UX05BTUU6ICdFTEVNRU5UX05BTUUnLFxuICAgIEVMRU1FTlRfT1BFTjogJ0VMRU1FTlRfT1BFTicsXG4gICAgRUxFTUVOVF9BVFRSSUJVVEVfTkFNRTogJ0VMRU1FTlRfQVRUUklCVVRFX05BTUUnLFxuICAgIEVMRU1FTlRfQVRUUklCVVRFX0VRVUFMUzogJ0VMRU1FTlRfQVRUUklCVVRFX0VRVUFMUycsXG4gICAgRUxFTUVOVF9BVFRSSUJVVEVfVkFMVUU6ICdFTEVNRU5UX0FUVFJJQlVURV9WQUxVRScsXG4gICAgRUxFTUVOVF9DT05URU5UOiAnRUxFTUVOVF9DT05URU5UJyxcbiAgICBFTEVNRU5UX0FVVE9fQ0xPU0lORzogJ0VMRU1FTlRfQVVUT19DTE9TSU5HJyxcbiAgICBDT01NRU5UOiAnQ09NTUVOVCcsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UoeG1sOiBzdHJpbmcpOiBEb2N1bWVudCB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IFN0cmluZ0J1ZmZlcih4bWwpO1xuXG4gICAgbGV0IGF0dHJpYnV0ZU5hbWUgPSB1bmRlZmluZWQ7XG5cbiAgICBsZXQgcHJvY2Vzc2luZzogRGljdGlvbmFyeTxEaWN0aW9uYXJ5PHN0cmluZz4+ID0ge307XG4gICAgbGV0IHByb2Nlc3NpbmdUYWdOYW1lID0gdW5kZWZpbmVkO1xuICAgIGxldCBwcm9jZXNzaW5nQXR0cmlidXRlczogRGljdGlvbmFyeTxzdHJpbmc+ID0ge307XG5cblxuICAgIGxldCBzdGFjazogRWxlbWVudFtdID0gW107XG4gICAgbGV0IGN1cnJlbnQ6IGFueSA9IHVuZGVmaW5lZDtcblxuXG4gICAgbGV0IHN0YWdlID0gU3RhZ2UuT1BFTjtcbiAgICBsZXQgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuXG4gICAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKHJlYWRlci5oYXNOZXh0KCkpIHtcblxuICAgICAgICBsZXQgY2hhcmFjdGVyID0gcmVhZGVyLm5leHQoKTtcbiAgICAgICAgbGV0IGMgPSBjaGFyYWN0ZXIuZ2V0U3RyaW5nKCk7XG5cbiAgICAgICAgaWYgKGMuY2hhckNvZGVBdCgwKSA9PT0gMTApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YWdlID09PSBTdGFnZS5PUEVOKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5UQUc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkNPTU1FTlQpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQ09OVEVOVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlRBRykge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuQ0xPU0lOR19UQUc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICchJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuQ09NTUVOVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQWxwaGFiZXRpYyhjKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbmV3IEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfTkFNRTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuUFJPQ0VTU0lOR19UQUcpIHtcblxuICAgICAgICAgICAgaWYgKGlzQWxwaGFiZXRpYyhjKSkge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfTkFNRTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHX05BTUUpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHX09QRU47XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1RhZ05hbWUgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZ0F0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbHBoYW51bWVyaWMoYykpIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfT1BFTikge1xuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhYmV0aWMoYykpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLlBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9OQU1FO1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfQ0xPU0lORztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9OQU1FKSB7XG4gICAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5QUk9DRVNTSU5HX1RBR19BVFRSSUJVVEVfRVFVQUxTO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhbnVtZXJpYyhjKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLlBST0NFU1NJTkdfVEFHX0FUVFJJQlVURV9FUVVBTFMpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1wiJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX1ZBTFVFO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuUFJPQ0VTU0lOR19UQUdfQVRUUklCVVRFX1ZBTFVFKSB7XG4gICAgICAgICAgICBpZiAoIWVzY2FwZSAmJiBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZXNjYXBlICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lIGFzIHN0cmluZ10gPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5QUk9DRVNTSU5HX1RBR19PUEVOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5QUk9DRVNTSU5HX1RBR19DTE9TSU5HKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1twcm9jZXNzaW5nVGFnTmFtZSBhcyBzdHJpbmddID0gcHJvY2Vzc2luZ0F0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5PUEVOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuRUxFTUVOVF9OQU1FKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5uYW1lID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9BVVRPX0NMT1NJTkc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQubmFtZSA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQ09OVEVOVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5uYW1lID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9PUEVOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5FTEVNRU5UX09QRU4pIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9BVVRPX0NMT1NJTkc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQWxwaGFiZXRpYyhjKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0FUVFJJQlVURV9OQU1FO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGMsIGNoYXJhY3Rlci5nZXRSb3coKSwgY2hhcmFjdGVyLmdldENvbHVtbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGFnZSA9PT0gU3RhZ2UuRUxFTUVOVF9BVFRSSUJVVEVfTkFNRSkge1xuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9BVFRSSUJVVEVfRVFVQUxTO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FscGhhbnVtZXJpYyhjKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkVMRU1FTlRfQVRUUklCVVRFX0VRVUFMUykge1xuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0FUVFJJQlVURV9WQUxVRTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkVMRU1FTlRfQVRUUklCVVRFX1ZBTFVFKSB7XG4gICAgICAgICAgICBpZiAoIWVzY2FwZSAmJiBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZXNjYXBlICYmIGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZSBhcyBzdHJpbmddID0gZGVzY2FwZVN0cmluZyh3cml0ZXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgd3JpdGVyID0gbmV3IFN0cmluZ0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9PUEVOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlc2NhcGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3cml0ZXIuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQpIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gd3JpdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgaXNUZXh0KGN1cnJlbnQuY2hpbGRyZW5bY3VycmVudC5jaGlsZHJlbi5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBvbmx5IGhhcHBlbnMgaWYgd2UgaGF2ZSBhIGNvbW1lbnQuICBXZSBuZWVkIHRvIG1lcmdlIHRoZSBjdXJyZW50IGNvbnRleHQgaW50byB0aGUgcHJldmlvdXMgdGV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjdXJyZW50LmNoaWxkcmVuW2N1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gYXMgVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQudGV4dCA9IHRleHQudGV4dCArIGRlc2NhcGVTdHJpbmcod3JpdGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZHJlbi5wdXNoKG5ldyBUZXh0KGRlc2NhcGVTdHJpbmcod3JpdGVyLnRvU3RyaW5nKCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5UQUc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkNMT1NJTkdfVEFHKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvc2VUYWcgPSB3cml0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlVGFnICE9PSBjdXJyZW50Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjbG9zZSB0YWcgKCR7Y2xvc2VUYWd9KSBkb2Vzbid0IG1hdGNoIHN0YXJ0IHRhZyAke2N1cnJlbnQubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWdlID0gU3RhZ2UuRUxFTUVOVF9DT05URU5UO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkNMT1NJTkdfVEFHX09QRU47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhZ2UgPT09IFN0YWdlLkNMT1NJTkdfVEFHX09QRU4pIHtcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZVRhZyA9IHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHdyaXRlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VUYWcgIT09IGN1cnJlbnQubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNsb3NlIHRhZyAoJHtjbG9zZVRhZ30pIGRvZXNuJ3QgbWF0Y2ggc3RhcnQgdGFnICR7Y3VycmVudC5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhZ2UgPSBTdGFnZS5FTEVNRU5UX0NPTlRFTlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoYywgY2hhcmFjdGVyLmdldFJvdygpLCBjaGFyYWN0ZXIuZ2V0Q29sdW1uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YWdlID09PSBTdGFnZS5FTEVNRU5UX0FVVE9fQ0xPU0lORykge1xuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFnZSA9IFN0YWdlLkVMRU1FTlRfQ09OVEVOVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3dFcnJvcihjLCBjaGFyYWN0ZXIuZ2V0Um93KCksIGNoYXJhY3Rlci5nZXRDb2x1bW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGN1cnJlbnQgPSBuZXcgVGV4dCh3cml0ZXIudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEb2N1bWVudChwcm9jZXNzaW5nLCBjdXJyZW50KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihjOiBzdHJpbmcsIHJvdzogbnVtYmVyLCBjb2x1bW46IG51bWJlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2hhcmFjdGVyICgke2N9KSBub3QgYWxsb3dlZCBhdCBwb3NpdGlvbiAke3Jvd306JHtjb2x1bW59LmApO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudChkb2N1bWVudDogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBwcm9jZXNzaW5nID0gT2JqZWN0LmVudHJpZXMoZG9jdW1lbnQucHJvY2Vzc2luZylcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3cml0ZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7XG5cbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCI8P1wiKTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoa2V5KTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCIgXCIpO1xuICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChPYmplY3QuZW50cmllcyh2YWx1ZSlcbiAgICAgICAgICAgICAgICAubWFwKChba2V5MiwgdmFsdWUyXSkgPT4gYCR7a2V5Mn09XCIke2VzY2FwZVN0cmluZyh2YWx1ZTIpfVwiYCkuam9pbignICcpKTtcbiAgICAgICAgICAgIHdyaXRlci5hcHBlbmQoXCIgXCIpO1xuICAgICAgICAgICAgd3JpdGVyLmFwcGVuZChcIj8+XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHdyaXRlci50b1N0cmluZygpO1xuICAgICAgICB9KS5qb2luKCcgJyk7XG5cbiAgICByZXR1cm4gYCR7cHJvY2Vzc2luZ30ke3NlcmlhbGl6ZU5vZGUoZG9jdW1lbnQucm9vdCl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZU5vZGUobm9kZTogTm9kZSk6IHN0cmluZyB7XG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIHJldHVybiBlc2NhcGVTdHJpbmcobm9kZS50ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuZW50cmllcyhub2RlLmF0dHJpYnV0ZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYCR7a2V5fT1cIiR7ZXNjYXBlU3RyaW5nKHZhbHVlKX1cImA7XG4gICAgICAgIH0pLmpvaW4oJyAnKTtcblxuICAgICAgICBjb25zdCBib2R5ID0gc2VyaWFsaXplTm9kZXMobm9kZS5jaGlsZHJlbik7XG4gICAgICAgIGlmIChib2R5ID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIGA8JHtub2RlLm5hbWV9ICR7YXR0cmlidXRlc30vPmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGA8JHtub2RlLm5hbWV9ICR7YXR0cmlidXRlc30+JHtib2R5fTwvJHtub2RlLm5hbWV9PmA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGhhcHBlblwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVOb2Rlcyhub2RlczogTm9kZVtdKSB7XG4gICAgcmV0dXJuIG5vZGVzLm1hcChub2RlID0+IHNlcmlhbGl6ZU5vZGUobm9kZSkpLmpvaW4oJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlU3RyaW5nKGlucHV0OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzY2FwZVN0cmluZyhpbnB1dDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpXG4gICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgLnJlcGxhY2UoLyZsdDsvZywgJzwnKVxuICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgIC5yZXBsYWNlKC8mYXBvczsvZywgJ1xcJycpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ29weU5vZGUobm9kZTogTm9kZSkge1xuXG4gICAgZnVuY3Rpb24gY29weShub2RlOiBOb2RlKTogTm9kZSB7XG4gICAgICAgIGlmIChpc0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoY29weSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnQobm9kZS5uYW1lLCBPYmplY3QuYXNzaWduKHt9LCBub2RlLmF0dHJpYnV0ZXMpLCBjaGlsZHJlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHQobm9kZS50ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5ldmVyIGhhcHBlblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb3B5KG5vZGUpO1xufVxuXG5cbi8vIGV4cG9ydCA9IHtcbi8vICAgICBkZWVwQ29weU5vZGUsXG4vLyAgICAgZXNjYXBlU3RyaW5nLFxuLy8gICAgIHNlcmlhbGl6ZU5vZGVzLFxuLy8gICAgIHNlcmlhbGl6ZURvY3VtZW50LFxuLy8gICAgIHBhcnNlLFxuLy8gICAgIFRleHQsXG4vLyAgICAgRWxlbWVudDogRWxlbWVudCxcbi8vICAgICBEb2N1bWVudCxcbi8vICAgICBpc0FscGhhYmV0aWMsXG4vLyAgICAgaXNBbHBoYW51bWVyaWMsXG4vLyAgICAgaXNXaGl0ZXNwYWNlLFxuLy8gICAgIGlzRW1wdHksXG4vLyAgICAgU3RyaW5nQnVmZmVyXG4vLyB9O1xuLy9cbi8vIGNvbnNvbGUubG9nKG1vZHVsZSkiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0aWVzIHtcblxuICAgIHByaXZhdGUgZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YTogc3RyaW5nKSB7XG4gICAgICAgIGRhdGEuc3BsaXQoXCJcXG5cIikuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGluZS5pbmRleE9mKFwiPVwiKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbGluZS5zdWJzdHJpbmcoaW5kZXggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0KGtleTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBpZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGRhdGVUaW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgd2lwSWQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBrYXNlSWQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB3aXphcmRJZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHdvcmtmbG93SWQ6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBncm91cDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHF1ZXVlOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgcHJpbmNpcGFsOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdGltZVN0YW1wOiBudW1iZXJcbiAgICApIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREYXRlVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZVRpbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdpcElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXBJZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0S2FzZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5rYXNlSWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdpemFyZElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXphcmRJZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0V29ya2Zsb3dJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2Zsb3dJZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRRdWV1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFByaW5jaXBhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbmNpcGFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTZXNzaW9uSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25JZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGltZVN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lU3RhbXA7XG4gICAgfVxuXG59XG5cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdmVyc2lvbjogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGdyb3VwOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICkge1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXVlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB0aXRsZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcic7XG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9Hcm91cCc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL01lc3NhZ2UnO1xuaW1wb3J0IFdpemFyZCBmcm9tICcuL1dpemFyZCc7XG5pbXBvcnQgV29ya2Zsb3cgZnJvbSAnLi9Xb3JrZmxvdyc7XG5pbXBvcnQgUGFnZSBmcm9tICcuL1BhZ2UnO1xuaW1wb3J0IFF1ZXVlIGZyb20gJy4vUXVldWUnO1xuXG5cbmNsYXNzIFN0b3JlIHtcblxuICAgIHByaXZhdGUgdGVzdENvbnRleHQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHVzZXJzOiBVc2VyW10gPSBbXSxcbiAgICAgICAgcHJpdmF0ZSBncm91cHM6IEdyb3VwW10gPSBbXSxcbiAgICAgICAgcHJpdmF0ZSBtZXNzYWdlczogTWVzc2FnZVtdID0gW10sXG4gICAgICAgIHByaXZhdGUgd2l6YXJkczogV2l6YXJkW10gPSBbXSxcbiAgICAgICAgcHJpdmF0ZSB3b3JrZmxvd3M6IFdvcmtmbG93W10gPSBbXSxcbiAgICAgICAgcHJpdmF0ZSBwYWdlczogUGFnZVtdID0gW10sXG4gICAgICAgIHByaXZhdGUgcXVldWVzOiBRdWV1ZVtdID0gW10sXG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFVzZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VycztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncm91cHM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE1lc3NhZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0V2l6YXJkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l6YXJkcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0V29ya2Zsb3dzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b3JrZmxvd3M7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBhZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UXVldWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZXM7XG4gICAgfVxuXG4gICAgc2V0VGVzdENvbnRleHQoKSB7XG4gICAgICAgIHRoaXMudGVzdENvbnRleHQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlzVGVzdENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlc3RDb250ZXh0O1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVzZXJzID0gW107XG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW107XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBbXTtcbiAgICAgICAgdGhpcy53aXphcmRzID0gW107XG4gICAgICAgIHRoaXMud29ya2Zsb3dzID0gW107XG4gICAgICAgIHRoaXMucGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy50ZXN0Q29udGV4dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFkZFVzZXIodXNlcjogVXNlcikge1xuICAgICAgICB0aGlzLnVzZXJzLnB1c2godXNlcik7XG4gICAgfVxuXG4gICAgYWRkTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBhZGRXaXphcmQod2l6YXJkOiBXaXphcmQpIHtcbiAgICAgICAgdGhpcy53aXphcmRzLnB1c2god2l6YXJkKTtcbiAgICB9XG5cbiAgICBhZGRXb3JrZmxvdyh3b3JrZmxvdzogV29ya2Zsb3cpIHtcbiAgICAgICAgdGhpcy53b3JrZmxvd3MucHVzaCh3b3JrZmxvdyk7XG4gICAgfVxuXG4gICAgYWRkUGFnZShwYWdlOiBQYWdlKSB7XG4gICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICB9XG5cbiAgICBhZGRRdWV1ZShxdWV1ZTogUXVldWUpIHtcbiAgICAgICAgdGhpcy5xdWV1ZXMucHVzaChxdWV1ZSk7XG4gICAgfVxufVxuXG5jb25zdCBJTlNUQU5DRSA9IG5ldyBTdG9yZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBJTlNUQU5DRTtcblxuLypcbiBwcml2YXRlIGZpbmFsIEhhc2hNYXA8RG9jdW1lbnRHcm91cElkLCBQYWdlVmlldz4gcGFnZXMgPSBuZXcgSGFzaE1hcDw+KCk7XG4gICAgcHJpdmF0ZSBmaW5hbCBIYXNoTWFwPERvY3VtZW50SWQsIFdpemFyZD4gd2l6YXJkcyA9IG5ldyBIYXNoTWFwPD4oKTtcbiAgICBwcml2YXRlIGZpbmFsIEhhc2hNYXA8RG9jdW1lbnRHcm91cElkLCBXb3JrZmxvdz4gd29ya2Zsb3dzID0gbmV3IEhhc2hNYXA8PigpO1xuICAgIHByaXZhdGUgZmluYWwgSGFzaE1hcDxNZXNzYWdlSWQsIE1lc3NhZ2U+IG1lc3NhZ2VzID0gbmV3IEhhc2hNYXA8PigpO1xuICAgIHByaXZhdGUgZmluYWwgSGFzaE1hcDxTdHJpbmcsIEthc2U+IGthc2VzID0gbmV3IEhhc2hNYXA8PigpO1xuICAgIHByaXZhdGUgZmluYWwgSGFzaE1hcDxVVUlELCBXaXphcmRJblByb2dyZXNzPiB3aXBzID0gbmV3IEhhc2hNYXA8PigpO1xuICovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSB1c2VybmFtZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZmlyc3ROYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgbGFzdE5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBlbWFpbDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGNvbnRhY3ROdW1iZXI6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBkYXRlT2ZCaXJ0aDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpbWV6b25lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZ3JvdXBzOiBzdHJpbmdbXSxcbiAgICAgICAgcHJpdmF0ZSB1c2VyRGF0YTogYW55XG4gICAgKSB7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFVzZXJuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGaXJzdE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0TmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGFzdE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3ROYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1haWw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbnRhY3ROdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhY3ROdW1iZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERhdGVPZkJpcnRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlT2ZCaXJ0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGltZXpvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWV6b25lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRHcm91cHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VXNlckRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJuYW1lO1xuICAgIH1cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2l6YXJkIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGFjdGl2ZTogYm9vbGVhbixcbiAgICAgICAgcHJpdmF0ZSByZWxlYXNlZDogYm9vbGVhbixcbiAgICApIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZWxlYXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsZWFzZWQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya2Zsb3cge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbmFtZTogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHZlcnNpb246IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSBncm91cDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICApIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaXRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgUHJvcGVydGllcyBmcm9tICcuL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgU3RyaW5nQnVmZmVyIH0gZnJvbSAnLi91dGlsaXRpZXMvU3RyaW5nQnVmZmVyJztcbmltcG9ydCBDbGFzc01hbmFnZXIgZnJvbSAnLi9DbGFzc01hbmFnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdGV4dFN0eWxlU3VwcG9ydChkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjbGFzc01hbmFnZXI6IENsYXNzTWFuYWdlciwgYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiwgY2xhc3NNYXBwaW5nczogUHJvcGVydGllcykge1xuXG4gICAgY29uc3Qgc3R5bGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgICBpZiAoYXR0cmlidXRlcy50ZXh0QWxpZ24pIHtcbiAgICAgICAgc3R5bGVzWyd0ZXh0LWFsaWduJ10gPSBhdHRyaWJ1dGVzLnRleHRBaWduLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuZm9udFNpemUpIHtcbiAgICAgICAgc3R5bGVzWydmb250LXNpemUnXSA9IGF0dHJpYnV0ZXMuZm9udFNpemU7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMudGV4dERlY29yYXRpb24pIHtcbiAgICAgICAgc3R5bGVzWyd0ZXh0LWRlY29yYXRpb24nXSA9IGF0dHJpYnV0ZXMudGV4dERlY29yYXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoYXR0cmlidXRlcy5mb250U3R5bGUpIHtcbiAgICAgICAgc3R5bGVzWydmb250LXN0eWxlJ10gPSBhdHRyaWJ1dGVzLmZvbnRTdHlsZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZvbnRXZWlnaHQpIHtcbiAgICAgICAgc3R5bGVzWydmb250LXdlaWdodCddID0gYXR0cmlidXRlcy5mb250V2VpZ2h0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuZm9udCkge1xuICAgICAgICBzdHlsZXNbJ2ZvbnQnXSA9IGNsYXNzTWFwcGluZ3MuZ2V0KCdmb250LScgKyBhdHRyaWJ1dGVzLmZvbnQudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKFwiX1wiLCBcIi1cIikpO1xuICAgIH1cblxuICAgIGlmIChhdHRyaWJ1dGVzLmZvbnRGbGF2b3VyKSB7XG4gICAgICAgIGNsYXNzTWFuYWdlci5hcHBlbmQoYXR0cmlidXRlcy5mb250Rmxhdm91ciwgJ3RleHQtJywgJycpO1xuICAgIH1cblxuXG4gICAgaWYgKGF0dHJpYnV0ZXMuYmFja2dyb3VuZEZsYXZvdXIpIHtcbiAgICAgICAgY2xhc3NNYW5hZ2VyLmFwcGVuZChhdHRyaWJ1dGVzLmJhY2tncm91bmRGbGF2b3VyLCAnYmctJywgJycpO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBTdHJpbmdCdWZmZXIoKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdHlsZXMpKSB7XG4gICAgICAgIGJ1ZmZlci5hcHBlbmQoYCR7a2V5fTogJHt2YWx1ZX07YCk7XG4gICAgfVxuXG4gICAgZGF0YS50ZXh0dWFsU3R5bGVzID0gYnVmZmVyLnRvU3RyaW5nKCk7XG59IiwiZXhwb3J0IGNsYXNzIFN0cmluZ0J1ZmZlciB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBidWZmZXI6IHN0cmluZ1tdO1xuICAgIHByaXZhdGUgaW5kZXg6IG51bWJlcjtcbiAgICBwcml2YXRlIGNvbHVtbjogbnVtYmVyO1xuICAgIHByaXZhdGUgcm93OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCByb3c6IG51bWJlciA9IDAsIGNvbHVtbiA9IDApIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBpbnB1dCA/IGlucHV0LnNwbGl0KCcnKSA6IFtdO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHRoaXMucm93ID0gcm93O1xuICAgIH1cblxuICAgIGFwcGVuZChjOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChjKTtcbiAgICB9XG5cbiAgICBlbmRzV2l0aChjOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGMubGVuZ3RoID4gdGhpcy5idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIuc2xpY2UodGhpcy5idWZmZXIubGVuZ3RoIC0gYy5sZW5ndGgpLmpvaW4oXCJcIikgPT09IGM7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5idWZmZXJbdGhpcy5pbmRleF07XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgICAgICBjb25zdCByb3cgPSB0aGlzLnJvdztcblxuICAgICAgICB0aGlzLmluZGV4Kys7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHRoaXMucm93Kys7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyYWN0ZXIocmVzdWx0LCBjb2x1bW4sIHJvdyk7XG4gICAgfVxuXG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPCB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5qb2luKCcnKTtcbiAgICB9XG5cbiAgICBnZXRDb2x1bW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbjtcbiAgICB9XG5cbiAgICBnZXRSb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYzogc3RyaW5nLCBwcml2YXRlIGNvbHVtbjogbnVtYmVyLCBwcml2YXRlIHJvdzogbnVtYmVyKSB7XG4gICAgfVxuXG4gICAgZ2V0U3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jO1xuICAgIH1cblxuICAgIGdldENvbHVtbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uO1xuICAgIH1cblxuICAgIGdldFJvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93O1xuICAgIH1cblxufSIsImNvbnN0IENIQVJBQ1RFUlMgPSBcImFiY2RlZmdoaWtsbW5vcHFyc3R1dnd4d3pBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODlcIi5zcGxpdChcIlwiKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVJZCgpIHtcblxuICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICByZXN1bHQucHVzaChDSEFSQUNURVJTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgJSBDSEFSQUNURVJTLmxlbmd0aF0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzQWxwaGFiZXRpYyhjOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gL15bYS16QS1aXSskL2kudGVzdChjKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gaXNBbHBoYW51bWVyaWMoYzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIC9eW2EtekEtWjAtOV0rJC9pLnRlc3QoYyk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZShvYmo6IGFueSkge1xuICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBvYmouY29uc3RydWN0b3IgPT09IERhdGU7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzSGFzaChvYmo6IGFueSkge1xuICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCI7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyhjOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gL15bMC05XSskL2kudGVzdChjKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGM6IHN0cmluZykge1xuICAgIHJldHVybiAvXFxzLy50ZXN0KGMpO1xufSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXZlbnRzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5jb25zdCBjaGlsZFByb2Nlc3MgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4vLyBAdHMtY2hlY2tcblxuLy8gQWx0aG91Z2ggdGhpcyBpcyBhIGNsYXNzLCBtZXRob2RzIGFyZSBzdGF0aWMgaW4gc3R5bGUgdG8gYWxsb3cgb3ZlcnJpZGUgdXNpbmcgc3ViY2xhc3Mgb3IganVzdCBmdW5jdGlvbnMuXG5jbGFzcyBIZWxwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oZWxwV2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zb3J0U3ViY29tbWFuZHMgPSBmYWxzZTtcbiAgICB0aGlzLnNvcnRPcHRpb25zID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIGFycmF5IG9mIHRoZSB2aXNpYmxlIHN1YmNvbW1hbmRzLiBJbmNsdWRlcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgaW1wbGljaXQgaGVscCBjb21tYW5kLCBpZiB0aGVyZSBpcyBvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEByZXR1cm5zIHtDb21tYW5kW119XG4gICAqL1xuXG4gIHZpc2libGVDb21tYW5kcyhjbWQpIHtcbiAgICBjb25zdCB2aXNpYmxlQ29tbWFuZHMgPSBjbWQuY29tbWFuZHMuZmlsdGVyKGNtZCA9PiAhY21kLl9oaWRkZW4pO1xuICAgIGlmIChjbWQuX2hhc0ltcGxpY2l0SGVscENvbW1hbmQoKSkge1xuICAgICAgLy8gQ3JlYXRlIGEgY29tbWFuZCBtYXRjaGluZyB0aGUgaW1wbGljaXQgaGVscCBjb21tYW5kLlxuICAgICAgY29uc3QgYXJncyA9IGNtZC5faGVscENvbW1hbmRuYW1lQW5kQXJncy5zcGxpdCgvICsvKTtcbiAgICAgIGNvbnN0IGhlbHBDb21tYW5kID0gY21kLmNyZWF0ZUNvbW1hbmQoYXJncy5zaGlmdCgpKVxuICAgICAgICAuaGVscE9wdGlvbihmYWxzZSk7XG4gICAgICBoZWxwQ29tbWFuZC5kZXNjcmlwdGlvbihjbWQuX2hlbHBDb21tYW5kRGVzY3JpcHRpb24pO1xuICAgICAgaGVscENvbW1hbmQuX3BhcnNlRXhwZWN0ZWRBcmdzKGFyZ3MpO1xuICAgICAgdmlzaWJsZUNvbW1hbmRzLnB1c2goaGVscENvbW1hbmQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zb3J0U3ViY29tbWFuZHMpIHtcbiAgICAgIHZpc2libGVDb21tYW5kcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLm5hbWUoKS5sb2NhbGVDb21wYXJlKGIubmFtZSgpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmlzaWJsZUNvbW1hbmRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBhcnJheSBvZiB0aGUgdmlzaWJsZSBvcHRpb25zLiBJbmNsdWRlcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgaW1wbGljaXQgaGVscCBvcHRpb24sIGlmIHRoZXJlIGlzIG9uZS5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHJldHVybnMge09wdGlvbltdfVxuICAgKi9cblxuICB2aXNpYmxlT3B0aW9ucyhjbWQpIHtcbiAgICBjb25zdCB2aXNpYmxlT3B0aW9ucyA9IGNtZC5vcHRpb25zLmZpbHRlcigob3B0aW9uKSA9PiAhb3B0aW9uLmhpZGRlbik7XG4gICAgLy8gSW1wbGljaXQgaGVscFxuICAgIGNvbnN0IHNob3dTaG9ydEhlbHBGbGFnID0gY21kLl9oYXNIZWxwT3B0aW9uICYmIGNtZC5faGVscFNob3J0RmxhZyAmJiAhY21kLl9maW5kT3B0aW9uKGNtZC5faGVscFNob3J0RmxhZyk7XG4gICAgY29uc3Qgc2hvd0xvbmdIZWxwRmxhZyA9IGNtZC5faGFzSGVscE9wdGlvbiAmJiAhY21kLl9maW5kT3B0aW9uKGNtZC5faGVscExvbmdGbGFnKTtcbiAgICBpZiAoc2hvd1Nob3J0SGVscEZsYWcgfHwgc2hvd0xvbmdIZWxwRmxhZykge1xuICAgICAgbGV0IGhlbHBPcHRpb247XG4gICAgICBpZiAoIXNob3dTaG9ydEhlbHBGbGFnKSB7XG4gICAgICAgIGhlbHBPcHRpb24gPSBjbWQuY3JlYXRlT3B0aW9uKGNtZC5faGVscExvbmdGbGFnLCBjbWQuX2hlbHBEZXNjcmlwdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKCFzaG93TG9uZ0hlbHBGbGFnKSB7XG4gICAgICAgIGhlbHBPcHRpb24gPSBjbWQuY3JlYXRlT3B0aW9uKGNtZC5faGVscFNob3J0RmxhZywgY21kLl9oZWxwRGVzY3JpcHRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGVscE9wdGlvbiA9IGNtZC5jcmVhdGVPcHRpb24oY21kLl9oZWxwRmxhZ3MsIGNtZC5faGVscERlc2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICAgIHZpc2libGVPcHRpb25zLnB1c2goaGVscE9wdGlvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLnNvcnRPcHRpb25zKSB7XG4gICAgICBjb25zdCBnZXRTb3J0S2V5ID0gKG9wdGlvbikgPT4ge1xuICAgICAgICAvLyBXWVNJV1lHIGZvciBvcmRlciBkaXNwbGF5ZWQgaW4gaGVscCB3aXRoIHNob3J0IGJlZm9yZSBsb25nLCBubyBzcGVjaWFsIGhhbmRsaW5nIGZvciBuZWdhdGVkLlxuICAgICAgICByZXR1cm4gb3B0aW9uLnNob3J0ID8gb3B0aW9uLnNob3J0LnJlcGxhY2UoL14tLywgJycpIDogb3B0aW9uLmxvbmcucmVwbGFjZSgvXi0tLywgJycpO1xuICAgICAgfTtcbiAgICAgIHZpc2libGVPcHRpb25zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGdldFNvcnRLZXkoYSkubG9jYWxlQ29tcGFyZShnZXRTb3J0S2V5KGIpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmlzaWJsZU9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIGFycmF5IG9mIHRoZSBhcmd1bWVudHMgd2hpY2ggaGF2ZSBkZXNjcmlwdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEByZXR1cm5zIHt7IHRlcm06IHN0cmluZywgZGVzY3JpcHRpb246c3RyaW5nIH1bXX1cbiAgICovXG5cbiAgdmlzaWJsZUFyZ3VtZW50cyhjbWQpIHtcbiAgICBpZiAoY21kLl9hcmdzRGVzY3JpcHRpb24gJiYgY21kLl9hcmdzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGNtZC5fYXJncy5tYXAoKGFyZ3VtZW50KSA9PiB7XG4gICAgICAgIHJldHVybiB7IHRlcm06IGFyZ3VtZW50Lm5hbWUsIGRlc2NyaXB0aW9uOiBjbWQuX2FyZ3NEZXNjcmlwdGlvblthcmd1bWVudC5uYW1lXSB8fCAnJyB9O1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbW1hbmQgdGVybSB0byBzaG93IGluIHRoZSBsaXN0IG9mIHN1YmNvbW1hbmRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuICBzdWJjb21tYW5kVGVybShjbWQpIHtcbiAgICAvLyBMZWdhY3kuIElnbm9yZXMgY3VzdG9tIHVzYWdlIHN0cmluZywgYW5kIG5lc3RlZCBjb21tYW5kcy5cbiAgICBjb25zdCBhcmdzID0gY21kLl9hcmdzLm1hcChhcmcgPT4gaHVtYW5SZWFkYWJsZUFyZ05hbWUoYXJnKSkuam9pbignICcpO1xuICAgIHJldHVybiBjbWQuX25hbWUgK1xuICAgICAgKGNtZC5fYWxpYXNlc1swXSA/ICd8JyArIGNtZC5fYWxpYXNlc1swXSA6ICcnKSArXG4gICAgICAoY21kLm9wdGlvbnMubGVuZ3RoID8gJyBbb3B0aW9uc10nIDogJycpICsgLy8gc2ltcGxpc3RpYyBjaGVjayBmb3Igbm9uLWhlbHAgb3B0aW9uXG4gICAgICAoYXJncyA/ICcgJyArIGFyZ3MgOiAnJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvcHRpb24gdGVybSB0byBzaG93IGluIHRoZSBsaXN0IG9mIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7T3B0aW9ufSBvcHRpb25cbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgb3B0aW9uVGVybShvcHRpb24pIHtcbiAgICByZXR1cm4gb3B0aW9uLmZsYWdzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbG9uZ2VzdCBjb21tYW5kIHRlcm0gbGVuZ3RoLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcGFyYW0ge0hlbHB9IGhlbHBlclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cblxuICBsb25nZXN0U3ViY29tbWFuZFRlcm1MZW5ndGgoY21kLCBoZWxwZXIpIHtcbiAgICByZXR1cm4gaGVscGVyLnZpc2libGVDb21tYW5kcyhjbWQpLnJlZHVjZSgobWF4LCBjb21tYW5kKSA9PiB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgobWF4LCBoZWxwZXIuc3ViY29tbWFuZFRlcm0oY29tbWFuZCkubGVuZ3RoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBsb25nZXN0IG9wdGlvbiB0ZXJtIGxlbmd0aC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHBhcmFtIHtIZWxwfSBoZWxwZXJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG5cbiAgbG9uZ2VzdE9wdGlvblRlcm1MZW5ndGgoY21kLCBoZWxwZXIpIHtcbiAgICByZXR1cm4gaGVscGVyLnZpc2libGVPcHRpb25zKGNtZCkucmVkdWNlKChtYXgsIG9wdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KG1heCwgaGVscGVyLm9wdGlvblRlcm0ob3B0aW9uKS5sZW5ndGgpO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxvbmdlc3QgYXJndW1lbnQgdGVybSBsZW5ndGguXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kXG4gICAqIEBwYXJhbSB7SGVscH0gaGVscGVyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuXG4gIGxvbmdlc3RBcmd1bWVudFRlcm1MZW5ndGgoY21kLCBoZWxwZXIpIHtcbiAgICByZXR1cm4gaGVscGVyLnZpc2libGVBcmd1bWVudHMoY21kKS5yZWR1Y2UoKG1heCwgYXJndW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBNYXRoLm1heChtYXgsIGFyZ3VtZW50LnRlcm0ubGVuZ3RoKTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHRoZSBjb21tYW5kIHVzYWdlIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgdG9wIG9mIHRoZSBidWlsdC1pbiBoZWxwLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuICBjb21tYW5kVXNhZ2UoY21kKSB7XG4gICAgLy8gVXNhZ2VcbiAgICBsZXQgY21kTmFtZSA9IGNtZC5fbmFtZTtcbiAgICBpZiAoY21kLl9hbGlhc2VzWzBdKSB7XG4gICAgICBjbWROYW1lID0gY21kTmFtZSArICd8JyArIGNtZC5fYWxpYXNlc1swXTtcbiAgICB9XG4gICAgbGV0IHBhcmVudENtZE5hbWVzID0gJyc7XG4gICAgZm9yIChsZXQgcGFyZW50Q21kID0gY21kLnBhcmVudDsgcGFyZW50Q21kOyBwYXJlbnRDbWQgPSBwYXJlbnRDbWQucGFyZW50KSB7XG4gICAgICBwYXJlbnRDbWROYW1lcyA9IHBhcmVudENtZC5uYW1lKCkgKyAnICcgKyBwYXJlbnRDbWROYW1lcztcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudENtZE5hbWVzICsgY21kTmFtZSArICcgJyArIGNtZC51c2FnZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGVzY3JpcHRpb24gZm9yIHRoZSBjb21tYW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNtZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuICBjb21tYW5kRGVzY3JpcHRpb24oY21kKSB7XG4gICAgLy8gQHRzLWlnbm9yZTogb3ZlcmxvYWRlZCByZXR1cm4gdHlwZVxuICAgIHJldHVybiBjbWQuZGVzY3JpcHRpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbW1hbmQgZGVzY3JpcHRpb24gdG8gc2hvdyBpbiB0aGUgbGlzdCBvZiBzdWJjb21tYW5kcy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgc3ViY29tbWFuZERlc2NyaXB0aW9uKGNtZCkge1xuICAgIC8vIEB0cy1pZ25vcmU6IG92ZXJsb2FkZWQgcmV0dXJuIHR5cGVcbiAgICByZXR1cm4gY21kLmRlc2NyaXB0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvcHRpb24gZGVzY3JpcHRpb24gdG8gc2hvdyBpbiB0aGUgbGlzdCBvZiBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge09wdGlvbn0gb3B0aW9uXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG5cbiAgb3B0aW9uRGVzY3JpcHRpb24ob3B0aW9uKSB7XG4gICAgaWYgKG9wdGlvbi5uZWdhdGUpIHtcbiAgICAgIHJldHVybiBvcHRpb24uZGVzY3JpcHRpb247XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhSW5mbyA9IFtdO1xuICAgIGlmIChvcHRpb24uYXJnQ2hvaWNlcykge1xuICAgICAgZXh0cmFJbmZvLnB1c2goXG4gICAgICAgIC8vIHVzZSBzdHJpbmdpZnkgdG8gbWF0Y2ggdGhlIGRpc3BsYXkgb2YgdGhlIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgYGNob2ljZXM6ICR7b3B0aW9uLmFyZ0Nob2ljZXMubWFwKChjaG9pY2UpID0+IEpTT04uc3RyaW5naWZ5KGNob2ljZSkpLmpvaW4oJywgJyl9YCk7XG4gICAgfVxuICAgIGlmIChvcHRpb24uZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV4dHJhSW5mby5wdXNoKGBkZWZhdWx0OiAke29wdGlvbi5kZWZhdWx0VmFsdWVEZXNjcmlwdGlvbiB8fCBKU09OLnN0cmluZ2lmeShvcHRpb24uZGVmYXVsdFZhbHVlKX1gKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhSW5mby5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gYCR7b3B0aW9uLmRlc2NyaXB0aW9ufSAoJHtleHRyYUluZm8uam9pbignLCAnKX0pYDtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbi5kZXNjcmlwdGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIGJ1aWx0LWluIGhlbHAgdGV4dC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHBhcmFtIHtIZWxwfSBoZWxwZXJcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG5cbiAgZm9ybWF0SGVscChjbWQsIGhlbHBlcikge1xuICAgIGNvbnN0IHRlcm1XaWR0aCA9IGhlbHBlci5wYWRXaWR0aChjbWQsIGhlbHBlcik7XG4gICAgY29uc3QgaGVscFdpZHRoID0gaGVscGVyLmhlbHBXaWR0aCB8fCA4MDtcbiAgICBjb25zdCBpdGVtSW5kZW50V2lkdGggPSAyO1xuICAgIGNvbnN0IGl0ZW1TZXBhcmF0b3JXaWR0aCA9IDI7IC8vIGJldHdlZW4gdGVybSBhbmQgZGVzY3JpcHRpb25cbiAgICBmdW5jdGlvbiBmb3JtYXRJdGVtKHRlcm0sIGRlc2NyaXB0aW9uKSB7XG4gICAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgZnVsbFRleHQgPSBgJHt0ZXJtLnBhZEVuZCh0ZXJtV2lkdGggKyBpdGVtU2VwYXJhdG9yV2lkdGgpfSR7ZGVzY3JpcHRpb259YDtcbiAgICAgICAgcmV0dXJuIGhlbHBlci53cmFwKGZ1bGxUZXh0LCBoZWxwV2lkdGggLSBpdGVtSW5kZW50V2lkdGgsIHRlcm1XaWR0aCArIGl0ZW1TZXBhcmF0b3JXaWR0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVybTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZvcm1hdExpc3QodGV4dEFycmF5KSB7XG4gICAgICByZXR1cm4gdGV4dEFycmF5LmpvaW4oJ1xcbicpLnJlcGxhY2UoL14vZ20sICcgJy5yZXBlYXQoaXRlbUluZGVudFdpZHRoKSk7XG4gICAgfVxuXG4gICAgLy8gVXNhZ2VcbiAgICBsZXQgb3V0cHV0ID0gW2BVc2FnZTogJHtoZWxwZXIuY29tbWFuZFVzYWdlKGNtZCl9YCwgJyddO1xuXG4gICAgLy8gRGVzY3JpcHRpb25cbiAgICBjb25zdCBjb21tYW5kRGVzY3JpcHRpb24gPSBoZWxwZXIuY29tbWFuZERlc2NyaXB0aW9uKGNtZCk7XG4gICAgaWYgKGNvbW1hbmREZXNjcmlwdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBvdXRwdXQgPSBvdXRwdXQuY29uY2F0KFtjb21tYW5kRGVzY3JpcHRpb24sICcnXSk7XG4gICAgfVxuXG4gICAgLy8gQXJndW1lbnRzXG4gICAgY29uc3QgYXJndW1lbnRMaXN0ID0gaGVscGVyLnZpc2libGVBcmd1bWVudHMoY21kKS5tYXAoKGFyZ3VtZW50KSA9PiB7XG4gICAgICByZXR1cm4gZm9ybWF0SXRlbShhcmd1bWVudC50ZXJtLCBhcmd1bWVudC5kZXNjcmlwdGlvbik7XG4gICAgfSk7XG4gICAgaWYgKGFyZ3VtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBvdXRwdXQgPSBvdXRwdXQuY29uY2F0KFsnQXJndW1lbnRzOicsIGZvcm1hdExpc3QoYXJndW1lbnRMaXN0KSwgJyddKTtcbiAgICB9XG5cbiAgICAvLyBPcHRpb25zXG4gICAgY29uc3Qgb3B0aW9uTGlzdCA9IGhlbHBlci52aXNpYmxlT3B0aW9ucyhjbWQpLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gZm9ybWF0SXRlbShoZWxwZXIub3B0aW9uVGVybShvcHRpb24pLCBoZWxwZXIub3B0aW9uRGVzY3JpcHRpb24ob3B0aW9uKSk7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbkxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChbJ09wdGlvbnM6JywgZm9ybWF0TGlzdChvcHRpb25MaXN0KSwgJyddKTtcbiAgICB9XG5cbiAgICAvLyBDb21tYW5kc1xuICAgIGNvbnN0IGNvbW1hbmRMaXN0ID0gaGVscGVyLnZpc2libGVDb21tYW5kcyhjbWQpLm1hcCgoY21kKSA9PiB7XG4gICAgICByZXR1cm4gZm9ybWF0SXRlbShoZWxwZXIuc3ViY29tbWFuZFRlcm0oY21kKSwgaGVscGVyLnN1YmNvbW1hbmREZXNjcmlwdGlvbihjbWQpKTtcbiAgICB9KTtcbiAgICBpZiAoY29tbWFuZExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChbJ0NvbW1hbmRzOicsIGZvcm1hdExpc3QoY29tbWFuZExpc3QpLCAnJ10pO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQuam9pbignXFxuJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHRoZSBwYWQgd2lkdGggZnJvbSB0aGUgbWF4aW11bSB0ZXJtIGxlbmd0aC5cbiAgICpcbiAgICogQHBhcmFtIHtDb21tYW5kfSBjbWRcbiAgICogQHBhcmFtIHtIZWxwfSBoZWxwZXJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG5cbiAgcGFkV2lkdGgoY21kLCBoZWxwZXIpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoXG4gICAgICBoZWxwZXIubG9uZ2VzdE9wdGlvblRlcm1MZW5ndGgoY21kLCBoZWxwZXIpLFxuICAgICAgaGVscGVyLmxvbmdlc3RTdWJjb21tYW5kVGVybUxlbmd0aChjbWQsIGhlbHBlciksXG4gICAgICBoZWxwZXIubG9uZ2VzdEFyZ3VtZW50VGVybUxlbmd0aChjbWQsIGhlbHBlcilcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXcmFwIHRoZSBnaXZlbiBzdHJpbmcgdG8gd2lkdGggY2hhcmFjdGVycyBwZXIgbGluZSwgd2l0aCBsaW5lcyBhZnRlciB0aGUgZmlyc3QgaW5kZW50ZWQuXG4gICAqIERvIG5vdCB3cmFwIGlmIGluc3VmZmljaWVudCByb29tIGZvciB3cmFwcGluZyAobWluQ29sdW1uV2lkdGgpLCBvciBzdHJpbmcgaXMgbWFudWFsbHkgZm9ybWF0dGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluQ29sdW1uV2lkdGg9NDBdXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICpcbiAgICovXG5cbiAgd3JhcChzdHIsIHdpZHRoLCBpbmRlbnQsIG1pbkNvbHVtbldpZHRoID0gNDApIHtcbiAgICAvLyBEZXRlY3QgbWFudWFsbHkgd3JhcHBlZCBhbmQgaW5kZW50ZWQgc3RyaW5ncyBieSBzZWFyY2hpbmcgZm9yIGxpbmUgYnJlYWtzXG4gICAgLy8gZm9sbG93ZWQgYnkgbXVsdGlwbGUgc3BhY2VzL3RhYnMuXG4gICAgaWYgKHN0ci5tYXRjaCgvW1xcbl1cXHMrLykpIHJldHVybiBzdHI7XG4gICAgLy8gRG8gbm90IHdyYXAgaWYgbm90IGVub3VnaCByb29tIGZvciBhIHdyYXBwZWQgY29sdW1uIG9mIHRleHQgKGFzIGNvdWxkIGVuZCB1cCB3aXRoIGEgd29yZCBwZXIgbGluZSkuXG4gICAgY29uc3QgY29sdW1uV2lkdGggPSB3aWR0aCAtIGluZGVudDtcbiAgICBpZiAoY29sdW1uV2lkdGggPCBtaW5Db2x1bW5XaWR0aCkgcmV0dXJuIHN0cjtcblxuICAgIGNvbnN0IGxlYWRpbmdTdHIgPSBzdHIuc3Vic3RyKDAsIGluZGVudCk7XG4gICAgY29uc3QgY29sdW1uVGV4dCA9IHN0ci5zdWJzdHIoaW5kZW50KTtcblxuICAgIGNvbnN0IGluZGVudFN0cmluZyA9ICcgJy5yZXBlYXQoaW5kZW50KTtcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJy57MSwnICsgKGNvbHVtbldpZHRoIC0gMSkgKyAnfShbXFxcXHNcXHUyMDBCXXwkKXxbXlxcXFxzXFx1MjAwQl0rPyhbXFxcXHNcXHUyMDBCXXwkKScsICdnJyk7XG4gICAgY29uc3QgbGluZXMgPSBjb2x1bW5UZXh0Lm1hdGNoKHJlZ2V4KSB8fCBbXTtcbiAgICByZXR1cm4gbGVhZGluZ1N0ciArIGxpbmVzLm1hcCgobGluZSwgaSkgPT4ge1xuICAgICAgaWYgKGxpbmUuc2xpY2UoLTEpID09PSAnXFxuJykge1xuICAgICAgICBsaW5lID0gbGluZS5zbGljZSgwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgoaSA+IDApID8gaW5kZW50U3RyaW5nIDogJycpICsgbGluZS50cmltUmlnaHQoKTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgfVxufVxuXG5jbGFzcyBPcHRpb24ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgT3B0aW9uYCB3aXRoIHRoZSBnaXZlbiBgZmxhZ3NgIGFuZCBgZGVzY3JpcHRpb25gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmxhZ3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZXNjcmlwdGlvbl1cbiAgICovXG5cbiAgY29uc3RydWN0b3IoZmxhZ3MsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiB8fCAnJztcblxuICAgIHRoaXMucmVxdWlyZWQgPSBmbGFncy5pbmNsdWRlcygnPCcpOyAvLyBBIHZhbHVlIG11c3QgYmUgc3VwcGxpZWQgd2hlbiB0aGUgb3B0aW9uIGlzIHNwZWNpZmllZC5cbiAgICB0aGlzLm9wdGlvbmFsID0gZmxhZ3MuaW5jbHVkZXMoJ1snKTsgLy8gQSB2YWx1ZSBpcyBvcHRpb25hbCB3aGVuIHRoZSBvcHRpb24gaXMgc3BlY2lmaWVkLlxuICAgIC8vIHZhcmlhZGljIHRlc3QgaWdub3JlcyA8dmFsdWUsLi4uPiBldCBhbCB3aGljaCBtaWdodCBiZSB1c2VkIHRvIGRlc2NyaWJlIGN1c3RvbSBzcGxpdHRpbmcgb2Ygc2luZ2xlIGFyZ3VtZW50XG4gICAgdGhpcy52YXJpYWRpYyA9IC9cXHdcXC5cXC5cXC5bPlxcXV0kLy50ZXN0KGZsYWdzKTsgLy8gVGhlIG9wdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSB2YWx1ZXMuXG4gICAgdGhpcy5tYW5kYXRvcnkgPSBmYWxzZTsgLy8gVGhlIG9wdGlvbiBtdXN0IGhhdmUgYSB2YWx1ZSBhZnRlciBwYXJzaW5nLCB3aGljaCB1c3VhbGx5IG1lYW5zIGl0IG11c3QgYmUgc3BlY2lmaWVkIG9uIGNvbW1hbmQgbGluZS5cbiAgICBjb25zdCBvcHRpb25GbGFncyA9IF9wYXJzZU9wdGlvbkZsYWdzKGZsYWdzKTtcbiAgICB0aGlzLnNob3J0ID0gb3B0aW9uRmxhZ3Muc2hvcnRGbGFnO1xuICAgIHRoaXMubG9uZyA9IG9wdGlvbkZsYWdzLmxvbmdGbGFnO1xuICAgIHRoaXMubmVnYXRlID0gZmFsc2U7XG4gICAgaWYgKHRoaXMubG9uZykge1xuICAgICAgdGhpcy5uZWdhdGUgPSB0aGlzLmxvbmcuc3RhcnRzV2l0aCgnLS1uby0nKTtcbiAgICB9XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWVEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBhcnNlQXJnID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgdGhpcy5hcmdDaG9pY2VzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVmYXVsdCB2YWx1ZSwgYW5kIG9wdGlvbmFsbHkgc3VwcGx5IHRoZSBkZXNjcmlwdGlvbiB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIGhlbHAuXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtPcHRpb259XG4gICAqL1xuXG4gIGRlZmF1bHQodmFsdWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLmRlZmF1bHRWYWx1ZURlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VzdG9tIGhhbmRsZXIgZm9yIHByb2Nlc3NpbmcgQ0xJIG9wdGlvbiBhcmd1bWVudHMgaW50byBvcHRpb24gdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gICAqIEByZXR1cm4ge09wdGlvbn1cbiAgICovXG5cbiAgYXJnUGFyc2VyKGZuKSB7XG4gICAgdGhpcy5wYXJzZUFyZyA9IGZuO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBvcHRpb24gaXMgbWFuZGF0b3J5IGFuZCBtdXN0IGhhdmUgYSB2YWx1ZSBhZnRlciBwYXJzaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttYW5kYXRvcnk9dHJ1ZV1cbiAgICogQHJldHVybiB7T3B0aW9ufVxuICAgKi9cblxuICBtYWtlT3B0aW9uTWFuZGF0b3J5KG1hbmRhdG9yeSA9IHRydWUpIHtcbiAgICB0aGlzLm1hbmRhdG9yeSA9ICEhbWFuZGF0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlIG9wdGlvbiBpbiBoZWxwLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaWRlPXRydWVdXG4gICAqIEByZXR1cm4ge09wdGlvbn1cbiAgICovXG5cbiAgaGlkZUhlbHAoaGlkZSA9IHRydWUpIHtcbiAgICB0aGlzLmhpZGRlbiA9ICEhaGlkZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9jb25jYXRWYWx1ZSh2YWx1ZSwgcHJldmlvdXMpIHtcbiAgICBpZiAocHJldmlvdXMgPT09IHRoaXMuZGVmYXVsdFZhbHVlIHx8ICFBcnJheS5pc0FycmF5KHByZXZpb3VzKSkge1xuICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZpb3VzLmNvbmNhdCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogT25seSBhbGxvdyBvcHRpb24gdmFsdWUgdG8gYmUgb25lIG9mIGNob2ljZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHZhbHVlc1xuICAgKiBAcmV0dXJuIHtPcHRpb259XG4gICAqL1xuXG4gIGNob2ljZXModmFsdWVzKSB7XG4gICAgdGhpcy5hcmdDaG9pY2VzID0gdmFsdWVzO1xuICAgIHRoaXMucGFyc2VBcmcgPSAoYXJnLCBwcmV2aW91cykgPT4ge1xuICAgICAgaWYgKCF2YWx1ZXMuaW5jbHVkZXMoYXJnKSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZE9wdGlvbkFyZ3VtZW50RXJyb3IoYEFsbG93ZWQgY2hvaWNlcyBhcmUgJHt2YWx1ZXMuam9pbignLCAnKX0uYCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52YXJpYWRpYykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY2F0VmFsdWUoYXJnLCBwcmV2aW91cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBvcHRpb24gbmFtZS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuICBuYW1lKCkge1xuICAgIGlmICh0aGlzLmxvbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvbmcucmVwbGFjZSgvXi0tLywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zaG9ydC5yZXBsYWNlKC9eLS8sICcnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIG9wdGlvbiBuYW1lLCBpbiBhIGNhbWVsY2FzZSBmb3JtYXQgdGhhdCBjYW4gYmUgdXNlZFxuICAgKiBhcyBhIG9iamVjdCBhdHRyaWJ1dGUga2V5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBhdHRyaWJ1dGVOYW1lKCkge1xuICAgIHJldHVybiBjYW1lbGNhc2UodGhpcy5uYW1lKCkucmVwbGFjZSgvXm5vLS8sICcnKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGBhcmdgIG1hdGNoZXMgdGhlIHNob3J0IG9yIGxvbmcgZmxhZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFyZ1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgaXMoYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hvcnQgPT09IGFyZyB8fCB0aGlzLmxvbmcgPT09IGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBDb21tYW5kZXJFcnJvciBjbGFzc1xuICogQGNsYXNzXG4gKi9cbmNsYXNzIENvbW1hbmRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgQ29tbWFuZGVyRXJyb3IgY2xhc3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IGV4aXRDb2RlIHN1Z2dlc3RlZCBleGl0IGNvZGUgd2hpY2ggY291bGQgYmUgdXNlZCB3aXRoIHByb2Nlc3MuZXhpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBhbiBpZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBlcnJvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihleGl0Q29kZSwgY29kZSwgbWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIC8vIHByb3Blcmx5IGNhcHR1cmUgc3RhY2sgdHJhY2UgaW4gTm9kZS5qc1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZXhpdENvZGUgPSBleGl0Q29kZTtcbiAgICB0aGlzLm5lc3RlZEVycm9yID0gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogSW52YWxpZE9wdGlvbkFyZ3VtZW50RXJyb3IgY2xhc3NcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBJbnZhbGlkT3B0aW9uQXJndW1lbnRFcnJvciBleHRlbmRzIENvbW1hbmRlckVycm9yIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIEludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yIGNsYXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWVzc2FnZV0gZXhwbGFuYXRpb24gb2Ygd2h5IGFyZ3VtZW50IGlzIGludmFsaWRcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIoMSwgJ2NvbW1hbmRlci5pbnZhbGlkT3B0aW9uQXJndW1lbnQnLCBtZXNzYWdlKTtcbiAgICAvLyBwcm9wZXJseSBjYXB0dXJlIHN0YWNrIHRyYWNlIGluIE5vZGUuanNcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cbn1cblxuY2xhc3MgQ29tbWFuZCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBDb21tYW5kYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxuICAgKi9cblxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNvbW1hbmRzID0gW107XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMuX2FsbG93RXhjZXNzQXJndW1lbnRzID0gdHJ1ZTtcbiAgICB0aGlzLl9hcmdzID0gW107XG4gICAgdGhpcy5yYXdBcmdzID0gbnVsbDtcbiAgICB0aGlzLl9zY3JpcHRQYXRoID0gbnVsbDtcbiAgICB0aGlzLl9uYW1lID0gbmFtZSB8fCAnJztcbiAgICB0aGlzLl9vcHRpb25WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMgPSBmYWxzZTtcbiAgICB0aGlzLl9hY3Rpb25SZXN1bHRzID0gW107XG4gICAgdGhpcy5fYWN0aW9uSGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5fZXhlY3V0YWJsZUhhbmRsZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9leGVjdXRhYmxlRmlsZSA9IG51bGw7IC8vIGN1c3RvbSBuYW1lIGZvciBleGVjdXRhYmxlXG4gICAgdGhpcy5fZGVmYXVsdENvbW1hbmROYW1lID0gbnVsbDtcbiAgICB0aGlzLl9leGl0Q2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuX2FsaWFzZXMgPSBbXTtcbiAgICB0aGlzLl9jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWUgPSB0cnVlO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gJyc7XG4gICAgdGhpcy5fYXJnc0Rlc2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zID0gZmFsc2U7XG4gICAgdGhpcy5fcGFzc1Rocm91Z2hPcHRpb25zID0gZmFsc2U7XG5cbiAgICAvLyBzZWUgLmNvbmZpZ3VyZU91dHB1dCgpIGZvciBkb2NzXG4gICAgdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbiA9IHtcbiAgICAgIHdyaXRlT3V0OiAoc3RyKSA9PiBwcm9jZXNzLnN0ZG91dC53cml0ZShzdHIpLFxuICAgICAgd3JpdGVFcnI6IChzdHIpID0+IHByb2Nlc3Muc3RkZXJyLndyaXRlKHN0ciksXG4gICAgICBnZXRPdXRIZWxwV2lkdGg6ICgpID0+IHByb2Nlc3Muc3Rkb3V0LmlzVFRZID8gcHJvY2Vzcy5zdGRvdXQuY29sdW1ucyA6IHVuZGVmaW5lZCxcbiAgICAgIGdldEVyckhlbHBXaWR0aDogKCkgPT4gcHJvY2Vzcy5zdGRlcnIuaXNUVFkgPyBwcm9jZXNzLnN0ZGVyci5jb2x1bW5zIDogdW5kZWZpbmVkLFxuICAgICAgb3V0cHV0RXJyb3I6IChzdHIsIHdyaXRlKSA9PiB3cml0ZShzdHIpXG4gICAgfTtcblxuICAgIHRoaXMuX2hpZGRlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2hhc0hlbHBPcHRpb24gPSB0cnVlO1xuICAgIHRoaXMuX2hlbHBGbGFncyA9ICctaCwgLS1oZWxwJztcbiAgICB0aGlzLl9oZWxwRGVzY3JpcHRpb24gPSAnZGlzcGxheSBoZWxwIGZvciBjb21tYW5kJztcbiAgICB0aGlzLl9oZWxwU2hvcnRGbGFnID0gJy1oJztcbiAgICB0aGlzLl9oZWxwTG9uZ0ZsYWcgPSAnLS1oZWxwJztcbiAgICB0aGlzLl9hZGRJbXBsaWNpdEhlbHBDb21tYW5kID0gdW5kZWZpbmVkOyAvLyBEZWxpYmVyYXRlbHkgdW5kZWZpbmVkLCBub3QgZGVjaWRlZCB3aGV0aGVyIHRydWUgb3IgZmFsc2VcbiAgICB0aGlzLl9oZWxwQ29tbWFuZE5hbWUgPSAnaGVscCc7XG4gICAgdGhpcy5faGVscENvbW1hbmRuYW1lQW5kQXJncyA9ICdoZWxwIFtjb21tYW5kXSc7XG4gICAgdGhpcy5faGVscENvbW1hbmREZXNjcmlwdGlvbiA9ICdkaXNwbGF5IGhlbHAgZm9yIGNvbW1hbmQnO1xuICAgIHRoaXMuX2hlbHBDb25maWd1cmF0aW9uID0ge307XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIGEgY29tbWFuZC5cbiAgICpcbiAgICogVGhlcmUgYXJlIHR3byBzdHlsZXMgb2YgY29tbWFuZDogcGF5IGF0dGVudGlvbiB0byB3aGVyZSB0byBwdXQgdGhlIGRlc2NyaXB0aW9uLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgICAvLyBDb21tYW5kIGltcGxlbWVudGVkIHVzaW5nIGFjdGlvbiBoYW5kbGVyIChkZXNjcmlwdGlvbiBpcyBzdXBwbGllZCBzZXBhcmF0ZWx5IHRvIGAuY29tbWFuZGApXG4gICAqICAgICAgcHJvZ3JhbVxuICAgKiAgICAgICAgLmNvbW1hbmQoJ2Nsb25lIDxzb3VyY2U+IFtkZXN0aW5hdGlvbl0nKVxuICAgKiAgICAgICAgLmRlc2NyaXB0aW9uKCdjbG9uZSBhIHJlcG9zaXRvcnkgaW50byBhIG5ld2x5IGNyZWF0ZWQgZGlyZWN0b3J5JylcbiAgICogICAgICAgIC5hY3Rpb24oKHNvdXJjZSwgZGVzdGluYXRpb24pID0+IHtcbiAgICogICAgICAgICAgY29uc29sZS5sb2coJ2Nsb25lIGNvbW1hbmQgY2FsbGVkJyk7XG4gICAqICAgICAgICB9KTtcbiAgICpcbiAgICogICAgICAvLyBDb21tYW5kIGltcGxlbWVudGVkIHVzaW5nIHNlcGFyYXRlIGV4ZWN1dGFibGUgZmlsZSAoZGVzY3JpcHRpb24gaXMgc2Vjb25kIHBhcmFtZXRlciB0byBgLmNvbW1hbmRgKVxuICAgKiAgICAgIHByb2dyYW1cbiAgICogICAgICAgIC5jb21tYW5kKCdzdGFydCA8c2VydmljZT4nLCAnc3RhcnQgbmFtZWQgc2VydmljZScpXG4gICAqICAgICAgICAuY29tbWFuZCgnc3RvcCBbc2VydmljZV0nLCAnc3RvcCBuYW1lZCBzZXJ2aWNlLCBvciBhbGwgaWYgbm8gbmFtZSBzdXBwbGllZCcpO1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZUFuZEFyZ3MgLSBjb21tYW5kIG5hbWUgYW5kIGFyZ3VtZW50cywgYXJncyBhcmUgYDxyZXF1aXJlZD5gIG9yIGBbb3B0aW9uYWxdYCBhbmQgbGFzdCBtYXkgYWxzbyBiZSBgdmFyaWFkaWMuLi5gXG4gICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gW2FjdGlvbk9wdHNPckV4ZWNEZXNjXSAtIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyAoZm9yIGFjdGlvbiksIG9yIGRlc2NyaXB0aW9uIChmb3IgZXhlY3V0YWJsZSlcbiAgICogQHBhcmFtIHtPYmplY3R9IFtleGVjT3B0c10gLSBjb25maWd1cmF0aW9uIG9wdGlvbnMgKGZvciBleGVjdXRhYmxlKVxuICAgKiBAcmV0dXJuIHtDb21tYW5kfSByZXR1cm5zIG5ldyBjb21tYW5kIGZvciBhY3Rpb24gaGFuZGxlciwgb3IgYHRoaXNgIGZvciBleGVjdXRhYmxlIGNvbW1hbmRcbiAgICovXG5cbiAgY29tbWFuZChuYW1lQW5kQXJncywgYWN0aW9uT3B0c09yRXhlY0Rlc2MsIGV4ZWNPcHRzKSB7XG4gICAgbGV0IGRlc2MgPSBhY3Rpb25PcHRzT3JFeGVjRGVzYztcbiAgICBsZXQgb3B0cyA9IGV4ZWNPcHRzO1xuICAgIGlmICh0eXBlb2YgZGVzYyA9PT0gJ29iamVjdCcgJiYgZGVzYyAhPT0gbnVsbCkge1xuICAgICAgb3B0cyA9IGRlc2M7XG4gICAgICBkZXNjID0gbnVsbDtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgY29uc3QgYXJncyA9IG5hbWVBbmRBcmdzLnNwbGl0KC8gKy8pO1xuICAgIGNvbnN0IGNtZCA9IHRoaXMuY3JlYXRlQ29tbWFuZChhcmdzLnNoaWZ0KCkpO1xuXG4gICAgaWYgKGRlc2MpIHtcbiAgICAgIGNtZC5kZXNjcmlwdGlvbihkZXNjKTtcbiAgICAgIGNtZC5fZXhlY3V0YWJsZUhhbmRsZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0cy5pc0RlZmF1bHQpIHRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSA9IGNtZC5fbmFtZTtcblxuICAgIGNtZC5fb3V0cHV0Q29uZmlndXJhdGlvbiA9IHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb247XG5cbiAgICBjbWQuX2hpZGRlbiA9ICEhKG9wdHMubm9IZWxwIHx8IG9wdHMuaGlkZGVuKTsgLy8gbm9IZWxwIGlzIGRlcHJlY2F0ZWQgb2xkIG5hbWUgZm9yIGhpZGRlblxuICAgIGNtZC5faGFzSGVscE9wdGlvbiA9IHRoaXMuX2hhc0hlbHBPcHRpb247XG4gICAgY21kLl9oZWxwRmxhZ3MgPSB0aGlzLl9oZWxwRmxhZ3M7XG4gICAgY21kLl9oZWxwRGVzY3JpcHRpb24gPSB0aGlzLl9oZWxwRGVzY3JpcHRpb247XG4gICAgY21kLl9oZWxwU2hvcnRGbGFnID0gdGhpcy5faGVscFNob3J0RmxhZztcbiAgICBjbWQuX2hlbHBMb25nRmxhZyA9IHRoaXMuX2hlbHBMb25nRmxhZztcbiAgICBjbWQuX2hlbHBDb21tYW5kTmFtZSA9IHRoaXMuX2hlbHBDb21tYW5kTmFtZTtcbiAgICBjbWQuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3MgPSB0aGlzLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzO1xuICAgIGNtZC5faGVscENvbW1hbmREZXNjcmlwdGlvbiA9IHRoaXMuX2hlbHBDb21tYW5kRGVzY3JpcHRpb247XG4gICAgY21kLl9oZWxwQ29uZmlndXJhdGlvbiA9IHRoaXMuX2hlbHBDb25maWd1cmF0aW9uO1xuICAgIGNtZC5fZXhpdENhbGxiYWNrID0gdGhpcy5fZXhpdENhbGxiYWNrO1xuICAgIGNtZC5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzID0gdGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzO1xuICAgIGNtZC5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlID0gdGhpcy5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlO1xuICAgIGNtZC5fYWxsb3dFeGNlc3NBcmd1bWVudHMgPSB0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cztcbiAgICBjbWQuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zID0gdGhpcy5fZW5hYmxlUG9zaXRpb25hbE9wdGlvbnM7XG5cbiAgICBjbWQuX2V4ZWN1dGFibGVGaWxlID0gb3B0cy5leGVjdXRhYmxlRmlsZSB8fCBudWxsOyAvLyBDdXN0b20gbmFtZSBmb3IgZXhlY3V0YWJsZSBmaWxlLCBzZXQgbWlzc2luZyB0byBudWxsIHRvIG1hdGNoIGNvbnN0cnVjdG9yXG4gICAgdGhpcy5jb21tYW5kcy5wdXNoKGNtZCk7XG4gICAgY21kLl9wYXJzZUV4cGVjdGVkQXJncyhhcmdzKTtcbiAgICBjbWQucGFyZW50ID0gdGhpcztcblxuICAgIGlmIChkZXNjKSByZXR1cm4gdGhpcztcbiAgICByZXR1cm4gY21kO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGYWN0b3J5IHJvdXRpbmUgdG8gY3JlYXRlIGEgbmV3IHVuYXR0YWNoZWQgY29tbWFuZC5cbiAgICpcbiAgICogU2VlIC5jb21tYW5kKCkgZm9yIGNyZWF0aW5nIGFuIGF0dGFjaGVkIHN1YmNvbW1hbmQsIHdoaWNoIHVzZXMgdGhpcyByb3V0aW5lIHRvXG4gICAqIGNyZWF0ZSB0aGUgY29tbWFuZC4gWW91IGNhbiBvdmVycmlkZSBjcmVhdGVDb21tYW5kIHRvIGN1c3RvbWlzZSBzdWJjb21tYW5kcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBuZXcgY29tbWFuZFxuICAgKi9cblxuICBjcmVhdGVDb21tYW5kKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IENvbW1hbmQobmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gY3VzdG9taXNlIHRoZSBoZWxwIHdpdGggYSBzdWJjbGFzcyBvZiBIZWxwIGJ5IG92ZXJyaWRpbmcgY3JlYXRlSGVscCxcbiAgICogb3IgYnkgb3ZlcnJpZGluZyBIZWxwIHByb3BlcnRpZXMgdXNpbmcgY29uZmlndXJlSGVscCgpLlxuICAgKlxuICAgKiBAcmV0dXJuIHtIZWxwfVxuICAgKi9cblxuICBjcmVhdGVIZWxwKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBIZWxwKCksIHRoaXMuY29uZmlndXJlSGVscCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBjdXN0b21pc2UgdGhlIGhlbHAgYnkgb3ZlcnJpZGluZyBIZWxwIHByb3BlcnRpZXMgdXNpbmcgY29uZmlndXJlSGVscCgpLFxuICAgKiBvciB3aXRoIGEgc3ViY2xhc3Mgb2YgSGVscCBieSBvdmVycmlkaW5nIGNyZWF0ZUhlbHAoKS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWd1cmF0aW9uXSAtIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtDb21tYW5kfE9iamVjdH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nLCBvciBzdG9yZWQgY29uZmlndXJhdGlvblxuICAgKi9cblxuICBjb25maWd1cmVIZWxwKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5faGVscENvbmZpZ3VyYXRpb247XG5cbiAgICB0aGlzLl9oZWxwQ29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgb3V0cHV0IGdvZXMgdG8gc3Rkb3V0IGFuZCBzdGRlcnIuIFlvdSBjYW4gY3VzdG9taXNlIHRoaXMgZm9yIHNwZWNpYWxcbiAgICogYXBwbGljYXRpb25zLiBZb3UgY2FuIGFsc28gY3VzdG9taXNlIHRoZSBkaXNwbGF5IG9mIGVycm9ycyBieSBvdmVycmlkaW5nIG91dHB1dEVycm9yLlxuICAgKlxuICAgKiBUaGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGFyZSBhbGwgZnVuY3Rpb25zOlxuICAgKlxuICAgKiAgICAvLyBmdW5jdGlvbnMgdG8gY2hhbmdlIHdoZXJlIGJlaW5nIHdyaXR0ZW4sIHN0ZG91dCBhbmQgc3RkZXJyXG4gICAqICAgIHdyaXRlT3V0KHN0cilcbiAgICogICAgd3JpdGVFcnIoc3RyKVxuICAgKiAgICAvLyBtYXRjaGluZyBmdW5jdGlvbnMgdG8gc3BlY2lmeSB3aWR0aCBmb3Igd3JhcHBpbmcgaGVscFxuICAgKiAgICBnZXRPdXRIZWxwV2lkdGgoKVxuICAgKiAgICBnZXRFcnJIZWxwV2lkdGgoKVxuICAgKiAgICAvLyBmdW5jdGlvbnMgYmFzZWQgb24gd2hhdCBpcyBiZWluZyB3cml0dGVuIG91dFxuICAgKiAgICBvdXRwdXRFcnJvcihzdHIsIHdyaXRlKSAvLyB1c2VkIGZvciBkaXNwbGF5aW5nIGVycm9ycywgYW5kIG5vdCB1c2VkIGZvciBkaXNwbGF5aW5nIGhlbHBcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWd1cmF0aW9uXSAtIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtDb21tYW5kfE9iamVjdH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nLCBvciBzdG9yZWQgY29uZmlndXJhdGlvblxuICAgKi9cblxuICBjb25maWd1cmVPdXRwdXQoY29uZmlndXJhdGlvbikge1xuICAgIGlmIChjb25maWd1cmF0aW9uID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBwcmVwYXJlZCBzdWJjb21tYW5kLlxuICAgKlxuICAgKiBTZWUgLmNvbW1hbmQoKSBmb3IgY3JlYXRpbmcgYW4gYXR0YWNoZWQgc3ViY29tbWFuZCB3aGljaCBpbmhlcml0cyBzZXR0aW5ncyBmcm9tIGl0cyBwYXJlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWFuZH0gY21kIC0gbmV3IHN1YmNvbW1hbmRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRzXSAtIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG5cbiAgYWRkQ29tbWFuZChjbWQsIG9wdHMpIHtcbiAgICBpZiAoIWNtZC5fbmFtZSkgdGhyb3cgbmV3IEVycm9yKCdDb21tYW5kIHBhc3NlZCB0byAuYWRkQ29tbWFuZCgpIG11c3QgaGF2ZSBhIG5hbWUnKTtcblxuICAgIC8vIFRvIGtlZXAgdGhpbmdzIHNpbXBsZSwgYmxvY2sgYXV0b21hdGljIG5hbWUgZ2VuZXJhdGlvbiBmb3IgZGVlcGx5IG5lc3RlZCBleGVjdXRhYmxlcy5cbiAgICAvLyBGYWlsIGZhc3QgYW5kIGRldGVjdCB3aGVuIGFkZGluZyByYXRoZXIgdGhhbiBsYXRlciB3aGVuIHBhcnNpbmcuXG4gICAgZnVuY3Rpb24gY2hlY2tFeHBsaWNpdE5hbWVzKGNvbW1hbmRBcnJheSkge1xuICAgICAgY29tbWFuZEFycmF5LmZvckVhY2goKGNtZCkgPT4ge1xuICAgICAgICBpZiAoY21kLl9leGVjdXRhYmxlSGFuZGxlciAmJiAhY21kLl9leGVjdXRhYmxlRmlsZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTXVzdCBzcGVjaWZ5IGV4ZWN1dGFibGVGaWxlIGZvciBkZWVwbHkgbmVzdGVkIGV4ZWN1dGFibGU6ICR7Y21kLm5hbWUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0V4cGxpY2l0TmFtZXMoY21kLmNvbW1hbmRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGVja0V4cGxpY2l0TmFtZXMoY21kLmNvbW1hbmRzKTtcblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIGlmIChvcHRzLmlzRGVmYXVsdCkgdGhpcy5fZGVmYXVsdENvbW1hbmROYW1lID0gY21kLl9uYW1lO1xuICAgIGlmIChvcHRzLm5vSGVscCB8fCBvcHRzLmhpZGRlbikgY21kLl9oaWRkZW4gPSB0cnVlOyAvLyBtb2RpZnlpbmcgcGFzc2VkIGNvbW1hbmQgZHVlIHRvIGV4aXN0aW5nIGltcGxlbWVudGF0aW9uXG5cbiAgICB0aGlzLmNvbW1hbmRzLnB1c2goY21kKTtcbiAgICBjbWQucGFyZW50ID0gdGhpcztcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogRGVmaW5lIGFyZ3VtZW50IHN5bnRheCBmb3IgdGhlIGNvbW1hbmQuXG4gICAqL1xuXG4gIGFyZ3VtZW50cyhkZXNjKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnNlRXhwZWN0ZWRBcmdzKGRlc2Muc3BsaXQoLyArLykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBkZWZhdWx0IGRlY2lzaW9uIHdoZXRoZXIgdG8gYWRkIGltcGxpY2l0IGhlbHAgY29tbWFuZC5cbiAgICpcbiAgICogICAgYWRkSGVscENvbW1hbmQoKSAvLyBmb3JjZSBvblxuICAgKiAgICBhZGRIZWxwQ29tbWFuZChmYWxzZSk7IC8vIGZvcmNlIG9mZlxuICAgKiAgICBhZGRIZWxwQ29tbWFuZCgnaGVscCBbY21kXScsICdkaXNwbGF5IGhlbHAgZm9yIFtjbWRdJyk7IC8vIGZvcmNlIG9uIHdpdGggY3VzdG9tIGRldGFpbHNcbiAgICpcbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqL1xuXG4gIGFkZEhlbHBDb21tYW5kKGVuYWJsZU9yTmFtZUFuZEFyZ3MsIGRlc2NyaXB0aW9uKSB7XG4gICAgaWYgKGVuYWJsZU9yTmFtZUFuZEFyZ3MgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9hZGRJbXBsaWNpdEhlbHBDb21tYW5kID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZEltcGxpY2l0SGVscENvbW1hbmQgPSB0cnVlO1xuICAgICAgaWYgKHR5cGVvZiBlbmFibGVPck5hbWVBbmRBcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9oZWxwQ29tbWFuZE5hbWUgPSBlbmFibGVPck5hbWVBbmRBcmdzLnNwbGl0KCcgJylbMF07XG4gICAgICAgIHRoaXMuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3MgPSBlbmFibGVPck5hbWVBbmRBcmdzO1xuICAgICAgfVxuICAgICAgdGhpcy5faGVscENvbW1hbmREZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8IHRoaXMuX2hlbHBDb21tYW5kRGVzY3JpcHRpb247XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX2hhc0ltcGxpY2l0SGVscENvbW1hbmQoKSB7XG4gICAgaWYgKHRoaXMuX2FkZEltcGxpY2l0SGVscENvbW1hbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMubGVuZ3RoICYmICF0aGlzLl9hY3Rpb25IYW5kbGVyICYmICF0aGlzLl9maW5kQ29tbWFuZCgnaGVscCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZDtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2UgZXhwZWN0ZWQgYGFyZ3NgLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSBgW1wiW3R5cGVdXCJdYCBiZWNvbWVzIGBbeyByZXF1aXJlZDogZmFsc2UsIG5hbWU6ICd0eXBlJyB9XWAuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfcGFyc2VFeHBlY3RlZEFyZ3MoYXJncykge1xuICAgIGlmICghYXJncy5sZW5ndGgpIHJldHVybjtcbiAgICBhcmdzLmZvckVhY2goKGFyZykgPT4ge1xuICAgICAgY29uc3QgYXJnRGV0YWlscyA9IHtcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgdmFyaWFkaWM6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICBzd2l0Y2ggKGFyZ1swXSkge1xuICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICBhcmdEZXRhaWxzLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmcuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmcuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJnRGV0YWlscy5uYW1lLmxlbmd0aCA+IDMgJiYgYXJnRGV0YWlscy5uYW1lLnNsaWNlKC0zKSA9PT0gJy4uLicpIHtcbiAgICAgICAgYXJnRGV0YWlscy52YXJpYWRpYyA9IHRydWU7XG4gICAgICAgIGFyZ0RldGFpbHMubmFtZSA9IGFyZ0RldGFpbHMubmFtZS5zbGljZSgwLCAtMyk7XG4gICAgICB9XG4gICAgICBpZiAoYXJnRGV0YWlscy5uYW1lKSB7XG4gICAgICAgIHRoaXMuX2FyZ3MucHVzaChhcmdEZXRhaWxzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9hcmdzLmZvckVhY2goKGFyZywgaSkgPT4ge1xuICAgICAgaWYgKGFyZy52YXJpYWRpYyAmJiBpIDwgdGhpcy5fYXJncy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgb25seSB0aGUgbGFzdCBhcmd1bWVudCBjYW4gYmUgdmFyaWFkaWMgJyR7YXJnLm5hbWV9J2ApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBjYWxsYmFjayB0byB1c2UgYXMgcmVwbGFjZW1lbnQgZm9yIGNhbGxpbmcgcHJvY2Vzcy5leGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dIG9wdGlvbmFsIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcGFzc2VkIGEgQ29tbWFuZGVyRXJyb3IsIGRlZmF1bHRzIHRvIHRocm93aW5nXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBleGl0T3ZlcnJpZGUoZm4pIHtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHRoaXMuX2V4aXRDYWxsYmFjayA9IGZuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9leGl0Q2FsbGJhY2sgPSAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIuY29kZSAhPT0gJ2NvbW1hbmRlci5leGVjdXRlU3ViQ29tbWFuZEFzeW5jJykge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBc3luYyBjYWxsYmFjayBmcm9tIHNwYXduIGV2ZW50cywgbm90IHVzZWZ1bCB0byB0aHJvdy5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGwgcHJvY2Vzcy5leGl0LCBhbmQgX2V4aXRDYWxsYmFjayBpZiBkZWZpbmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZXhpdENvZGUgZXhpdCBjb2RlIGZvciB1c2luZyB3aXRoIHByb2Nlc3MuZXhpdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSBhbiBpZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBlcnJvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICogQHJldHVybiBuZXZlclxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX2V4aXQoZXhpdENvZGUsIGNvZGUsIG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5fZXhpdENhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9leGl0Q2FsbGJhY2sobmV3IENvbW1hbmRlckVycm9yKGV4aXRDb2RlLCBjb2RlLCBtZXNzYWdlKSk7XG4gICAgICAvLyBFeHBlY3RpbmcgdGhpcyBsaW5lIGlzIG5vdCByZWFjaGVkLlxuICAgIH1cbiAgICBwcm9jZXNzLmV4aXQoZXhpdENvZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBgZm5gIGZvciB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgICAgcHJvZ3JhbVxuICAgKiAgICAgICAgLmNvbW1hbmQoJ2hlbHAnKVxuICAgKiAgICAgICAgLmRlc2NyaXB0aW9uKCdkaXNwbGF5IHZlcmJvc2UgaGVscCcpXG4gICAqICAgICAgICAuYWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgKiAgICAgICAgICAgLy8gb3V0cHV0IGhlbHAgaGVyZVxuICAgKiAgICAgICAgfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBhY3Rpb24oZm4pIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IChhcmdzKSA9PiB7XG4gICAgICAvLyBUaGUgLmFjdGlvbiBjYWxsYmFjayB0YWtlcyBhbiBleHRyYSBwYXJhbWV0ZXIgd2hpY2ggaXMgdGhlIGNvbW1hbmQgb3Igb3B0aW9ucy5cbiAgICAgIGNvbnN0IGV4cGVjdGVkQXJnc0NvdW50ID0gdGhpcy5fYXJncy5sZW5ndGg7XG4gICAgICBjb25zdCBhY3Rpb25BcmdzID0gYXJncy5zbGljZSgwLCBleHBlY3RlZEFyZ3NDb3VudCk7XG4gICAgICBpZiAodGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFjdGlvbkFyZ3NbZXhwZWN0ZWRBcmdzQ291bnRdID0gdGhpczsgLy8gYmFja3dhcmRzIGNvbXBhdGlibGUgXCJvcHRpb25zXCJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbkFyZ3NbZXhwZWN0ZWRBcmdzQ291bnRdID0gdGhpcy5vcHRzKCk7XG4gICAgICB9XG4gICAgICBhY3Rpb25BcmdzLnB1c2godGhpcyk7XG5cbiAgICAgIGNvbnN0IGFjdGlvblJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFjdGlvbkFyZ3MpO1xuICAgICAgLy8gUmVtZW1iZXIgcmVzdWx0IGluIGNhc2UgaXQgaXMgYXN5bmMuIEFzc3VtZSBwYXJzZUFzeW5jIGdldHRpbmcgY2FsbGVkIG9uIHJvb3QuXG4gICAgICBsZXQgcm9vdENvbW1hbmQgPSB0aGlzO1xuICAgICAgd2hpbGUgKHJvb3RDb21tYW5kLnBhcmVudCkge1xuICAgICAgICByb290Q29tbWFuZCA9IHJvb3RDb21tYW5kLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJvb3RDb21tYW5kLl9hY3Rpb25SZXN1bHRzLnB1c2goYWN0aW9uUmVzdWx0KTtcbiAgICB9O1xuICAgIHRoaXMuX2FjdGlvbkhhbmRsZXIgPSBsaXN0ZW5lcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogRmFjdG9yeSByb3V0aW5lIHRvIGNyZWF0ZSBhIG5ldyB1bmF0dGFjaGVkIG9wdGlvbi5cbiAgICpcbiAgICogU2VlIC5vcHRpb24oKSBmb3IgY3JlYXRpbmcgYW4gYXR0YWNoZWQgb3B0aW9uLCB3aGljaCB1c2VzIHRoaXMgcm91dGluZSB0b1xuICAgKiBjcmVhdGUgdGhlIG9wdGlvbi4gWW91IGNhbiBvdmVycmlkZSBjcmVhdGVPcHRpb24gdG8gcmV0dXJuIGEgY3VzdG9tIG9wdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZsYWdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge09wdGlvbn0gbmV3IG9wdGlvblxuICAgKi9cblxuICBjcmVhdGVPcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBPcHRpb24oZmxhZ3MsIGRlc2NyaXB0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGFuIG9wdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtPcHRpb259IG9wdGlvblxuICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICovXG4gIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICBjb25zdCBvbmFtZSA9IG9wdGlvbi5uYW1lKCk7XG4gICAgY29uc3QgbmFtZSA9IG9wdGlvbi5hdHRyaWJ1dGVOYW1lKCk7XG5cbiAgICBsZXQgZGVmYXVsdFZhbHVlID0gb3B0aW9uLmRlZmF1bHRWYWx1ZTtcblxuICAgIC8vIHByZWFzc2lnbiBkZWZhdWx0IHZhbHVlIGZvciAtLW5vLSosIFtvcHRpb25hbF0sIDxyZXF1aXJlZD4sIG9yIHBsYWluIGZsYWcgaWYgYm9vbGVhbiB2YWx1ZVxuICAgIGlmIChvcHRpb24ubmVnYXRlIHx8IG9wdGlvbi5vcHRpb25hbCB8fCBvcHRpb24ucmVxdWlyZWQgfHwgdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyB3aGVuIC0tbm8tZm9vIHdlIG1ha2Ugc3VyZSBkZWZhdWx0IGlzIHRydWUsIHVubGVzcyBhIC0tZm9vIG9wdGlvbiBpcyBhbHJlYWR5IGRlZmluZWRcbiAgICAgIGlmIChvcHRpb24ubmVnYXRlKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aXZlTG9uZ0ZsYWcgPSBvcHRpb24ubG9uZy5yZXBsYWNlKC9eLS1uby0vLCAnLS0nKTtcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gdGhpcy5fZmluZE9wdGlvbihwb3NpdGl2ZUxvbmdGbGFnKSA/IHRoaXMuX2dldE9wdGlvblZhbHVlKG5hbWUpIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIHByZWFzc2lnbiBvbmx5IGlmIHdlIGhhdmUgYSBkZWZhdWx0XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fc2V0T3B0aW9uVmFsdWUobmFtZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZWdpc3RlciB0aGUgb3B0aW9uXG4gICAgdGhpcy5vcHRpb25zLnB1c2gob3B0aW9uKTtcblxuICAgIC8vIHdoZW4gaXQncyBwYXNzZWQgYXNzaWduIHRoZSB2YWx1ZVxuICAgIC8vIGFuZCBjb25kaXRpb25hbGx5IGludm9rZSB0aGUgY2FsbGJhY2tcbiAgICB0aGlzLm9uKCdvcHRpb246JyArIG9uYW1lLCAodmFsKSA9PiB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX2dldE9wdGlvblZhbHVlKG5hbWUpO1xuXG4gICAgICAvLyBjdXN0b20gcHJvY2Vzc2luZ1xuICAgICAgaWYgKHZhbCAhPT0gbnVsbCAmJiBvcHRpb24ucGFyc2VBcmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWwgPSBvcHRpb24ucGFyc2VBcmcodmFsLCBvbGRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogb2xkVmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdjb21tYW5kZXIuaW52YWxpZE9wdGlvbkFyZ3VtZW50Jykge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogb3B0aW9uICcke29wdGlvbi5mbGFnc30nIGFyZ3VtZW50ICcke3ZhbH0nIGlzIGludmFsaWQuICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlFcnJvcihlcnIuZXhpdENvZGUsIGVyci5jb2RlLCBtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbCAhPT0gbnVsbCAmJiBvcHRpb24udmFyaWFkaWMpIHtcbiAgICAgICAgdmFsID0gb3B0aW9uLl9jb25jYXRWYWx1ZSh2YWwsIG9sZFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gdW5hc3NpZ25lZCBvciBib29sZWFuIHZhbHVlXG4gICAgICBpZiAodHlwZW9mIG9sZFZhbHVlID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIG9sZFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBpZiBubyB2YWx1ZSwgbmVnYXRlIGZhbHNlLCBhbmQgd2UgaGF2ZSBhIGRlZmF1bHQsIHRoZW4gdXNlIGl0IVxuICAgICAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRPcHRpb25WYWx1ZShuYW1lLCBvcHRpb24ubmVnYXRlXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZSB8fCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9zZXRPcHRpb25WYWx1ZShuYW1lLCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbCAhPT0gbnVsbCkge1xuICAgICAgICAvLyByZWFzc2lnblxuICAgICAgICB0aGlzLl9zZXRPcHRpb25WYWx1ZShuYW1lLCBvcHRpb24ubmVnYXRlID8gZmFsc2UgOiB2YWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gc2hhcmVkIGJ5IC5vcHRpb24oKSBhbmQgLnJlcXVpcmVkT3B0aW9uKClcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBfb3B0aW9uRXgoY29uZmlnLCBmbGFncywgZGVzY3JpcHRpb24sIGZuLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCBvcHRpb24gPSB0aGlzLmNyZWF0ZU9wdGlvbihmbGFncywgZGVzY3JpcHRpb24pO1xuICAgIG9wdGlvbi5tYWtlT3B0aW9uTWFuZGF0b3J5KCEhY29uZmlnLm1hbmRhdG9yeSk7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3B0aW9uLmRlZmF1bHQoZGVmYXVsdFZhbHVlKS5hcmdQYXJzZXIoZm4pO1xuICAgIH0gZWxzZSBpZiAoZm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIC8vIGRlcHJlY2F0ZWRcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZm47XG4gICAgICBmbiA9ICh2YWwsIGRlZikgPT4ge1xuICAgICAgICBjb25zdCBtID0gcmVnZXguZXhlYyh2YWwpO1xuICAgICAgICByZXR1cm4gbSA/IG1bMF0gOiBkZWY7XG4gICAgICB9O1xuICAgICAgb3B0aW9uLmRlZmF1bHQoZGVmYXVsdFZhbHVlKS5hcmdQYXJzZXIoZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb24uZGVmYXVsdChmbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYWRkT3B0aW9uKG9wdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIG9wdGlvbiB3aXRoIGBmbGFnc2AsIGBkZXNjcmlwdGlvbmAgYW5kIG9wdGlvbmFsXG4gICAqIGNvZXJjaW9uIGBmbmAuXG4gICAqXG4gICAqIFRoZSBgZmxhZ3NgIHN0cmluZyBjb250YWlucyB0aGUgc2hvcnQgYW5kL29yIGxvbmcgZmxhZ3MsXG4gICAqIHNlcGFyYXRlZCBieSBjb21tYSwgYSBwaXBlIG9yIHNwYWNlLiBUaGUgZm9sbG93aW5nIGFyZSBhbGwgdmFsaWRcbiAgICogYWxsIHdpbGwgb3V0cHV0IHRoaXMgd2F5IHdoZW4gYC0taGVscGAgaXMgdXNlZC5cbiAgICpcbiAgICogICAgXCItcCwgLS1wZXBwZXJcIlxuICAgKiAgICBcIi1wfC0tcGVwcGVyXCJcbiAgICogICAgXCItcCAtLXBlcHBlclwiXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgLy8gc2ltcGxlIGJvb2xlYW4gZGVmYXVsdGluZyB0byB1bmRlZmluZWRcbiAgICogICAgIHByb2dyYW0ub3B0aW9uKCctcCwgLS1wZXBwZXInLCAnYWRkIHBlcHBlcicpO1xuICAgKlxuICAgKiAgICAgcHJvZ3JhbS5wZXBwZXJcbiAgICogICAgIC8vID0+IHVuZGVmaW5lZFxuICAgKlxuICAgKiAgICAgLS1wZXBwZXJcbiAgICogICAgIHByb2dyYW0ucGVwcGVyXG4gICAqICAgICAvLyA9PiB0cnVlXG4gICAqXG4gICAqICAgICAvLyBzaW1wbGUgYm9vbGVhbiBkZWZhdWx0aW5nIHRvIHRydWUgKHVubGVzcyBub24tbmVnYXRlZCBvcHRpb24gaXMgYWxzbyBkZWZpbmVkKVxuICAgKiAgICAgcHJvZ3JhbS5vcHRpb24oJy1DLCAtLW5vLWNoZWVzZScsICdyZW1vdmUgY2hlZXNlJyk7XG4gICAqXG4gICAqICAgICBwcm9ncmFtLmNoZWVzZVxuICAgKiAgICAgLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAgICAgLS1uby1jaGVlc2VcbiAgICogICAgIHByb2dyYW0uY2hlZXNlXG4gICAqICAgICAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiAgICAgLy8gcmVxdWlyZWQgYXJndW1lbnRcbiAgICogICAgIHByb2dyYW0ub3B0aW9uKCctQywgLS1jaGRpciA8cGF0aD4nLCAnY2hhbmdlIHRoZSB3b3JraW5nIGRpcmVjdG9yeScpO1xuICAgKlxuICAgKiAgICAgLS1jaGRpciAvdG1wXG4gICAqICAgICBwcm9ncmFtLmNoZGlyXG4gICAqICAgICAvLyA9PiBcIi90bXBcIlxuICAgKlxuICAgKiAgICAgLy8gb3B0aW9uYWwgYXJndW1lbnRcbiAgICogICAgIHByb2dyYW0ub3B0aW9uKCctYywgLS1jaGVlc2UgW3R5cGVdJywgJ2FkZCBjaGVlc2UgW21hcmJsZV0nKTtcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZsYWdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258Kn0gW2ZuXSAtIGN1c3RvbSBvcHRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvciBkZWZhdWx0IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV1cbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqL1xuXG4gIG9wdGlvbihmbGFncywgZGVzY3JpcHRpb24sIGZuLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fb3B0aW9uRXgoe30sIGZsYWdzLCBkZXNjcmlwdGlvbiwgZm4sIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICogQWRkIGEgcmVxdWlyZWQgb3B0aW9uIHdoaWNoIG11c3QgaGF2ZSBhIHZhbHVlIGFmdGVyIHBhcnNpbmcuIFRoaXMgdXN1YWxseSBtZWFuc1xuICAqIHRoZSBvcHRpb24gbXVzdCBiZSBzcGVjaWZpZWQgb24gdGhlIGNvbW1hbmQgbGluZS4gKE90aGVyd2lzZSB0aGUgc2FtZSBhcyAub3B0aW9uKCkuKVxuICAqXG4gICogVGhlIGBmbGFnc2Agc3RyaW5nIGNvbnRhaW5zIHRoZSBzaG9ydCBhbmQvb3IgbG9uZyBmbGFncywgc2VwYXJhdGVkIGJ5IGNvbW1hLCBhIHBpcGUgb3Igc3BhY2UuXG4gICpcbiAgKiBAcGFyYW0ge3N0cmluZ30gZmxhZ3NcbiAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAqIEBwYXJhbSB7RnVuY3Rpb258Kn0gW2ZuXSAtIGN1c3RvbSBvcHRpb24gcHJvY2Vzc2luZyBmdW5jdGlvbiBvciBkZWZhdWx0IHZhbHVlXG4gICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXVxuICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAqL1xuXG4gIHJlcXVpcmVkT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbiwgZm4sIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25FeCh7IG1hbmRhdG9yeTogdHJ1ZSB9LCBmbGFncywgZGVzY3JpcHRpb24sIGZuLCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbHRlciBwYXJzaW5nIG9mIHNob3J0IGZsYWdzIHdpdGggb3B0aW9uYWwgdmFsdWVzLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgLy8gZm9yIGAub3B0aW9uKCctZiwtLWZsYWcgW3ZhbHVlXScpOlxuICAgKiAgICAuY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlKHRydWUpICAvLyBgLWY4MGAgaXMgdHJlYXRlZCBsaWtlIGAtLWZsYWc9ODBgLCB0aGlzIGlzIHRoZSBkZWZhdWx0IGJlaGF2aW91clxuICAgKiAgICAuY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlKGZhbHNlKSAvLyBgLWZiYCBpcyB0cmVhdGVkIGxpa2UgYC1mIC1iYFxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb21iaW5lPXRydWVdIC0gaWYgYHRydWVgIG9yIG9taXR0ZWQsIGFuIG9wdGlvbmFsIHZhbHVlIGNhbiBiZSBzcGVjaWZpZWQgZGlyZWN0bHkgYWZ0ZXIgdGhlIGZsYWcuXG4gICAqL1xuICBjb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWUoY29tYmluZSA9IHRydWUpIHtcbiAgICB0aGlzLl9jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWUgPSAhIWNvbWJpbmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93IHVua25vd24gb3B0aW9ucyBvbiB0aGUgY29tbWFuZCBsaW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxvd1Vua25vd249dHJ1ZV0gLSBpZiBgdHJ1ZWAgb3Igb21pdHRlZCwgbm8gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICogZm9yIHVua25vd24gb3B0aW9ucy5cbiAgICovXG4gIGFsbG93VW5rbm93bk9wdGlvbihhbGxvd1Vua25vd24gPSB0cnVlKSB7XG4gICAgdGhpcy5fYWxsb3dVbmtub3duT3B0aW9uID0gISFhbGxvd1Vua25vd247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93IGV4Y2VzcyBjb21tYW5kLWFyZ3VtZW50cyBvbiB0aGUgY29tbWFuZCBsaW5lLiBQYXNzIGZhbHNlIHRvIG1ha2UgZXhjZXNzIGFyZ3VtZW50cyBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtCb29sZWFufSBbYWxsb3dFeGNlc3M9dHJ1ZV0gLSBpZiBgdHJ1ZWAgb3Igb21pdHRlZCwgbm8gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICogZm9yIGV4Y2VzcyBhcmd1bWVudHMuXG4gICAqL1xuICBhbGxvd0V4Y2Vzc0FyZ3VtZW50cyhhbGxvd0V4Y2VzcyA9IHRydWUpIHtcbiAgICB0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cyA9ICEhYWxsb3dFeGNlc3M7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBwb3NpdGlvbmFsIG9wdGlvbnMuIFBvc2l0aW9uYWwgbWVhbnMgZ2xvYmFsIG9wdGlvbnMgYXJlIHNwZWNpZmllZCBiZWZvcmUgc3ViY29tbWFuZHMgd2hpY2ggbGV0c1xuICAgKiBzdWJjb21tYW5kcyByZXVzZSB0aGUgc2FtZSBvcHRpb24gbmFtZXMsIGFuZCBhbHNvIGVuYWJsZXMgc3ViY29tbWFuZHMgdG8gdHVybiBvbiBwYXNzVGhyb3VnaE9wdGlvbnMuXG4gICAqIFRoZSBkZWZhdWx0IGJlaGF2aW91ciBpcyBub24tcG9zaXRpb25hbCBhbmQgZ2xvYmFsIG9wdGlvbnMgbWF5IGFwcGVhciBhbnl3aGVyZSBvbiB0aGUgY29tbWFuZCBsaW5lLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwb3NpdGlvbmFsPXRydWVdXG4gICAqL1xuICBlbmFibGVQb3NpdGlvbmFsT3B0aW9ucyhwb3NpdGlvbmFsID0gdHJ1ZSkge1xuICAgIHRoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zID0gISFwb3NpdGlvbmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXNzIHRocm91Z2ggb3B0aW9ucyB0aGF0IGNvbWUgYWZ0ZXIgY29tbWFuZC1hcmd1bWVudHMgcmF0aGVyIHRoYW4gdHJlYXQgdGhlbSBhcyBjb21tYW5kLW9wdGlvbnMsXG4gICAqIHNvIGFjdHVhbCBjb21tYW5kLW9wdGlvbnMgY29tZSBiZWZvcmUgY29tbWFuZC1hcmd1bWVudHMuIFR1cm5pbmcgdGhpcyBvbiBmb3IgYSBzdWJjb21tYW5kIHJlcXVpcmVzXG4gICAqIHBvc2l0aW9uYWwgb3B0aW9ucyB0byBoYXZlIGJlZW4gZW5hYmxlZCBvbiB0aGUgcHJvZ3JhbSAocGFyZW50IGNvbW1hbmRzKS5cbiAgICogVGhlIGRlZmF1bHQgYmVoYXZpb3VyIGlzIG5vbi1wb3NpdGlvbmFsIGFuZCBvcHRpb25zIG1heSBhcHBlYXIgYmVmb3JlIG9yIGFmdGVyIGNvbW1hbmQtYXJndW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwYXNzVGhyb3VnaD10cnVlXVxuICAgKiBmb3IgdW5rbm93biBvcHRpb25zLlxuICAgKi9cbiAgcGFzc1Rocm91Z2hPcHRpb25zKHBhc3NUaHJvdWdoID0gdHJ1ZSkge1xuICAgIHRoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucyA9ICEhcGFzc1Rocm91Z2g7XG4gICAgaWYgKCEhdGhpcy5wYXJlbnQgJiYgcGFzc1Rocm91Z2ggJiYgIXRoaXMucGFyZW50Ll9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNzVGhyb3VnaE9wdGlvbnMgY2FuIG5vdCBiZSB1c2VkIHdpdGhvdXQgdHVybmluZyBvbiBlbmFibGVQb3NpdGlvbmFsT3B0aW9ucyBmb3IgcGFyZW50IGNvbW1hbmQocyknKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAgKiBXaGV0aGVyIHRvIHN0b3JlIG9wdGlvbiB2YWx1ZXMgYXMgcHJvcGVydGllcyBvbiBjb21tYW5kIG9iamVjdCxcbiAgICAqIG9yIHN0b3JlIHNlcGFyYXRlbHkgKHNwZWNpZnkgZmFsc2UpLiBJbiBib3RoIGNhc2VzIHRoZSBvcHRpb24gdmFsdWVzIGNhbiBiZSBhY2Nlc3NlZCB1c2luZyAub3B0cygpLlxuICAgICpcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0b3JlQXNQcm9wZXJ0aWVzPXRydWVdXG4gICAgKiBAcmV0dXJuIHtDb21tYW5kfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmdcbiAgICAqL1xuXG4gIHN0b3JlT3B0aW9uc0FzUHJvcGVydGllcyhzdG9yZUFzUHJvcGVydGllcyA9IHRydWUpIHtcbiAgICB0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMgPSAhIXN0b3JlQXNQcm9wZXJ0aWVzO1xuICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbGwgLnN0b3JlT3B0aW9uc0FzUHJvcGVydGllcygpIGJlZm9yZSBhZGRpbmcgb3B0aW9ucycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU3RvcmUgb3B0aW9uIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfc2V0T3B0aW9uVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMpIHtcbiAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vcHRpb25WYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmUgb3B0aW9uIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7T2JqZWN0fSB2YWx1ZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX2dldE9wdGlvblZhbHVlKGtleSkge1xuICAgIGlmICh0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiB0aGlzW2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9vcHRpb25WYWx1ZXNba2V5XTtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2UgYGFyZ3ZgLCBzZXR0aW5nIG9wdGlvbnMgYW5kIGludm9raW5nIGNvbW1hbmRzIHdoZW4gZGVmaW5lZC5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgZXhwZWN0YXRpb24gaXMgdGhhdCB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIG5vZGUgYW5kIGhhdmUgdGhlIGFwcGxpY2F0aW9uIGFzIGFyZ3ZbMF1cbiAgICogYW5kIHRoZSBzY3JpcHQgYmVpbmcgcnVuIGluIGFyZ3ZbMV0sIHdpdGggdXNlciBwYXJhbWV0ZXJzIGFmdGVyIHRoYXQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgIHByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KTtcbiAgICogICAgICBwcm9ncmFtLnBhcnNlKCk7IC8vIGltcGxpY2l0bHkgdXNlIHByb2Nlc3MuYXJndiBhbmQgYXV0by1kZXRlY3Qgbm9kZSB2cyBlbGVjdHJvbiBjb252ZW50aW9uc1xuICAgKiAgICAgIHByb2dyYW0ucGFyc2UobXktYXJncywgeyBmcm9tOiAndXNlcicgfSk7IC8vIGp1c3QgdXNlciBzdXBwbGllZCBhcmd1bWVudHMsIG5vdGhpbmcgc3BlY2lhbCBhYm91dCBhcmd2WzBdXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFthcmd2XSAtIG9wdGlvbmFsLCBkZWZhdWx0cyB0byBwcm9jZXNzLmFyZ3ZcbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJzZU9wdGlvbnNdIC0gb3B0aW9uYWxseSBzcGVjaWZ5IHN0eWxlIG9mIG9wdGlvbnMgd2l0aCBmcm9tOiBub2RlL3VzZXIvZWxlY3Ryb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJzZU9wdGlvbnMuZnJvbV0gLSB3aGVyZSB0aGUgYXJncyBhcmUgZnJvbTogJ25vZGUnLCAndXNlcicsICdlbGVjdHJvbidcbiAgICogQHJldHVybiB7Q29tbWFuZH0gYHRoaXNgIGNvbW1hbmQgZm9yIGNoYWluaW5nXG4gICAqL1xuXG4gIHBhcnNlKGFyZ3YsIHBhcnNlT3B0aW9ucykge1xuICAgIGlmIChhcmd2ICE9PSB1bmRlZmluZWQgJiYgIUFycmF5LmlzQXJyYXkoYXJndikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlyc3QgcGFyYW1ldGVyIHRvIHBhcnNlIG11c3QgYmUgYXJyYXkgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHBhcnNlT3B0aW9ucyA9IHBhcnNlT3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIERlZmF1bHQgdG8gdXNpbmcgcHJvY2Vzcy5hcmd2XG4gICAgaWYgKGFyZ3YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgYXJndiA9IHByb2Nlc3MuYXJndjtcbiAgICAgIC8vIEB0cy1pZ25vcmU6IHVua25vd24gcHJvcGVydHlcbiAgICAgIGlmIChwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb24pIHtcbiAgICAgICAgcGFyc2VPcHRpb25zLmZyb20gPSAnZWxlY3Ryb24nO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJhd0FyZ3MgPSBhcmd2LnNsaWNlKCk7XG5cbiAgICAvLyBtYWtlIGl0IGEgbGl0dGxlIGVhc2llciBmb3IgY2FsbGVycyBieSBzdXBwb3J0aW5nIHZhcmlvdXMgYXJndiBjb252ZW50aW9uc1xuICAgIGxldCB1c2VyQXJncztcbiAgICBzd2l0Y2ggKHBhcnNlT3B0aW9ucy5mcm9tKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgIGNhc2UgJ25vZGUnOlxuICAgICAgICB0aGlzLl9zY3JpcHRQYXRoID0gYXJndlsxXTtcbiAgICAgICAgdXNlckFyZ3MgPSBhcmd2LnNsaWNlKDIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VsZWN0cm9uJzpcbiAgICAgICAgLy8gQHRzLWlnbm9yZTogdW5rbm93biBwcm9wZXJ0eVxuICAgICAgICBpZiAocHJvY2Vzcy5kZWZhdWx0QXBwKSB7XG4gICAgICAgICAgdGhpcy5fc2NyaXB0UGF0aCA9IGFyZ3ZbMV07XG4gICAgICAgICAgdXNlckFyZ3MgPSBhcmd2LnNsaWNlKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVzZXJBcmdzID0gYXJndi5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICB1c2VyQXJncyA9IGFyZ3Yuc2xpY2UoMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmV4cGVjdGVkIHBhcnNlIG9wdGlvbiB7IGZyb206ICcke3BhcnNlT3B0aW9ucy5mcm9tfScgfWApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX3NjcmlwdFBhdGggJiYgcmVxdWlyZS5tYWluKSB7XG4gICAgICB0aGlzLl9zY3JpcHRQYXRoID0gcmVxdWlyZS5tYWluLmZpbGVuYW1lO1xuICAgIH1cblxuICAgIC8vIEd1ZXNzIG5hbWUsIHVzZWQgaW4gdXNhZ2UgaW4gaGVscC5cbiAgICB0aGlzLl9uYW1lID0gdGhpcy5fbmFtZSB8fCAodGhpcy5fc2NyaXB0UGF0aCAmJiBwYXRoLmJhc2VuYW1lKHRoaXMuX3NjcmlwdFBhdGgsIHBhdGguZXh0bmFtZSh0aGlzLl9zY3JpcHRQYXRoKSkpO1xuXG4gICAgLy8gTGV0J3MgZ28hXG4gICAgdGhpcy5fcGFyc2VDb21tYW5kKFtdLCB1c2VyQXJncyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2UgYGFyZ3ZgLCBzZXR0aW5nIG9wdGlvbnMgYW5kIGludm9raW5nIGNvbW1hbmRzIHdoZW4gZGVmaW5lZC5cbiAgICpcbiAgICogVXNlIHBhcnNlQXN5bmMgaW5zdGVhZCBvZiBwYXJzZSBpZiBhbnkgb2YgeW91ciBhY3Rpb24gaGFuZGxlcnMgYXJlIGFzeW5jLiBSZXR1cm5zIGEgUHJvbWlzZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgZXhwZWN0YXRpb24gaXMgdGhhdCB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIG5vZGUgYW5kIGhhdmUgdGhlIGFwcGxpY2F0aW9uIGFzIGFyZ3ZbMF1cbiAgICogYW5kIHRoZSBzY3JpcHQgYmVpbmcgcnVuIGluIGFyZ3ZbMV0sIHdpdGggdXNlciBwYXJhbWV0ZXJzIGFmdGVyIHRoYXQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgIHByb2dyYW0ucGFyc2VBc3luYyhwcm9jZXNzLmFyZ3YpO1xuICAgKiAgICAgIHByb2dyYW0ucGFyc2VBc3luYygpOyAvLyBpbXBsaWNpdGx5IHVzZSBwcm9jZXNzLmFyZ3YgYW5kIGF1dG8tZGV0ZWN0IG5vZGUgdnMgZWxlY3Ryb24gY29udmVudGlvbnNcbiAgICogICAgICBwcm9ncmFtLnBhcnNlQXN5bmMobXktYXJncywgeyBmcm9tOiAndXNlcicgfSk7IC8vIGp1c3QgdXNlciBzdXBwbGllZCBhcmd1bWVudHMsIG5vdGhpbmcgc3BlY2lhbCBhYm91dCBhcmd2WzBdXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFthcmd2XVxuICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcnNlT3B0aW9uc11cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcnNlT3B0aW9ucy5mcm9tIC0gd2hlcmUgdGhlIGFyZ3MgYXJlIGZyb206ICdub2RlJywgJ3VzZXInLCAnZWxlY3Ryb24nXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuXG4gIHBhcnNlQXN5bmMoYXJndiwgcGFyc2VPcHRpb25zKSB7XG4gICAgdGhpcy5wYXJzZShhcmd2LCBwYXJzZU9wdGlvbnMpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLl9hY3Rpb25SZXN1bHRzKS50aGVuKCgpID0+IHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgc3ViLWNvbW1hbmQgZXhlY3V0YWJsZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9leGVjdXRlU3ViQ29tbWFuZChzdWJjb21tYW5kLCBhcmdzKSB7XG4gICAgYXJncyA9IGFyZ3Muc2xpY2UoKTtcbiAgICBsZXQgbGF1bmNoV2l0aE5vZGUgPSBmYWxzZTsgLy8gVXNlIG5vZGUgZm9yIHNvdXJjZSB0YXJnZXRzIHNvIGRvIG5vdCBuZWVkIHRvIGdldCBwZXJtaXNzaW9ucyBjb3JyZWN0LCBhbmQgb24gV2luZG93cy5cbiAgICBjb25zdCBzb3VyY2VFeHQgPSBbJy5qcycsICcudHMnLCAnLnRzeCcsICcubWpzJywgJy5janMnXTtcblxuICAgIC8vIE5vdCBjaGVja2luZyBmb3IgaGVscCBmaXJzdC4gVW5saWtlbHkgdG8gaGF2ZSBtYW5kYXRvcnkgYW5kIGV4ZWN1dGFibGUsIGFuZCBjYW4ndCByb2J1c3RseSB0ZXN0IGZvciBoZWxwIGZsYWdzIGluIGV4dGVybmFsIGNvbW1hbmQuXG4gICAgdGhpcy5fY2hlY2tGb3JNaXNzaW5nTWFuZGF0b3J5T3B0aW9ucygpO1xuXG4gICAgLy8gV2FudCB0aGUgZW50cnkgc2NyaXB0IGFzIHRoZSByZWZlcmVuY2UgZm9yIGNvbW1hbmQgbmFtZSBhbmQgZGlyZWN0b3J5IGZvciBzZWFyY2hpbmcgZm9yIG90aGVyIGZpbGVzLlxuICAgIGxldCBzY3JpcHRQYXRoID0gdGhpcy5fc2NyaXB0UGF0aDtcbiAgICAvLyBGYWxsYmFjayBpbiBjYXNlIG5vdCBzZXQsIGR1ZSB0byBob3cgQ29tbWFuZCBjcmVhdGVkIG9yIGNhbGxlZC5cbiAgICBpZiAoIXNjcmlwdFBhdGggJiYgcmVxdWlyZS5tYWluKSB7XG4gICAgICBzY3JpcHRQYXRoID0gcmVxdWlyZS5tYWluLmZpbGVuYW1lO1xuICAgIH1cblxuICAgIGxldCBiYXNlRGlyO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNvbHZlZExpbmsgPSBmcy5yZWFscGF0aFN5bmMoc2NyaXB0UGF0aCk7XG4gICAgICBiYXNlRGlyID0gcGF0aC5kaXJuYW1lKHJlc29sdmVkTGluayk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYmFzZURpciA9ICcuJzsgLy8gZHVtbXksIHByb2JhYmx5IG5vdCBnb2luZyB0byBmaW5kIGV4ZWN1dGFibGUhXG4gICAgfVxuXG4gICAgLy8gbmFtZSBvZiB0aGUgc3ViY29tbWFuZCwgbGlrZSBgcG0taW5zdGFsbGBcbiAgICBsZXQgYmluID0gcGF0aC5iYXNlbmFtZShzY3JpcHRQYXRoLCBwYXRoLmV4dG5hbWUoc2NyaXB0UGF0aCkpICsgJy0nICsgc3ViY29tbWFuZC5fbmFtZTtcbiAgICBpZiAoc3ViY29tbWFuZC5fZXhlY3V0YWJsZUZpbGUpIHtcbiAgICAgIGJpbiA9IHN1YmNvbW1hbmQuX2V4ZWN1dGFibGVGaWxlO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2FsQmluID0gcGF0aC5qb2luKGJhc2VEaXIsIGJpbik7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMobG9jYWxCaW4pKSB7XG4gICAgICAvLyBwcmVmZXIgbG9jYWwgYC4vPGJpbj5gIHRvIGJpbiBpbiB0aGUgJFBBVEhcbiAgICAgIGJpbiA9IGxvY2FsQmluO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb29rIGZvciBzb3VyY2UgZmlsZXMuXG4gICAgICBzb3VyY2VFeHQuZm9yRWFjaCgoZXh0KSA9PiB7XG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKGAke2xvY2FsQmlufSR7ZXh0fWApKSB7XG4gICAgICAgICAgYmluID0gYCR7bG9jYWxCaW59JHtleHR9YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGxhdW5jaFdpdGhOb2RlID0gc291cmNlRXh0LmluY2x1ZGVzKHBhdGguZXh0bmFtZShiaW4pKTtcblxuICAgIGxldCBwcm9jO1xuICAgIGlmIChwcm9jZXNzLnBsYXRmb3JtICE9PSAnd2luMzInKSB7XG4gICAgICBpZiAobGF1bmNoV2l0aE5vZGUpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KGJpbik7XG4gICAgICAgIC8vIGFkZCBleGVjdXRhYmxlIGFyZ3VtZW50cyB0byBzcGF3blxuICAgICAgICBhcmdzID0gaW5jcmVtZW50Tm9kZUluc3BlY3RvclBvcnQocHJvY2Vzcy5leGVjQXJndikuY29uY2F0KGFyZ3MpO1xuXG4gICAgICAgIHByb2MgPSBjaGlsZFByb2Nlc3Muc3Bhd24ocHJvY2Vzcy5hcmd2WzBdLCBhcmdzLCB7IHN0ZGlvOiAnaW5oZXJpdCcgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jID0gY2hpbGRQcm9jZXNzLnNwYXduKGJpbiwgYXJncywgeyBzdGRpbzogJ2luaGVyaXQnIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzLnVuc2hpZnQoYmluKTtcbiAgICAgIC8vIGFkZCBleGVjdXRhYmxlIGFyZ3VtZW50cyB0byBzcGF3blxuICAgICAgYXJncyA9IGluY3JlbWVudE5vZGVJbnNwZWN0b3JQb3J0KHByb2Nlc3MuZXhlY0FyZ3YpLmNvbmNhdChhcmdzKTtcbiAgICAgIHByb2MgPSBjaGlsZFByb2Nlc3Muc3Bhd24ocHJvY2Vzcy5leGVjUGF0aCwgYXJncywgeyBzdGRpbzogJ2luaGVyaXQnIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHNpZ25hbHMgPSBbJ1NJR1VTUjEnLCAnU0lHVVNSMicsICdTSUdURVJNJywgJ1NJR0lOVCcsICdTSUdIVVAnXTtcbiAgICBzaWduYWxzLmZvckVhY2goKHNpZ25hbCkgPT4ge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcHJvY2Vzcy5vbihzaWduYWwsICgpID0+IHtcbiAgICAgICAgaWYgKHByb2Mua2lsbGVkID09PSBmYWxzZSAmJiBwcm9jLmV4aXRDb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgcHJvYy5raWxsKHNpZ25hbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gQnkgZGVmYXVsdCB0ZXJtaW5hdGUgcHJvY2VzcyB3aGVuIHNwYXduZWQgcHJvY2VzcyB0ZXJtaW5hdGVzLlxuICAgIC8vIFN1cHByZXNzaW5nIHRoZSBleGl0IGlmIGV4aXRDYWxsYmFjayBkZWZpbmVkIGlzIGEgYml0IG1lc3N5IGFuZCBvZiBsaW1pdGVkIHVzZSwgYnV0IGRvZXMgYWxsb3cgcHJvY2VzcyB0byBzdGF5IHJ1bm5pbmchXG4gICAgY29uc3QgZXhpdENhbGxiYWNrID0gdGhpcy5fZXhpdENhbGxiYWNrO1xuICAgIGlmICghZXhpdENhbGxiYWNrKSB7XG4gICAgICBwcm9jLm9uKCdjbG9zZScsIHByb2Nlc3MuZXhpdC5iaW5kKHByb2Nlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvYy5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgIGV4aXRDYWxsYmFjayhuZXcgQ29tbWFuZGVyRXJyb3IocHJvY2Vzcy5leGl0Q29kZSB8fCAwLCAnY29tbWFuZGVyLmV4ZWN1dGVTdWJDb21tYW5kQXN5bmMnLCAnKGNsb3NlKScpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9jLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgY29uc3QgZXhlY3V0YWJsZU1pc3NpbmcgPSBgJyR7YmlufScgZG9lcyBub3QgZXhpc3RcbiAtIGlmICcke3N1YmNvbW1hbmQuX25hbWV9JyBpcyBub3QgbWVhbnQgdG8gYmUgYW4gZXhlY3V0YWJsZSBjb21tYW5kLCByZW1vdmUgZGVzY3JpcHRpb24gcGFyYW1ldGVyIGZyb20gJy5jb21tYW5kKCknIGFuZCB1c2UgJy5kZXNjcmlwdGlvbigpJyBpbnN0ZWFkXG4gLSBpZiB0aGUgZGVmYXVsdCBleGVjdXRhYmxlIG5hbWUgaXMgbm90IHN1aXRhYmxlLCB1c2UgdGhlIGV4ZWN1dGFibGVGaWxlIG9wdGlvbiB0byBzdXBwbHkgYSBjdXN0b20gbmFtZWA7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihleGVjdXRhYmxlTWlzc2luZyk7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB9IGVsc2UgaWYgKGVyci5jb2RlID09PSAnRUFDQ0VTJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2Jpbn0nIG5vdCBleGVjdXRhYmxlYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWV4aXRDYWxsYmFjaykge1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB3cmFwcGVkRXJyb3IgPSBuZXcgQ29tbWFuZGVyRXJyb3IoMSwgJ2NvbW1hbmRlci5leGVjdXRlU3ViQ29tbWFuZEFzeW5jJywgJyhlcnJvciknKTtcbiAgICAgICAgd3JhcHBlZEVycm9yLm5lc3RlZEVycm9yID0gZXJyO1xuICAgICAgICBleGl0Q2FsbGJhY2sod3JhcHBlZEVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFN0b3JlIHRoZSByZWZlcmVuY2UgdG8gdGhlIGNoaWxkIHByb2Nlc3NcbiAgICB0aGlzLnJ1bm5pbmdDb21tYW5kID0gcHJvYztcbiAgfTtcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBfZGlzcGF0Y2hTdWJjb21tYW5kKGNvbW1hbmROYW1lLCBvcGVyYW5kcywgdW5rbm93bikge1xuICAgIGNvbnN0IHN1YkNvbW1hbmQgPSB0aGlzLl9maW5kQ29tbWFuZChjb21tYW5kTmFtZSk7XG4gICAgaWYgKCFzdWJDb21tYW5kKSB0aGlzLmhlbHAoeyBlcnJvcjogdHJ1ZSB9KTtcblxuICAgIGlmIChzdWJDb21tYW5kLl9leGVjdXRhYmxlSGFuZGxlcikge1xuICAgICAgdGhpcy5fZXhlY3V0ZVN1YkNvbW1hbmQoc3ViQ29tbWFuZCwgb3BlcmFuZHMuY29uY2F0KHVua25vd24pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ViQ29tbWFuZC5fcGFyc2VDb21tYW5kKG9wZXJhbmRzLCB1bmtub3duKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYXJndW1lbnRzIGluIGNvbnRleHQgb2YgdGhpcyBjb21tYW5kLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX3BhcnNlQ29tbWFuZChvcGVyYW5kcywgdW5rbm93bikge1xuICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMucGFyc2VPcHRpb25zKHVua25vd24pO1xuICAgIG9wZXJhbmRzID0gb3BlcmFuZHMuY29uY2F0KHBhcnNlZC5vcGVyYW5kcyk7XG4gICAgdW5rbm93biA9IHBhcnNlZC51bmtub3duO1xuICAgIHRoaXMuYXJncyA9IG9wZXJhbmRzLmNvbmNhdCh1bmtub3duKTtcblxuICAgIGlmIChvcGVyYW5kcyAmJiB0aGlzLl9maW5kQ29tbWFuZChvcGVyYW5kc1swXSkpIHtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoU3ViY29tbWFuZChvcGVyYW5kc1swXSwgb3BlcmFuZHMuc2xpY2UoMSksIHVua25vd24pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faGFzSW1wbGljaXRIZWxwQ29tbWFuZCgpICYmIG9wZXJhbmRzWzBdID09PSB0aGlzLl9oZWxwQ29tbWFuZE5hbWUpIHtcbiAgICAgIGlmIChvcGVyYW5kcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGhpcy5oZWxwKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQob3BlcmFuZHNbMV0sIFtdLCBbdGhpcy5faGVscExvbmdGbGFnXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUpIHtcbiAgICAgIG91dHB1dEhlbHBJZlJlcXVlc3RlZCh0aGlzLCB1bmtub3duKTsgLy8gUnVuIHRoZSBoZWxwIGZvciBkZWZhdWx0IGNvbW1hbmQgZnJvbSBwYXJlbnQgcmF0aGVyIHRoYW4gcGFzc2luZyB0byBkZWZhdWx0IGNvbW1hbmRcbiAgICAgIHRoaXMuX2Rpc3BhdGNoU3ViY29tbWFuZCh0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUsIG9wZXJhbmRzLCB1bmtub3duKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoICYmIHRoaXMuYXJncy5sZW5ndGggPT09IDAgJiYgIXRoaXMuX2FjdGlvbkhhbmRsZXIgJiYgIXRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSkge1xuICAgICAgICAvLyBwcm9iYWJseSBtaXNzaW5nIHN1YmNvbW1hbmQgYW5kIG5vIGhhbmRsZXIsIHVzZXIgbmVlZHMgaGVscFxuICAgICAgICB0aGlzLmhlbHAoeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICAgIH1cblxuICAgICAgb3V0cHV0SGVscElmUmVxdWVzdGVkKHRoaXMsIHBhcnNlZC51bmtub3duKTtcbiAgICAgIHRoaXMuX2NoZWNrRm9yTWlzc2luZ01hbmRhdG9yeU9wdGlvbnMoKTtcblxuICAgICAgLy8gV2UgZG8gbm90IGFsd2F5cyBjYWxsIHRoaXMgY2hlY2sgdG8gYXZvaWQgbWFza2luZyBhIFwiYmV0dGVyXCIgZXJyb3IsIGxpa2UgdW5rbm93biBjb21tYW5kLlxuICAgICAgY29uc3QgY2hlY2tGb3JVbmtub3duT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHBhcnNlZC51bmtub3duLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnVua25vd25PcHRpb24ocGFyc2VkLnVua25vd25bMF0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb21tYW5kRXZlbnQgPSBgY29tbWFuZDoke3RoaXMubmFtZSgpfWA7XG4gICAgICBpZiAodGhpcy5fYWN0aW9uSGFuZGxlcikge1xuICAgICAgICBjaGVja0ZvclVua25vd25PcHRpb25zKCk7XG4gICAgICAgIC8vIENoZWNrIGV4cGVjdGVkIGFyZ3VtZW50cyBhbmQgY29sbGVjdCB2YXJpYWRpYyB0b2dldGhlci5cbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuYXJncy5zbGljZSgpO1xuICAgICAgICB0aGlzLl9hcmdzLmZvckVhY2goKGFyZywgaSkgPT4ge1xuICAgICAgICAgIGlmIChhcmcucmVxdWlyZWQgJiYgYXJnc1tpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1pc3NpbmdBcmd1bWVudChhcmcubmFtZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhcmcudmFyaWFkaWMpIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmdzLnNwbGljZShpKTtcbiAgICAgICAgICAgIGFyZ3MubGVuZ3RoID0gTWF0aC5taW4oaSArIDEsIGFyZ3MubGVuZ3RoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiB0aGlzLl9hcmdzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX2V4Y2Vzc0FyZ3VtZW50cyhhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGlvbkhhbmRsZXIoYXJncyk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkgdGhpcy5wYXJlbnQuZW1pdChjb21tYW5kRXZlbnQsIG9wZXJhbmRzLCB1bmtub3duKTsgLy8gbGVnYWN5XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50Lmxpc3RlbmVyQ291bnQoY29tbWFuZEV2ZW50KSkge1xuICAgICAgICBjaGVja0ZvclVua25vd25PcHRpb25zKCk7XG4gICAgICAgIHRoaXMucGFyZW50LmVtaXQoY29tbWFuZEV2ZW50LCBvcGVyYW5kcywgdW5rbm93bik7IC8vIGxlZ2FjeVxuICAgICAgfSBlbHNlIGlmIChvcGVyYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbmRDb21tYW5kKCcqJykpIHsgLy8gbGVnYWN5IGRlZmF1bHQgY29tbWFuZFxuICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoU3ViY29tbWFuZCgnKicsIG9wZXJhbmRzLCB1bmtub3duKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpc3RlbmVyQ291bnQoJ2NvbW1hbmQ6KicpKSB7XG4gICAgICAgICAgLy8gc2tpcCBvcHRpb24gY2hlY2ssIGVtaXQgZXZlbnQgZm9yIHBvc3NpYmxlIG1pc3NwZWxsaW5nIHN1Z2dlc3Rpb25cbiAgICAgICAgICB0aGlzLmVtaXQoJ2NvbW1hbmQ6KicsIG9wZXJhbmRzLCB1bmtub3duKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMudW5rbm93bkNvbW1hbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGVja0ZvclVua25vd25PcHRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gVGhpcyBjb21tYW5kIGhhcyBzdWJjb21tYW5kcyBhbmQgbm90aGluZyBob29rZWQgdXAgYXQgdGhpcyBsZXZlbCwgc28gZGlzcGxheSBoZWxwLlxuICAgICAgICB0aGlzLmhlbHAoeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrRm9yVW5rbm93bk9wdGlvbnMoKTtcbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoIGZvciBjYWxsZXIgdG8gaGFuZGxlIGFmdGVyIGNhbGxpbmcgLnBhcnNlKClcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpbmQgbWF0Y2hpbmcgY29tbWFuZC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBfZmluZENvbW1hbmQobmFtZSkge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5maW5kKGNtZCA9PiBjbWQuX25hbWUgPT09IG5hbWUgfHwgY21kLl9hbGlhc2VzLmluY2x1ZGVzKG5hbWUpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGFuIG9wdGlvbiBtYXRjaGluZyBgYXJnYCBpZiBhbnkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhcmdcbiAgICogQHJldHVybiB7T3B0aW9ufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX2ZpbmRPcHRpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maW5kKG9wdGlvbiA9PiBvcHRpb24uaXMoYXJnKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXkgYW4gZXJyb3IgbWVzc2FnZSBpZiBhIG1hbmRhdG9yeSBvcHRpb24gZG9lcyBub3QgaGF2ZSBhIHZhbHVlLlxuICAgKiBMYXp5IGNhbGxpbmcgYWZ0ZXIgY2hlY2tpbmcgZm9yIGhlbHAgZmxhZ3MgZnJvbSBsZWFmIHN1YmNvbW1hbmQuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBfY2hlY2tGb3JNaXNzaW5nTWFuZGF0b3J5T3B0aW9ucygpIHtcbiAgICAvLyBXYWxrIHVwIGhpZXJhcmNoeSBzbyBjYW4gY2FsbCBpbiBzdWJjb21tYW5kIGFmdGVyIGNoZWNraW5nIGZvciBkaXNwbGF5aW5nIGhlbHAuXG4gICAgZm9yIChsZXQgY21kID0gdGhpczsgY21kOyBjbWQgPSBjbWQucGFyZW50KSB7XG4gICAgICBjbWQub3B0aW9ucy5mb3JFYWNoKChhbk9wdGlvbikgPT4ge1xuICAgICAgICBpZiAoYW5PcHRpb24ubWFuZGF0b3J5ICYmIChjbWQuX2dldE9wdGlvblZhbHVlKGFuT3B0aW9uLmF0dHJpYnV0ZU5hbWUoKSkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICBjbWQubWlzc2luZ01hbmRhdG9yeU9wdGlvblZhbHVlKGFuT3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZSBvcHRpb25zIGZyb20gYGFyZ3ZgIHJlbW92aW5nIGtub3duIG9wdGlvbnMsXG4gICAqIGFuZCByZXR1cm4gYXJndiBzcGxpdCBpbnRvIG9wZXJhbmRzIGFuZCB1bmtub3duIGFyZ3VtZW50cy5cbiAgICpcbiAgICogRXhhbXBsZXM6XG4gICAqXG4gICAqICAgIGFyZ3YgPT4gb3BlcmFuZHMsIHVua25vd25cbiAgICogICAgLS1rbm93biBra2sgb3AgPT4gW29wXSwgW11cbiAgICogICAgb3AgLS1rbm93biBra2sgPT4gW29wXSwgW11cbiAgICogICAgc3ViIC0tdW5rbm93biB1dXUgb3AgPT4gW3N1Yl0sIFstLXVua25vd24gdXV1IG9wXVxuICAgKiAgICBzdWIgLS0gLS11bmtub3duIHV1dSBvcCA9PiBbc3ViIC0tdW5rbm93biB1dXUgb3BdLCBbXVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBhcmd2XG4gICAqIEByZXR1cm4ge3tvcGVyYW5kczogU3RyaW5nW10sIHVua25vd246IFN0cmluZ1tdfX1cbiAgICovXG5cbiAgcGFyc2VPcHRpb25zKGFyZ3YpIHtcbiAgICBjb25zdCBvcGVyYW5kcyA9IFtdOyAvLyBvcGVyYW5kcywgbm90IG9wdGlvbnMgb3IgdmFsdWVzXG4gICAgY29uc3QgdW5rbm93biA9IFtdOyAvLyBmaXJzdCB1bmtub3duIG9wdGlvbiBhbmQgcmVtYWluaW5nIHVua25vd24gYXJnc1xuICAgIGxldCBkZXN0ID0gb3BlcmFuZHM7XG4gICAgY29uc3QgYXJncyA9IGFyZ3Yuc2xpY2UoKTtcblxuICAgIGZ1bmN0aW9uIG1heWJlT3B0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGFyZy5sZW5ndGggPiAxICYmIGFyZ1swXSA9PT0gJy0nO1xuICAgIH1cblxuICAgIC8vIHBhcnNlIG9wdGlvbnNcbiAgICBsZXQgYWN0aXZlVmFyaWFkaWNPcHRpb24gPSBudWxsO1xuICAgIHdoaWxlIChhcmdzLmxlbmd0aCkge1xuICAgICAgY29uc3QgYXJnID0gYXJncy5zaGlmdCgpO1xuXG4gICAgICAvLyBsaXRlcmFsXG4gICAgICBpZiAoYXJnID09PSAnLS0nKSB7XG4gICAgICAgIGlmIChkZXN0ID09PSB1bmtub3duKSBkZXN0LnB1c2goYXJnKTtcbiAgICAgICAgZGVzdC5wdXNoKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZVZhcmlhZGljT3B0aW9uICYmICFtYXliZU9wdGlvbihhcmcpKSB7XG4gICAgICAgIHRoaXMuZW1pdChgb3B0aW9uOiR7YWN0aXZlVmFyaWFkaWNPcHRpb24ubmFtZSgpfWAsIGFyZyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYWN0aXZlVmFyaWFkaWNPcHRpb24gPSBudWxsO1xuXG4gICAgICBpZiAobWF5YmVPcHRpb24oYXJnKSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLl9maW5kT3B0aW9uKGFyZyk7XG4gICAgICAgIC8vIHJlY29nbmlzZWQgb3B0aW9uLCBjYWxsIGxpc3RlbmVyIHRvIGFzc2lnbiB2YWx1ZSB3aXRoIHBvc3NpYmxlIGN1c3RvbSBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICBpZiAob3B0aW9uLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB0aGlzLm9wdGlvbk1pc3NpbmdBcmd1bWVudChvcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWAsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbi5vcHRpb25hbCkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGhpc3RvcmljYWwgYmVoYXZpb3VyIGlzIG9wdGlvbmFsIHZhbHVlIGlzIGZvbGxvd2luZyBhcmcgdW5sZXNzIGFuIG9wdGlvblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCAmJiAhbWF5YmVPcHRpb24oYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoYG9wdGlvbjoke29wdGlvbi5uYW1lKCl9YCwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIGJvb2xlYW4gZmxhZ1xuICAgICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3RpdmVWYXJpYWRpY09wdGlvbiA9IG9wdGlvbi52YXJpYWRpYyA/IG9wdGlvbiA6IG51bGw7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTG9vayBmb3IgY29tYm8gb3B0aW9ucyBmb2xsb3dpbmcgc2luZ2xlIGRhc2gsIGVhdCBmaXJzdCBvbmUgaWYga25vd24uXG4gICAgICBpZiAoYXJnLmxlbmd0aCA+IDIgJiYgYXJnWzBdID09PSAnLScgJiYgYXJnWzFdICE9PSAnLScpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5fZmluZE9wdGlvbihgLSR7YXJnWzFdfWApO1xuICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbi5yZXF1aXJlZCB8fCAob3B0aW9uLm9wdGlvbmFsICYmIHRoaXMuX2NvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIG9wdGlvbiB3aXRoIHZhbHVlIGZvbGxvd2luZyBpbiBzYW1lIGFyZ3VtZW50XG4gICAgICAgICAgICB0aGlzLmVtaXQoYG9wdGlvbjoke29wdGlvbi5uYW1lKCl9YCwgYXJnLnNsaWNlKDIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYm9vbGVhbiBvcHRpb24sIGVtaXQgYW5kIHB1dCBiYWNrIHJlbWFpbmRlciBvZiBhcmcgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWApO1xuICAgICAgICAgICAgYXJncy51bnNoaWZ0KGAtJHthcmcuc2xpY2UoMil9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIExvb2sgZm9yIGtub3duIGxvbmcgZmxhZyB3aXRoIHZhbHVlLCBsaWtlIC0tZm9vPWJhclxuICAgICAgaWYgKC9eLS1bXj1dKz0vLnRlc3QoYXJnKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGFyZy5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuX2ZpbmRPcHRpb24oYXJnLnNsaWNlKDAsIGluZGV4KSk7XG4gICAgICAgIGlmIChvcHRpb24gJiYgKG9wdGlvbi5yZXF1aXJlZCB8fCBvcHRpb24ub3B0aW9uYWwpKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KGBvcHRpb246JHtvcHRpb24ubmFtZSgpfWAsIGFyZy5zbGljZShpbmRleCArIDEpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOb3QgYSByZWNvZ25pc2VkIG9wdGlvbiBieSB0aGlzIGNvbW1hbmQuXG4gICAgICAvLyBNaWdodCBiZSBhIGNvbW1hbmQtYXJndW1lbnQsIG9yIHN1YmNvbW1hbmQgb3B0aW9uLCBvciB1bmtub3duIG9wdGlvbiwgb3IgaGVscCBjb21tYW5kIG9yIG9wdGlvbi5cblxuICAgICAgLy8gQW4gdW5rbm93biBvcHRpb24gbWVhbnMgZnVydGhlciBhcmd1bWVudHMgYWxzbyBjbGFzc2lmaWVkIGFzIHVua25vd24gc28gY2FuIGJlIHJlcHJvY2Vzc2VkIGJ5IHN1YmNvbW1hbmRzLlxuICAgICAgaWYgKG1heWJlT3B0aW9uKGFyZykpIHtcbiAgICAgICAgZGVzdCA9IHVua25vd247XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHVzaW5nIHBvc2l0aW9uYWxPcHRpb25zLCBzdG9wIHByb2Nlc3Npbmcgb3VyIG9wdGlvbnMgYXQgc3ViY29tbWFuZC5cbiAgICAgIGlmICgodGhpcy5fZW5hYmxlUG9zaXRpb25hbE9wdGlvbnMgfHwgdGhpcy5fcGFzc1Rocm91Z2hPcHRpb25zKSAmJiBvcGVyYW5kcy5sZW5ndGggPT09IDAgJiYgdW5rbm93bi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbmRDb21tYW5kKGFyZykpIHtcbiAgICAgICAgICBvcGVyYW5kcy5wdXNoKGFyZyk7XG4gICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgdW5rbm93bi5wdXNoKC4uLmFyZ3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZyA9PT0gdGhpcy5faGVscENvbW1hbmROYW1lICYmIHRoaXMuX2hhc0ltcGxpY2l0SGVscENvbW1hbmQoKSkge1xuICAgICAgICAgIG9wZXJhbmRzLnB1c2goYXJnKTtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSBvcGVyYW5kcy5wdXNoKC4uLmFyZ3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSkge1xuICAgICAgICAgIHVua25vd24ucHVzaChhcmcpO1xuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHVua25vd24ucHVzaCguLi5hcmdzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB1c2luZyBwYXNzVGhyb3VnaE9wdGlvbnMsIHN0b3AgcHJvY2Vzc2luZyBvcHRpb25zIGF0IGZpcnN0IGNvbW1hbmQtYXJndW1lbnQuXG4gICAgICBpZiAodGhpcy5fcGFzc1Rocm91Z2hPcHRpb25zKSB7XG4gICAgICAgIGRlc3QucHVzaChhcmcpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSBkZXN0LnB1c2goLi4uYXJncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBhZGQgYXJnXG4gICAgICBkZXN0LnB1c2goYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBvcGVyYW5kcywgdW5rbm93biB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9ucyBhcyBrZXktdmFsdWUgcGFpcnNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgb3B0cygpIHtcbiAgICBpZiAodGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKSB7XG4gICAgICAvLyBQcmVzZXJ2ZSBvcmlnaW5hbCBiZWhhdmlvdXIgc28gYmFja3dhcmRzIGNvbXBhdGlibGUgd2hlbiBzdGlsbCB1c2luZyBwcm9wZXJ0aWVzXG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMub3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5vcHRpb25zW2ldLmF0dHJpYnV0ZU5hbWUoKTtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBrZXkgPT09IHRoaXMuX3ZlcnNpb25PcHRpb25OYW1lID8gdGhpcy5fdmVyc2lvbiA6IHRoaXNba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX29wdGlvblZhbHVlcztcbiAgfTtcblxuICAvKipcbiAgICogSW50ZXJuYWwgYm90dGxlbmVjayBmb3IgaGFuZGxpbmcgb2YgcGFyc2luZyBlcnJvcnMuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BsYXlFcnJvcihleGl0Q29kZSwgY29kZSwgbWVzc2FnZSkge1xuICAgIHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ub3V0cHV0RXJyb3IoYCR7bWVzc2FnZX1cXG5gLCB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlRXJyKTtcbiAgICB0aGlzLl9leGl0KGV4aXRDb2RlLCBjb2RlLCBtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcmd1bWVudCBgbmFtZWAgaXMgbWlzc2luZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG1pc3NpbmdBcmd1bWVudChuYW1lKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogbWlzc2luZyByZXF1aXJlZCBhcmd1bWVudCAnJHtuYW1lfSdgO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLm1pc3NpbmdBcmd1bWVudCcsIG1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBgT3B0aW9uYCBpcyBtaXNzaW5nIGFuIGFyZ3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09wdGlvbn0gb3B0aW9uXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBvcHRpb25NaXNzaW5nQXJndW1lbnQob3B0aW9uKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBlcnJvcjogb3B0aW9uICcke29wdGlvbi5mbGFnc30nIGFyZ3VtZW50IG1pc3NpbmdgO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLm9wdGlvbk1pc3NpbmdBcmd1bWVudCcsIG1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBgT3B0aW9uYCBkb2VzIG5vdCBoYXZlIGEgdmFsdWUsIGFuZCBpcyBhIG1hbmRhdG9yeSBvcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T3B0aW9ufSBvcHRpb25cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG1pc3NpbmdNYW5kYXRvcnlPcHRpb25WYWx1ZShvcHRpb24pIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYGVycm9yOiByZXF1aXJlZCBvcHRpb24gJyR7b3B0aW9uLmZsYWdzfScgbm90IHNwZWNpZmllZGA7XG4gICAgdGhpcy5fZGlzcGxheUVycm9yKDEsICdjb21tYW5kZXIubWlzc2luZ01hbmRhdG9yeU9wdGlvblZhbHVlJywgbWVzc2FnZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVua25vd24gb3B0aW9uIGBmbGFnYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZsYWdcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHVua25vd25PcHRpb24oZmxhZykge1xuICAgIGlmICh0aGlzLl9hbGxvd1Vua25vd25PcHRpb24pIHJldHVybjtcbiAgICBjb25zdCBtZXNzYWdlID0gYGVycm9yOiB1bmtub3duIG9wdGlvbiAnJHtmbGFnfSdgO1xuICAgIHRoaXMuX2Rpc3BsYXlFcnJvcigxLCAnY29tbWFuZGVyLnVua25vd25PcHRpb24nLCBtZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogRXhjZXNzIGFyZ3VtZW50cywgbW9yZSB0aGFuIGV4cGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSByZWNlaXZlZEFyZ3NcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9leGNlc3NBcmd1bWVudHMocmVjZWl2ZWRBcmdzKSB7XG4gICAgaWYgKHRoaXMuX2FsbG93RXhjZXNzQXJndW1lbnRzKSByZXR1cm47XG5cbiAgICBjb25zdCBleHBlY3RlZCA9IHRoaXMuX2FyZ3MubGVuZ3RoO1xuICAgIGNvbnN0IHMgPSAoZXhwZWN0ZWQgPT09IDEpID8gJycgOiAncyc7XG4gICAgY29uc3QgZm9yU3ViY29tbWFuZCA9IHRoaXMucGFyZW50ID8gYCBmb3IgJyR7dGhpcy5uYW1lKCl9J2AgOiAnJztcbiAgICBjb25zdCBtZXNzYWdlID0gYGVycm9yOiB0b28gbWFueSBhcmd1bWVudHMke2ZvclN1YmNvbW1hbmR9LiBFeHBlY3RlZCAke2V4cGVjdGVkfSBhcmd1bWVudCR7c30gYnV0IGdvdCAke3JlY2VpdmVkQXJncy5sZW5ndGh9LmA7XG4gICAgdGhpcy5fZGlzcGxheUVycm9yKDEsICdjb21tYW5kZXIuZXhjZXNzQXJndW1lbnRzJywgbWVzc2FnZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVua25vd24gY29tbWFuZC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHVua25vd25Db21tYW5kKCkge1xuICAgIGNvbnN0IHBhcnRDb21tYW5kcyA9IFt0aGlzLm5hbWUoKV07XG4gICAgZm9yIChsZXQgcGFyZW50Q21kID0gdGhpcy5wYXJlbnQ7IHBhcmVudENtZDsgcGFyZW50Q21kID0gcGFyZW50Q21kLnBhcmVudCkge1xuICAgICAgcGFydENvbW1hbmRzLnVuc2hpZnQocGFyZW50Q21kLm5hbWUoKSk7XG4gICAgfVxuICAgIGNvbnN0IGZ1bGxDb21tYW5kID0gcGFydENvbW1hbmRzLmpvaW4oJyAnKTtcbiAgICBjb25zdCBtZXNzYWdlID0gYGVycm9yOiB1bmtub3duIGNvbW1hbmQgJyR7dGhpcy5hcmdzWzBdfScuYCArXG4gICAgICAodGhpcy5faGFzSGVscE9wdGlvbiA/IGAgU2VlICcke2Z1bGxDb21tYW5kfSAke3RoaXMuX2hlbHBMb25nRmxhZ30nLmAgOiAnJyk7XG4gICAgdGhpcy5fZGlzcGxheUVycm9yKDEsICdjb21tYW5kZXIudW5rbm93bkNvbW1hbmQnLCBtZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBwcm9ncmFtIHZlcnNpb24gdG8gYHN0cmAuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGF1dG8tcmVnaXN0ZXJzIHRoZSBcIi1WLCAtLXZlcnNpb25cIiBmbGFnXG4gICAqIHdoaWNoIHdpbGwgcHJpbnQgdGhlIHZlcnNpb24gbnVtYmVyIHdoZW4gcGFzc2VkLlxuICAgKlxuICAgKiBZb3UgY2FuIG9wdGlvbmFsbHkgc3VwcGx5IHRoZSAgZmxhZ3MgYW5kIGRlc2NyaXB0aW9uIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZsYWdzXVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHt0aGlzIHwgc3RyaW5nfSBgdGhpc2AgY29tbWFuZCBmb3IgY2hhaW5pbmcsIG9yIHZlcnNpb24gc3RyaW5nIGlmIG5vIGFyZ3VtZW50c1xuICAgKi9cblxuICB2ZXJzaW9uKHN0ciwgZmxhZ3MsIGRlc2NyaXB0aW9uKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgICB0aGlzLl92ZXJzaW9uID0gc3RyO1xuICAgIGZsYWdzID0gZmxhZ3MgfHwgJy1WLCAtLXZlcnNpb24nO1xuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgJ291dHB1dCB0aGUgdmVyc2lvbiBudW1iZXInO1xuICAgIGNvbnN0IHZlcnNpb25PcHRpb24gPSB0aGlzLmNyZWF0ZU9wdGlvbihmbGFncywgZGVzY3JpcHRpb24pO1xuICAgIHRoaXMuX3ZlcnNpb25PcHRpb25OYW1lID0gdmVyc2lvbk9wdGlvbi5hdHRyaWJ1dGVOYW1lKCk7XG4gICAgdGhpcy5vcHRpb25zLnB1c2godmVyc2lvbk9wdGlvbik7XG4gICAgdGhpcy5vbignb3B0aW9uOicgKyB2ZXJzaW9uT3B0aW9uLm5hbWUoKSwgKCkgPT4ge1xuICAgICAgdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbi53cml0ZU91dChgJHtzdHJ9XFxuYCk7XG4gICAgICB0aGlzLl9leGl0KDAsICdjb21tYW5kZXIudmVyc2lvbicsIHN0cik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVzY3JpcHRpb24gdG8gYHN0cmAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZ3NEZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7c3RyaW5nfENvbW1hbmR9XG4gICAqL1xuICBkZXNjcmlwdGlvbihzdHIsIGFyZ3NEZXNjcmlwdGlvbikge1xuICAgIGlmIChzdHIgPT09IHVuZGVmaW5lZCAmJiBhcmdzRGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gc3RyO1xuICAgIHRoaXMuX2FyZ3NEZXNjcmlwdGlvbiA9IGFyZ3NEZXNjcmlwdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGFuIGFsaWFzIGZvciB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIG1vcmUgdGhhbiBvbmNlIHRvIGFkZCBtdWx0aXBsZSBhbGlhc2VzLiBPbmx5IHRoZSBmaXJzdCBhbGlhcyBpcyBzaG93biBpbiB0aGUgYXV0by1nZW5lcmF0ZWQgaGVscC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthbGlhc11cbiAgICogQHJldHVybiB7c3RyaW5nfENvbW1hbmR9XG4gICAqL1xuXG4gIGFsaWFzKGFsaWFzKSB7XG4gICAgaWYgKGFsaWFzID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9hbGlhc2VzWzBdOyAvLyBqdXN0IHJldHVybiBmaXJzdCwgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cbiAgICBsZXQgY29tbWFuZCA9IHRoaXM7XG4gICAgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoICE9PSAwICYmIHRoaXMuY29tbWFuZHNbdGhpcy5jb21tYW5kcy5sZW5ndGggLSAxXS5fZXhlY3V0YWJsZUhhbmRsZXIpIHtcbiAgICAgIC8vIGFzc3VtZSBhZGRpbmcgYWxpYXMgZm9yIGxhc3QgYWRkZWQgZXhlY3V0YWJsZSBzdWJjb21tYW5kLCByYXRoZXIgdGhhbiB0aGlzXG4gICAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kc1t0aGlzLmNvbW1hbmRzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIGlmIChhbGlhcyA9PT0gY29tbWFuZC5fbmFtZSkgdGhyb3cgbmV3IEVycm9yKCdDb21tYW5kIGFsaWFzIGNhblxcJ3QgYmUgdGhlIHNhbWUgYXMgaXRzIG5hbWUnKTtcblxuICAgIGNvbW1hbmQuX2FsaWFzZXMucHVzaChhbGlhcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCBhbGlhc2VzIGZvciB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogT25seSB0aGUgZmlyc3QgYWxpYXMgaXMgc2hvd24gaW4gdGhlIGF1dG8tZ2VuZXJhdGVkIGhlbHAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFthbGlhc2VzXVxuICAgKiBAcmV0dXJuIHtzdHJpbmdbXXxDb21tYW5kfVxuICAgKi9cblxuICBhbGlhc2VzKGFsaWFzZXMpIHtcbiAgICAvLyBHZXR0ZXIgZm9yIHRoZSBhcnJheSBvZiBhbGlhc2VzIGlzIHRoZSBtYWluIHJlYXNvbiBmb3IgaGF2aW5nIGFsaWFzZXMoKSBpbiBhZGRpdGlvbiB0byBhbGlhcygpLlxuICAgIGlmIChhbGlhc2VzID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9hbGlhc2VzO1xuXG4gICAgYWxpYXNlcy5mb3JFYWNoKChhbGlhcykgPT4gdGhpcy5hbGlhcyhhbGlhcykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgLyBnZXQgdGhlIGNvbW1hbmQgdXNhZ2UgYHN0cmAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyXVxuICAgKiBAcmV0dXJuIHtTdHJpbmd8Q29tbWFuZH1cbiAgICovXG5cbiAgdXNhZ2Uoc3RyKSB7XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5fdXNhZ2UpIHJldHVybiB0aGlzLl91c2FnZTtcblxuICAgICAgY29uc3QgYXJncyA9IHRoaXMuX2FyZ3MubWFwKChhcmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGh1bWFuUmVhZGFibGVBcmdOYW1lKGFyZyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBbXS5jb25jYXQoXG4gICAgICAgICh0aGlzLm9wdGlvbnMubGVuZ3RoIHx8IHRoaXMuX2hhc0hlbHBPcHRpb24gPyAnW29wdGlvbnNdJyA6IFtdKSxcbiAgICAgICAgKHRoaXMuY29tbWFuZHMubGVuZ3RoID8gJ1tjb21tYW5kXScgOiBbXSksXG4gICAgICAgICh0aGlzLl9hcmdzLmxlbmd0aCA/IGFyZ3MgOiBbXSlcbiAgICAgICkuam9pbignICcpO1xuICAgIH1cblxuICAgIHRoaXMuX3VzYWdlID0gc3RyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IHRoZSBuYW1lIG9mIHRoZSBjb21tYW5kXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyXVxuICAgKiBAcmV0dXJuIHtzdHJpbmd8Q29tbWFuZH1cbiAgICovXG5cbiAgbmFtZShzdHIpIHtcbiAgICBpZiAoc3RyID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX25hbWUgPSBzdHI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBwcm9ncmFtIGhlbHAgZG9jdW1lbnRhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHt7IGVycm9yOiBib29sZWFuIH19IFtjb250ZXh0T3B0aW9uc10gLSBwYXNzIHtlcnJvcjp0cnVlfSB0byB3cmFwIGZvciBzdGRlcnIgaW5zdGVhZCBvZiBzdGRvdXRcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cblxuICBoZWxwSW5mb3JtYXRpb24oY29udGV4dE9wdGlvbnMpIHtcbiAgICBjb25zdCBoZWxwZXIgPSB0aGlzLmNyZWF0ZUhlbHAoKTtcbiAgICBpZiAoaGVscGVyLmhlbHBXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoZWxwZXIuaGVscFdpZHRoID0gKGNvbnRleHRPcHRpb25zICYmIGNvbnRleHRPcHRpb25zLmVycm9yKSA/IHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24uZ2V0RXJySGVscFdpZHRoKCkgOiB0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLmdldE91dEhlbHBXaWR0aCgpO1xuICAgIH1cbiAgICByZXR1cm4gaGVscGVyLmZvcm1hdEhlbHAodGhpcywgaGVscGVyKTtcbiAgfTtcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIF9nZXRIZWxwQ29udGV4dChjb250ZXh0T3B0aW9ucykge1xuICAgIGNvbnRleHRPcHRpb25zID0gY29udGV4dE9wdGlvbnMgfHwge307XG4gICAgY29uc3QgY29udGV4dCA9IHsgZXJyb3I6ICEhY29udGV4dE9wdGlvbnMuZXJyb3IgfTtcbiAgICBsZXQgd3JpdGU7XG4gICAgaWYgKGNvbnRleHQuZXJyb3IpIHtcbiAgICAgIHdyaXRlID0gKGFyZykgPT4gdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbi53cml0ZUVycihhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3cml0ZSA9IChhcmcpID0+IHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ud3JpdGVPdXQoYXJnKTtcbiAgICB9XG4gICAgY29udGV4dC53cml0ZSA9IGNvbnRleHRPcHRpb25zLndyaXRlIHx8IHdyaXRlO1xuICAgIGNvbnRleHQuY29tbWFuZCA9IHRoaXM7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogT3V0cHV0IGhlbHAgaW5mb3JtYXRpb24gZm9yIHRoaXMgY29tbWFuZC5cbiAgICpcbiAgICogT3V0cHV0cyBidWlsdC1pbiBoZWxwLCBhbmQgY3VzdG9tIHRleHQgYWRkZWQgdXNpbmcgYC5hZGRIZWxwVGV4dCgpYC5cbiAgICpcbiAgICogQHBhcmFtIHt7IGVycm9yOiBib29sZWFuIH0gfCBGdW5jdGlvbn0gW2NvbnRleHRPcHRpb25zXSAtIHBhc3Mge2Vycm9yOnRydWV9IHRvIHdyaXRlIHRvIHN0ZGVyciBpbnN0ZWFkIG9mIHN0ZG91dFxuICAgKi9cblxuICBvdXRwdXRIZWxwKGNvbnRleHRPcHRpb25zKSB7XG4gICAgbGV0IGRlcHJlY2F0ZWRDYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNvbnRleHRPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkZXByZWNhdGVkQ2FsbGJhY2sgPSBjb250ZXh0T3B0aW9ucztcbiAgICAgIGNvbnRleHRPcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fZ2V0SGVscENvbnRleHQoY29udGV4dE9wdGlvbnMpO1xuXG4gICAgY29uc3QgZ3JvdXBMaXN0ZW5lcnMgPSBbXTtcbiAgICBsZXQgY29tbWFuZCA9IHRoaXM7XG4gICAgd2hpbGUgKGNvbW1hbmQpIHtcbiAgICAgIGdyb3VwTGlzdGVuZXJzLnB1c2goY29tbWFuZCk7IC8vIG9yZGVyZWQgZnJvbSBjdXJyZW50IGNvbW1hbmQgdG8gcm9vdFxuICAgICAgY29tbWFuZCA9IGNvbW1hbmQucGFyZW50O1xuICAgIH1cblxuICAgIGdyb3VwTGlzdGVuZXJzLnNsaWNlKCkucmV2ZXJzZSgpLmZvckVhY2goY29tbWFuZCA9PiBjb21tYW5kLmVtaXQoJ2JlZm9yZUFsbEhlbHAnLCBjb250ZXh0KSk7XG4gICAgdGhpcy5lbWl0KCdiZWZvcmVIZWxwJywgY29udGV4dCk7XG5cbiAgICBsZXQgaGVscEluZm9ybWF0aW9uID0gdGhpcy5oZWxwSW5mb3JtYXRpb24oY29udGV4dCk7XG4gICAgaWYgKGRlcHJlY2F0ZWRDYWxsYmFjaykge1xuICAgICAgaGVscEluZm9ybWF0aW9uID0gZGVwcmVjYXRlZENhbGxiYWNrKGhlbHBJbmZvcm1hdGlvbik7XG4gICAgICBpZiAodHlwZW9mIGhlbHBJbmZvcm1hdGlvbiAhPT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0J1ZmZlcihoZWxwSW5mb3JtYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb3V0cHV0SGVscCBjYWxsYmFjayBtdXN0IHJldHVybiBhIHN0cmluZyBvciBhIEJ1ZmZlcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0LndyaXRlKGhlbHBJbmZvcm1hdGlvbik7XG5cbiAgICB0aGlzLmVtaXQodGhpcy5faGVscExvbmdGbGFnKTsgLy8gZGVwcmVjYXRlZFxuICAgIHRoaXMuZW1pdCgnYWZ0ZXJIZWxwJywgY29udGV4dCk7XG4gICAgZ3JvdXBMaXN0ZW5lcnMuZm9yRWFjaChjb21tYW5kID0+IGNvbW1hbmQuZW1pdCgnYWZ0ZXJBbGxIZWxwJywgY29udGV4dCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHBhc3MgaW4gZmxhZ3MgYW5kIGEgZGVzY3JpcHRpb24gdG8gb3ZlcnJpZGUgdGhlIGhlbHBcbiAgICogZmxhZ3MgYW5kIGhlbHAgZGVzY3JpcHRpb24gZm9yIHlvdXIgY29tbWFuZC4gUGFzcyBpbiBmYWxzZSB0b1xuICAgKiBkaXNhYmxlIHRoZSBidWlsdC1pbiBoZWxwIG9wdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBib29sZWFufSBbZmxhZ3NdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cblxuICBoZWxwT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbikge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5faGFzSGVscE9wdGlvbiA9IGZsYWdzO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMuX2hlbHBGbGFncyA9IGZsYWdzIHx8IHRoaXMuX2hlbHBGbGFncztcbiAgICB0aGlzLl9oZWxwRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiB8fCB0aGlzLl9oZWxwRGVzY3JpcHRpb247XG5cbiAgICBjb25zdCBoZWxwRmxhZ3MgPSBfcGFyc2VPcHRpb25GbGFncyh0aGlzLl9oZWxwRmxhZ3MpO1xuICAgIHRoaXMuX2hlbHBTaG9ydEZsYWcgPSBoZWxwRmxhZ3Muc2hvcnRGbGFnO1xuICAgIHRoaXMuX2hlbHBMb25nRmxhZyA9IGhlbHBGbGFncy5sb25nRmxhZztcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPdXRwdXQgaGVscCBpbmZvcm1hdGlvbiBhbmQgZXhpdC5cbiAgICpcbiAgICogT3V0cHV0cyBidWlsdC1pbiBoZWxwLCBhbmQgY3VzdG9tIHRleHQgYWRkZWQgdXNpbmcgYC5hZGRIZWxwVGV4dCgpYC5cbiAgICpcbiAgICogQHBhcmFtIHt7IGVycm9yOiBib29sZWFuIH19IFtjb250ZXh0T3B0aW9uc10gLSBwYXNzIHtlcnJvcjp0cnVlfSB0byB3cml0ZSB0byBzdGRlcnIgaW5zdGVhZCBvZiBzdGRvdXRcbiAgICovXG5cbiAgaGVscChjb250ZXh0T3B0aW9ucykge1xuICAgIHRoaXMub3V0cHV0SGVscChjb250ZXh0T3B0aW9ucyk7XG4gICAgbGV0IGV4aXRDb2RlID0gcHJvY2Vzcy5leGl0Q29kZSB8fCAwO1xuICAgIGlmIChleGl0Q29kZSA9PT0gMCAmJiBjb250ZXh0T3B0aW9ucyAmJiB0eXBlb2YgY29udGV4dE9wdGlvbnMgIT09ICdmdW5jdGlvbicgJiYgY29udGV4dE9wdGlvbnMuZXJyb3IpIHtcbiAgICAgIGV4aXRDb2RlID0gMTtcbiAgICB9XG4gICAgLy8gbWVzc2FnZTogZG8gbm90IGhhdmUgYWxsIGRpc3BsYXllZCB0ZXh0IGF2YWlsYWJsZSBzbyBvbmx5IHBhc3NpbmcgcGxhY2Vob2xkZXIuXG4gICAgdGhpcy5fZXhpdChleGl0Q29kZSwgJ2NvbW1hbmRlci5oZWxwJywgJyhvdXRwdXRIZWxwKScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYWRkaXRpb25hbCB0ZXh0IHRvIGJlIGRpc3BsYXllZCB3aXRoIHRoZSBidWlsdC1pbiBoZWxwLlxuICAgKlxuICAgKiBQb3NpdGlvbiBpcyAnYmVmb3JlJyBvciAnYWZ0ZXInIHRvIGFmZmVjdCBqdXN0IHRoaXMgY29tbWFuZCxcbiAgICogYW5kICdiZWZvcmVBbGwnIG9yICdhZnRlckFsbCcgdG8gYWZmZWN0IHRoaXMgY29tbWFuZCBhbmQgYWxsIGl0cyBzdWJjb21tYW5kcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uIC0gYmVmb3JlIG9yIGFmdGVyIGJ1aWx0LWluIGhlbHBcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBGdW5jdGlvbn0gdGV4dCAtIHN0cmluZyB0byBhZGQsIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgc3RyaW5nXG4gICAqIEByZXR1cm4ge0NvbW1hbmR9IGB0aGlzYCBjb21tYW5kIGZvciBjaGFpbmluZ1xuICAgKi9cbiAgYWRkSGVscFRleHQocG9zaXRpb24sIHRleHQpIHtcbiAgICBjb25zdCBhbGxvd2VkVmFsdWVzID0gWydiZWZvcmVBbGwnLCAnYmVmb3JlJywgJ2FmdGVyJywgJ2FmdGVyQWxsJ107XG4gICAgaWYgKCFhbGxvd2VkVmFsdWVzLmluY2x1ZGVzKHBvc2l0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHZhbHVlIGZvciBwb3NpdGlvbiB0byBhZGRIZWxwVGV4dC5cbkV4cGVjdGluZyBvbmUgb2YgJyR7YWxsb3dlZFZhbHVlcy5qb2luKFwiJywgJ1wiKX0nYCk7XG4gICAgfVxuICAgIGNvbnN0IGhlbHBFdmVudCA9IGAke3Bvc2l0aW9ufUhlbHBgO1xuICAgIHRoaXMub24oaGVscEV2ZW50LCAoY29udGV4dCkgPT4ge1xuICAgICAgbGV0IGhlbHBTdHI7XG4gICAgICBpZiAodHlwZW9mIHRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaGVscFN0ciA9IHRleHQoeyBlcnJvcjogY29udGV4dC5lcnJvciwgY29tbWFuZDogY29udGV4dC5jb21tYW5kIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGVscFN0ciA9IHRleHQ7XG4gICAgICB9XG4gICAgICAvLyBJZ25vcmUgZmFsc3kgdmFsdWUgd2hlbiBub3RoaW5nIHRvIG91dHB1dC5cbiAgICAgIGlmIChoZWxwU3RyKSB7XG4gICAgICAgIGNvbnRleHQud3JpdGUoYCR7aGVscFN0cn1cXG5gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuLyoqXG4gKiBFeHBvc2UgdGhlIHJvb3QgY29tbWFuZC5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBuZXcgQ29tbWFuZCgpO1xuZXhwb3J0cy5wcm9ncmFtID0gZXhwb3J0czsgLy8gTW9yZSBleHBsaWNpdCBhY2Nlc3MgdG8gZ2xvYmFsIGNvbW1hbmQuXG5cbi8qKlxuICogRXhwb3NlIGNsYXNzZXNcbiAqL1xuXG5leHBvcnRzLkNvbW1hbmQgPSBDb21tYW5kO1xuZXhwb3J0cy5PcHRpb24gPSBPcHRpb247XG5leHBvcnRzLkNvbW1hbmRlckVycm9yID0gQ29tbWFuZGVyRXJyb3I7XG5leHBvcnRzLkludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yID0gSW52YWxpZE9wdGlvbkFyZ3VtZW50RXJyb3I7XG5leHBvcnRzLkhlbHAgPSBIZWxwO1xuXG4vKipcbiAqIENhbWVsLWNhc2UgdGhlIGdpdmVuIGBmbGFnYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmbGFnXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjYW1lbGNhc2UoZmxhZykge1xuICByZXR1cm4gZmxhZy5zcGxpdCgnLScpLnJlZHVjZSgoc3RyLCB3b3JkKSA9PiB7XG4gICAgcmV0dXJuIHN0ciArIHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIE91dHB1dCBoZWxwIGluZm9ybWF0aW9uIGlmIGhlbHAgZmxhZ3Mgc3BlY2lmaWVkXG4gKlxuICogQHBhcmFtIHtDb21tYW5kfSBjbWQgLSBjb21tYW5kIHRvIG91dHB1dCBoZWxwIGZvclxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIGFycmF5IG9mIG9wdGlvbnMgdG8gc2VhcmNoIGZvciBoZWxwIGZsYWdzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBvdXRwdXRIZWxwSWZSZXF1ZXN0ZWQoY21kLCBhcmdzKSB7XG4gIGNvbnN0IGhlbHBPcHRpb24gPSBjbWQuX2hhc0hlbHBPcHRpb24gJiYgYXJncy5maW5kKGFyZyA9PiBhcmcgPT09IGNtZC5faGVscExvbmdGbGFnIHx8IGFyZyA9PT0gY21kLl9oZWxwU2hvcnRGbGFnKTtcbiAgaWYgKGhlbHBPcHRpb24pIHtcbiAgICBjbWQub3V0cHV0SGVscCgpO1xuICAgIC8vIChEbyBub3QgaGF2ZSBhbGwgZGlzcGxheWVkIHRleHQgYXZhaWxhYmxlIHNvIG9ubHkgcGFzc2luZyBwbGFjZWhvbGRlci4pXG4gICAgY21kLl9leGl0KDAsICdjb21tYW5kZXIuaGVscERpc3BsYXllZCcsICcob3V0cHV0SGVscCknKTtcbiAgfVxufVxuXG4vKipcbiAqIFRha2VzIGFuIGFyZ3VtZW50IGFuZCByZXR1cm5zIGl0cyBodW1hbiByZWFkYWJsZSBlcXVpdmFsZW50IGZvciBoZWxwIHVzYWdlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGh1bWFuUmVhZGFibGVBcmdOYW1lKGFyZykge1xuICBjb25zdCBuYW1lT3V0cHV0ID0gYXJnLm5hbWUgKyAoYXJnLnZhcmlhZGljID09PSB0cnVlID8gJy4uLicgOiAnJyk7XG5cbiAgcmV0dXJuIGFyZy5yZXF1aXJlZFxuICAgID8gJzwnICsgbmFtZU91dHB1dCArICc+J1xuICAgIDogJ1snICsgbmFtZU91dHB1dCArICddJztcbn1cblxuLyoqXG4gKiBQYXJzZSB0aGUgc2hvcnQgYW5kIGxvbmcgZmxhZyBvdXQgb2Ygc29tZXRoaW5nIGxpa2UgJy1tLC0tbWl4ZWQgPHZhbHVlPidcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBfcGFyc2VPcHRpb25GbGFncyhmbGFncykge1xuICBsZXQgc2hvcnRGbGFnO1xuICBsZXQgbG9uZ0ZsYWc7XG4gIC8vIFVzZSBvcmlnaW5hbCB2ZXJ5IGxvb3NlIHBhcnNpbmcgdG8gbWFpbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIG5vdyxcbiAgLy8gd2hpY2ggYWxsb3dlZCBmb3IgZXhhbXBsZSB1bmludGVuZGVkIGAtc3csIC0tc2hvcnQtd29yZGAgW3NpY10uXG4gIGNvbnN0IGZsYWdQYXJ0cyA9IGZsYWdzLnNwbGl0KC9bIHwsXSsvKTtcbiAgaWYgKGZsYWdQYXJ0cy5sZW5ndGggPiAxICYmICEvXltbPF0vLnRlc3QoZmxhZ1BhcnRzWzFdKSkgc2hvcnRGbGFnID0gZmxhZ1BhcnRzLnNoaWZ0KCk7XG4gIGxvbmdGbGFnID0gZmxhZ1BhcnRzLnNoaWZ0KCk7XG4gIC8vIEFkZCBzdXBwb3J0IGZvciBsb25lIHNob3J0IGZsYWcgd2l0aG91dCBzaWduaWZpY2FudGx5IGNoYW5naW5nIHBhcnNpbmchXG4gIGlmICghc2hvcnRGbGFnICYmIC9eLVteLV0kLy50ZXN0KGxvbmdGbGFnKSkge1xuICAgIHNob3J0RmxhZyA9IGxvbmdGbGFnO1xuICAgIGxvbmdGbGFnID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiB7IHNob3J0RmxhZywgbG9uZ0ZsYWcgfTtcbn1cblxuLyoqXG4gKiBTY2FuIGFyZ3VtZW50cyBhbmQgaW5jcmVtZW50IHBvcnQgbnVtYmVyIGZvciBpbnNwZWN0IGNhbGxzICh0byBhdm9pZCBjb25mbGljdHMgd2hlbiBzcGF3bmluZyBuZXcgY29tbWFuZCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJncyAtIGFycmF5IG9mIGFyZ3VtZW50cyBmcm9tIG5vZGUuZXhlY0FyZ3ZcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGluY3JlbWVudE5vZGVJbnNwZWN0b3JQb3J0KGFyZ3MpIHtcbiAgLy8gVGVzdGluZyBmb3IgdGhlc2Ugb3B0aW9uczpcbiAgLy8gIC0taW5zcGVjdFs9W2hvc3Q6XXBvcnRdXG4gIC8vICAtLWluc3BlY3QtYnJrWz1baG9zdDpdcG9ydF1cbiAgLy8gIC0taW5zcGVjdC1wb3J0PVtob3N0Ol1wb3J0XG4gIHJldHVybiBhcmdzLm1hcCgoYXJnKSA9PiB7XG4gICAgaWYgKCFhcmcuc3RhcnRzV2l0aCgnLS1pbnNwZWN0JykpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuICAgIGxldCBkZWJ1Z09wdGlvbjtcbiAgICBsZXQgZGVidWdIb3N0ID0gJzEyNy4wLjAuMSc7XG4gICAgbGV0IGRlYnVnUG9ydCA9ICc5MjI5JztcbiAgICBsZXQgbWF0Y2g7XG4gICAgaWYgKChtYXRjaCA9IGFyZy5tYXRjaCgvXigtLWluc3BlY3QoLWJyayk/KSQvKSkgIT09IG51bGwpIHtcbiAgICAgIC8vIGUuZy4gLS1pbnNwZWN0XG4gICAgICBkZWJ1Z09wdGlvbiA9IG1hdGNoWzFdO1xuICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gYXJnLm1hdGNoKC9eKC0taW5zcGVjdCgtYnJrfC1wb3J0KT8pPShbXjpdKykkLykpICE9PSBudWxsKSB7XG4gICAgICBkZWJ1Z09wdGlvbiA9IG1hdGNoWzFdO1xuICAgICAgaWYgKC9eXFxkKyQvLnRlc3QobWF0Y2hbM10pKSB7XG4gICAgICAgIC8vIGUuZy4gLS1pbnNwZWN0PTEyMzRcbiAgICAgICAgZGVidWdQb3J0ID0gbWF0Y2hbM107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlLmcuIC0taW5zcGVjdD1sb2NhbGhvc3RcbiAgICAgICAgZGVidWdIb3N0ID0gbWF0Y2hbM107XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgobWF0Y2ggPSBhcmcubWF0Y2goL14oLS1pbnNwZWN0KC1icmt8LXBvcnQpPyk9KFteOl0rKTooXFxkKykkLykpICE9PSBudWxsKSB7XG4gICAgICAvLyBlLmcuIC0taW5zcGVjdD1sb2NhbGhvc3Q6MTIzNFxuICAgICAgZGVidWdPcHRpb24gPSBtYXRjaFsxXTtcbiAgICAgIGRlYnVnSG9zdCA9IG1hdGNoWzNdO1xuICAgICAgZGVidWdQb3J0ID0gbWF0Y2hbNF07XG4gICAgfVxuXG4gICAgaWYgKGRlYnVnT3B0aW9uICYmIGRlYnVnUG9ydCAhPT0gJzAnKSB7XG4gICAgICByZXR1cm4gYCR7ZGVidWdPcHRpb259PSR7ZGVidWdIb3N0fToke3BhcnNlSW50KGRlYnVnUG9ydCkgKyAxfWA7XG4gICAgfVxuICAgIHJldHVybiBhcmc7XG4gIH0pO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX187XG5cbiIsIiIsIi8vIG1vZHVsZSBjYWNoZSBhcmUgdXNlZCBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2xpYi9pbmRleC50c1wiKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==